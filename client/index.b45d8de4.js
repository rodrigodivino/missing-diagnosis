import{w as t,S as n,i as e,s as r,e as i,a,b as o,c as l,d as s,f as c,g as u,n as h,h as f,t as d,j as g,k as p,l as m,m as y,o as v,r as w,p as x,q as b,u as _,v as M,x as $,y as k,z as E,A,B as N,C as z,D as V,E as C,F as S,G as T,H as P,I as j,J as q,K as O,L as R,M as I,N as B,O as D}from"./client.49636056.js";import{r as L,b as F,t as U,a as H,c as X,s as W,m as Y,d as K,e as Z,f as G,g as Q,h as J}from"./index.85998b23.js";const tt=t(1800),nt=t(900);var et="http://www.w3.org/1999/xhtml",rt={svg:"http://www.w3.org/2000/svg",xhtml:et,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function it(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),rt.hasOwnProperty(n)?{space:rt[n],local:t}:t}function at(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===et&&n.documentElement.namespaceURI===et?n.createElement(t):n.createElementNS(e,t)}}function ot(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function lt(t){var n=it(t);return(n.local?ot:at)(n)}function st(){}function ct(t){return null==t?st:function(){return this.querySelector(t)}}function ut(){return[]}function ht(t){return null==t?ut:function(){return this.querySelectorAll(t)}}function ft(t){return function(){return this.matches(t)}}function dt(t){return new Array(t.length)}function gt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}gt.prototype={constructor:gt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function pt(t,n,e,r,i,a){for(var o,l=0,s=n.length,c=a.length;l<c;++l)(o=n[l])?(o.__data__=a[l],r[l]=o):e[l]=new gt(t,a[l]);for(;l<s;++l)(o=n[l])&&(i[l]=o)}function mt(t,n,e,r,i,a,o){var l,s,c,u={},h=n.length,f=a.length,d=new Array(h);for(l=0;l<h;++l)(s=n[l])&&(d[l]=c="$"+o.call(s,s.__data__,l,n),c in u?i[l]=s:u[c]=s);for(l=0;l<f;++l)(s=u[c="$"+o.call(t,a[l],l,a)])?(r[l]=s,s.__data__=a[l],u[c]=null):e[l]=new gt(t,a[l]);for(l=0;l<h;++l)(s=n[l])&&u[d[l]]===s&&(i[l]=s)}function yt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function vt(t){return function(){this.removeAttribute(t)}}function wt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xt(t,n){return function(){this.setAttribute(t,n)}}function bt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function _t(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Mt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function $t(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function kt(t){return function(){this.style.removeProperty(t)}}function Et(t,n,e){return function(){this.style.setProperty(t,n,e)}}function At(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Nt(t,n){return t.style.getPropertyValue(n)||$t(t).getComputedStyle(t,null).getPropertyValue(n)}function zt(t){return function(){delete this[t]}}function Vt(t,n){return function(){this[t]=n}}function Ct(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function St(t){return t.trim().split(/^|\s+/)}function Tt(t){return t.classList||new Pt(t)}function Pt(t){this._node=t,this._names=St(t.getAttribute("class")||"")}function jt(t,n){for(var e=Tt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function qt(t,n){for(var e=Tt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ot(t){return function(){jt(this,t)}}function Rt(t){return function(){qt(this,t)}}function It(t,n){return function(){(n.apply(this,arguments)?jt:qt)(this,t)}}function Bt(){this.textContent=""}function Dt(t){return function(){this.textContent=t}}function Lt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Ft(){this.innerHTML=""}function Ut(t){return function(){this.innerHTML=t}}function Ht(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Xt(){this.nextSibling&&this.parentNode.appendChild(this)}function Wt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yt(){return null}function Kt(){var t=this.parentNode;t&&t.removeChild(this)}function Zt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Gt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}Pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Qt={},Jt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Qt={mouseenter:"mouseover",mouseleave:"mouseout"}));function tn(t,n,e){return t=nn(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function nn(t,n,e){return function(r){var i=Jt;Jt=r;try{t.call(this,this.__data__,n,e)}finally{Jt=i}}}function en(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function rn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function an(t,n,e){var r=Qt.hasOwnProperty(t.type)?tn:nn;return function(i,a,o){var l,s=this.__on,c=r(n,a,o);if(s)for(var u=0,h=s.length;u<h;++u)if((l=s[u]).type===t.type&&l.name===t.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=e),void(l.value=n);this.addEventListener(t.type,c,e),l={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(l):this.__on=[l]}}function on(t,n,e,r){var i=Jt;t.sourceEvent=Jt,Jt=t;try{return n.apply(e,r)}finally{Jt=i}}function ln(t,n,e){var r=$t(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function sn(t,n){return function(){return ln(this,t,n)}}function cn(t,n){return function(){return ln(this,t,n.apply(this,arguments))}}var un=[null];function hn(t,n){this._groups=t,this._parents=n}function fn(){return new hn([[document.documentElement]],un)}function dn(t){return"string"==typeof t?new hn([[document.querySelector(t)]],[document.documentElement]):new hn([[t]],un)}function gn(){for(var t,n=Jt;t=n.sourceEvent;)n=t;return n}function pn(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function mn(t){var n=gn();return n.changedTouches&&(n=n.changedTouches[0]),pn(t,n)}function yn(t,n,e){arguments.length<3&&(e=n,n=gn().changedTouches);for(var r,i=0,a=n?n.length:0;i<a;++i)if((r=n[i]).identifier===e)return pn(t,r);return null}function vn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}hn.prototype=fn.prototype={constructor:hn,select:function(t){"function"!=typeof t&&(t=ct(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,l=n[i],s=l.length,c=r[i]=new Array(s),u=0;u<s;++u)(a=l[u])&&(o=t.call(a,a.__data__,u,l))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new hn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=ht(t));for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,l=n[a],s=l.length,c=0;c<s;++c)(o=l[c])&&(r.push(t.call(o,o.__data__,c,l)),i.push(o));return new hn(r,i)},filter:function(t){"function"!=typeof t&&(t=ft(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],l=o.length,s=r[i]=[],c=0;c<l;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&s.push(a);return new hn(r,this._parents)},data:function(t,n){if(!t)return g=new Array(this.size()),u=-1,this.each((function(t){g[++u]=t})),g;var e,r=n?mt:pt,i=this._parents,a=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var o=a.length,l=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var h=i[u],f=a[u],d=f.length,g=t.call(h,h&&h.__data__,u,i),p=g.length,m=s[u]=new Array(p),y=l[u]=new Array(p);r(h,f,m,y,c[u]=new Array(d),g,n);for(var v,w,x=0,b=0;x<p;++x)if(v=m[x]){for(x>=b&&(b=x+1);!(w=y[b])&&++b<p;);v._next=w||null}}return(l=new hn(l,i))._enter=s,l._exit=c,l},enter:function(){return new hn(this._enter||this._groups.map(dt),this._parents)},exit:function(){return new hn(this._exit||this._groups.map(dt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,c=n[l],u=e[l],h=c.length,f=o[l]=new Array(h),d=0;d<h;++d)(s=c[d]||u[d])&&(f[d]=s);for(;l<r;++l)o[l]=n[l];return new hn(o,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=yt);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,l=e[a],s=l.length,c=i[a]=new Array(s),u=0;u<s;++u)(o=l[u])&&(c[u]=o);c.sort(n)}return new hn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=it(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?wt:vt:"function"==typeof n?e.local?Mt:_t:e.local?bt:xt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?kt:"function"==typeof n?At:Et)(t,n,null==e?"":e)):Nt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?zt:"function"==typeof n?Ct:Vt)(t,n)):this.node()[t]},classed:function(t,n){var e=St(t+"");if(arguments.length<2){for(var r=Tt(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?It:n?Ot:Rt)(e,n))},text:function(t){return arguments.length?this.each(null==t?Bt:("function"==typeof t?Lt:Dt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ft:("function"==typeof t?Ht:Ut)(t)):this.node().innerHTML},raise:function(){return this.each(Xt)},lower:function(){return this.each(Wt)},append:function(t){var n="function"==typeof t?t:lt(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:lt(t),r=null==n?Yt:"function"==typeof n?n:ct(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Kt)},clone:function(t){return this.select(t?Gt:Zt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=en(t+""),o=a.length;if(!(arguments.length<2)){for(l=n?an:rn,null==e&&(e=!1),r=0;r<o;++r)this.each(l(a[r],n,e));return this}var l=this.node().__on;if(l)for(var s,c=0,u=l.length;c<u;++c)for(r=0,s=l[c];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?cn:sn)(t,n))}};function wn(){}function xn(t,n){var e=new wn;if(t instanceof wn)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==n)for(;++i<a;)e.set(i,t[i]);else for(;++i<a;)e.set(n(r=t[i],i,t),r)}else if(t)for(var o in t)e.set(o,t[o]);return e}function bn(){}wn.prototype=xn.prototype={constructor:wn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var _n=xn.prototype;bn.prototype=function(t,n){var e=new bn;if(t instanceof bn)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:bn,has:_n.has,add:function(t){return this["$"+(t+="")]=t,this},remove:_n.remove,clear:_n.clear,values:_n.keys,size:_n.size,empty:_n.empty,each:_n.each};var Mn=Array.prototype,$n=Mn.map,kn=Mn.slice,En={name:"implicit"};function An(){var t=xn(),n=[],e=[],r=En;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==En)return r;t.set(a,o=n.push(i))}return e[(o-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=xn();for(var r,a,o=-1,l=e.length;++o<l;)t.has(a=(r=e[o])+"")||t.set(a,n.push(r));return i},i.range=function(t){return arguments.length?(e=kn.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return An(n,e).unknown(r)},vn.apply(i,arguments),i}function Nn(){var t,n,e=An().unknown(void 0),r=e.domain,i=e.range,a=[0,1],o=!1,l=0,s=0,c=.5;function u(){var e=r().length,u=a[1]<a[0],h=a[u-0],f=a[1-u];t=(f-h)/Math.max(1,e-l+2*s),o&&(t=Math.floor(t)),h+=(f-h-t*(e-l))*c,n=t*(1-l),o&&(h=Math.round(h),n=Math.round(n));var d=L(e).map((function(n){return h+t*n}));return i(u?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),u()):r()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],u()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,u()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,u()):o},e.padding=function(t){return arguments.length?(l=Math.min(1,s=+t),u()):l},e.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),u()):l},e.paddingOuter=function(t){return arguments.length?(s=+t,u()):s},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u()):c},e.copy=function(){return Nn(r(),a).round(o).paddingInner(l).paddingOuter(s).align(c)},vn.apply(u(),arguments)}function zn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Vn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Cn(){}var Sn="\\s*([+-]?\\d+)\\s*",Tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jn=/^#([0-9a-f]{3,8})$/,qn=new RegExp("^rgb\\("+[Sn,Sn,Sn]+"\\)$"),On=new RegExp("^rgb\\("+[Pn,Pn,Pn]+"\\)$"),Rn=new RegExp("^rgba\\("+[Sn,Sn,Sn,Tn]+"\\)$"),In=new RegExp("^rgba\\("+[Pn,Pn,Pn,Tn]+"\\)$"),Bn=new RegExp("^hsl\\("+[Tn,Pn,Pn]+"\\)$"),Dn=new RegExp("^hsla\\("+[Tn,Pn,Pn,Tn]+"\\)$"),Ln={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fn(){return this.rgb().formatHex()}function Un(){return this.rgb().formatRgb()}function Hn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=jn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Xn(n):3===e?new Zn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Wn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Wn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=qn.exec(t))?new Zn(n[1],n[2],n[3],1):(n=On.exec(t))?new Zn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Rn.exec(t))?Wn(n[1],n[2],n[3],n[4]):(n=In.exec(t))?Wn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Bn.exec(t))?te(n[1],n[2]/100,n[3]/100,1):(n=Dn.exec(t))?te(n[1],n[2]/100,n[3]/100,n[4]):Ln.hasOwnProperty(t)?Xn(Ln[t]):"transparent"===t?new Zn(NaN,NaN,NaN,0):null}function Xn(t){return new Zn(t>>16&255,t>>8&255,255&t,1)}function Wn(t,n,e,r){return r<=0&&(t=n=e=NaN),new Zn(t,n,e,r)}function Yn(t){return t instanceof Cn||(t=Hn(t)),t?new Zn((t=t.rgb()).r,t.g,t.b,t.opacity):new Zn}function Kn(t,n,e,r){return 1===arguments.length?Yn(t):new Zn(t,n,e,null==r?1:r)}function Zn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Gn(){return"#"+Jn(this.r)+Jn(this.g)+Jn(this.b)}function Qn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Jn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function te(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ee(t,n,e,r)}function ne(t){if(t instanceof ee)return new ee(t.h,t.s,t.l,t.opacity);if(t instanceof Cn||(t=Hn(t)),!t)return new ee;if(t instanceof ee)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,l=a-i,s=(a+i)/2;return l?(o=n===a?(e-r)/l+6*(e<r):e===a?(r-n)/l+2:(n-e)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new ee(o,l,s,t.opacity)}function ee(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function re(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function ie(t){return function(){return t}}function ae(t){return 1==(t=+t)?oe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ie(isNaN(n)?e:n)}}function oe(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):ie(isNaN(t)?n:t)}zn(Cn,Hn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Fn,formatHex:Fn,formatHsl:function(){return ne(this).formatHsl()},formatRgb:Un,toString:Un}),zn(Zn,Kn,Vn(Cn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gn,formatHex:Gn,formatRgb:Qn,toString:Qn})),zn(ee,(function(t,n,e,r){return 1===arguments.length?ne(t):new ee(t,n,e,null==r?1:r)}),Vn(Cn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ee(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ee(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Zn(re(t>=240?t-240:t+120,i,r),re(t,i,r),re(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var le=function t(n){var e=ae(n);function r(t,n){var r=e((t=Kn(t)).r,(n=Kn(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=oe(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);var se,ce=(se=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,l=r<n-1?t[r+2]:2*a-i;return function(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}((e-r/n)*n,o,i,a,l)}},function(t){var n,e,r=t.length,i=new Array(r),a=new Array(r),o=new Array(r);for(n=0;n<r;++n)e=Kn(t[n]),i[n]=e.r||0,a[n]=e.g||0,o[n]=e.b||0;return i=se(i),a=se(a),o=se(o),e.opacity=1,function(t){return e.r=i(t),e.g=a(t),e.b=o(t),e+""}});function ue(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(e=0;e<r;++e)i[e]=t[e]*(1-a)+n[e]*a;return i}}function he(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=ve(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}function fe(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function de(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function ge(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=ve(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var pe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,me=new RegExp(pe.source,"g");function ye(t,n){var e,r,i,a=pe.lastIndex=me.lastIndex=0,o=-1,l=[],s=[];for(t+="",n+="";(e=pe.exec(t))&&(r=me.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(e=e[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:de(e,r)})),a=me.lastIndex;return a<n.length&&(i=n.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)l[(e=s[r]).i]=e.x(t);return l.join("")})}function ve(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?ie(n):("number"===i?de:"string"===i?(e=Hn(n))?(n=e,le):ye:n instanceof Hn?le:n instanceof Date?fe:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?he:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ge:de:ue))(t,n)}function we(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var xe,be,_e,Me,$e=180/Math.PI,ke={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ee(t,n,e,r,i,a){var o,l,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(l=Math.sqrt(e*e+r*r))&&(e/=l,r/=l,s/=l),t*r<n*e&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*$e,skewX:Math.atan(s)*$e,scaleX:o,scaleY:l}}function Ae(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var l=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,l){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);l.push({i:s-4,x:de(t,i)},{i:s-2,x:de(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,l,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:de(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,l,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:de(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,l,s),function(t,n,e,r,a,o){if(t!==e||n!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:de(t,e)},{i:l-2,x:de(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,s),a=o=null,function(t){for(var n,e=-1,r=s.length;++e<r;)l[(n=s[e]).i]=n.x(t);return l.join("")}}}var Ne=Ae((function(t){return"none"===t?ke:(xe||(xe=document.createElement("DIV"),be=document.documentElement,_e=document.defaultView),xe.style.transform=t,t=_e.getComputedStyle(be.appendChild(xe),null).getPropertyValue("transform"),be.removeChild(xe),Ee(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),ze=Ae((function(t){return null==t?ke:(Me||(Me=document.createElementNS("http://www.w3.org/2000/svg","g")),Me.setAttribute("transform",t),(t=Me.transform.baseVal.consolidate())?Ee((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ke)}),", ",")",")");function Ve(t){return+t}var Ce=[0,1];function Se(t){return t}function Te(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Pe(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function je(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=Te(i,r),a=e(o,a)):(r=Te(r,i),a=e(a,o)),function(t){return a(r(t))}}function qe(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=Te(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=F(t,n,1,r)-1;return a[e](i[e](n))}}function Oe(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Re(){var t,n,e,r,i,a,o=Ce,l=Ce,s=ve,c=Se;function u(){return r=Math.min(o.length,l.length)>2?qe:je,i=a=null,h}function h(n){return isNaN(n=+n)?e:(i||(i=r(o.map(t),l,s)))(t(c(n)))}return h.invert=function(e){return c(n((a||(a=r(l,o.map(t),de)))(e)))},h.domain=function(t){return arguments.length?(o=$n.call(t,Ve),c===Se||(c=Pe(o)),u()):o.slice()},h.range=function(t){return arguments.length?(l=kn.call(t),u()):l.slice()},h.rangeRound=function(t){return l=kn.call(t),s=we,u()},h.clamp=function(t){return arguments.length?(c=t?Pe(o):Se,h):c!==Se},h.interpolate=function(t){return arguments.length?(s=t,u()):s},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,u()}}function Ie(t,n){return Re()(t,n)}function Be(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function De(t){return(t=Be(Math.abs(t)))?t[1]:NaN}var Le,Fe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ue(t){if(!(n=Fe.exec(t)))throw new Error("invalid format: "+t);var n;return new He({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function He(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Xe(t,n){var e=Be(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ue.prototype=He.prototype,He.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var We={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Xe(100*t,n)},r:Xe,s:function(t,n){var e=Be(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Le=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Be(t,Math.max(0,n+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ye(t){return t}var Ke,Ze,Ge,Qe=Array.prototype.map,Je=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Ye:(n=Qe.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=n[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(t.substring(i-=l,i+l)),!((s+=l+1)>r));)l=n[o=(o+1)%n.length];return a.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Ye:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Qe.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=Ue(t)).fill,e=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,p=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(p=!0,v="g"):We[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var w="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===f?a:/[%p]/.test(v)?s:"",b=We[v],_=/[defgprs%]/.test(v);function M(t){var i,a,s,f=w,M=x;if("c"===v)M=b(t)+M,t="";else{var $=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),$&&0==+t&&"+"!==h&&($=!1),f=($?"("===h?h:c:"-"===h||"("===h?"":h)+f,M=("s"===v?Je[8+Le/3]:"")+M+($&&"("===h?")":""),_)for(i=-1,a=t.length;++i<a;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?o+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}p&&!d&&(t=r(t,1/0));var k=f.length+t.length+M.length,E=k<g?new Array(g-k+1).join(n):"";switch(p&&d&&(t=r(E+t,E.length?g-M.length:1/0),E=""),e){case"<":t=f+t+M+E;break;case"=":t=f+E+t+M;break;case"^":t=E.slice(0,k=E.length>>1)+f+t+M+E.slice(k);break;default:t=E+f+t+M}return l(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,n){var e=h(((t=Ue(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(De(n)/3))),i=Math.pow(10,-r),a=Je[8+r/3];return function(t){return e(i*t)+a}}}}function nr(t,n,e,r){var i,a=U(t,n,e);switch((r=Ue(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(De(n)/3)))-De(Math.abs(t)))}(a,o))||(r.precision=i),Ge(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,De(n)-De(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-De(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Ze(r)}function er(t){var n=t.domain;return t.ticks=function(t){var e=n();return H(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return nr(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),a=0,o=i.length-1,l=i[a],s=i[o];return s<l&&(r=l,l=s,s=r,r=a,a=o,o=r),(r=X(l,s,e))>0?(l=Math.floor(l/r)*r,s=Math.ceil(s/r)*r,r=X(l,s,e)):r<0&&(l=Math.ceil(l*r)/r,s=Math.floor(s*r)/r,r=X(l,s,e)),r>0?(i[a]=Math.floor(l/r)*r,i[o]=Math.ceil(s/r)*r,n(i)):r<0&&(i[a]=Math.ceil(l*r)/r,i[o]=Math.floor(s*r)/r,n(i)),t},t}function rr(){var t=Ie(Se,Se);return t.copy=function(){return Oe(t,rr())},vn.apply(t,arguments),er(t)}function ir(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function ar(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function or(t){return t<0?-t*t:t*t}function lr(t){var n=t(Se,Se),e=1;function r(){return 1===e?t(Se,Se):.5===e?t(ar,or):t(ir(e),ir(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},er(n)}Ke=tr({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Ze=Ke.format,Ge=Ke.formatPrefix;var sr=Array.prototype.slice;function cr(t){return t}function ur(t){return"translate("+(t+.5)+",0)"}function hr(t){return"translate(0,"+(t+.5)+")"}function fr(t){return function(n){return+t(n)}}function dr(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function gr(){return!this.__axis}function pr(t,n){var e=[],r=null,i=null,a=6,o=6,l=3,s=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",u=1===t||3===t?ur:hr;function h(h){var f=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):cr:i,g=Math.max(a,0)+l,p=n.range(),m=+p[0]+.5,y=+p[p.length-1]+.5,v=(n.bandwidth?dr:fr)(n.copy()),w=h.selection?h.selection():h,x=w.selectAll(".domain").data([null]),b=w.selectAll(".tick").data(f,n).order(),_=b.exit(),M=b.enter().append("g").attr("class","tick"),$=b.select("line"),k=b.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(M),$=$.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",s*a)),k=k.merge(M.append("text").attr("fill","currentColor").attr(c,s*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==w&&(x=x.transition(h),b=b.transition(h),$=$.transition(h),k=k.transition(h),_=_.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=v(t))?u(t):this.getAttribute("transform")})),M.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return u(n&&isFinite(n=n(t))?n:v(t))}))),_.remove(),x.attr("d",4===t||2==t?o?"M"+s*o+","+m+"H0.5V"+y+"H"+s*o:"M0.5,"+m+"V"+y:o?"M"+m+","+s*o+"V0.5H"+y+"V"+s*o:"M"+m+",0.5H"+y),b.attr("opacity",1).attr("transform",(function(t){return u(v(t))})),$.attr(c+"2",s*a),k.attr(c,s*g).text(d),w.filter(gr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),w.each((function(){this.__axis=v}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=sr.call(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:sr.call(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:sr.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(l=+t,h):l},h}function mr(t){return pr(3,t)}function yr(t){return pr(4,t)}var vr=Math.PI,wr=2*vr,xr=wr-1e-6;function br(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _r(){return new br}br.prototype=_r.prototype={constructor:br,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,l=e-t,s=r-n,c=a-t,u=o-n,h=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(u*l-s*c)>1e-6&&i){var f=e-a,d=r-o,g=l*l+s*s,p=f*f+d*d,m=Math.sqrt(g),y=Math.sqrt(h),v=i*Math.tan((vr-Math.acos((g+h-p)/(2*m*y)))/2),w=v/y,x=v/m;Math.abs(w-1)>1e-6&&(this._+="L"+(t+w*c)+","+(n+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*d)+","+(this._x1=t+x*l)+","+(this._y1=n+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n,a=!!a;var o=(e=+e)*Math.cos(r),l=e*Math.sin(r),s=t+o,c=n+l,u=1^a,h=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+s+","+c),e&&(h<0&&(h=h%wr+wr),h>xr?this._+="A"+e+","+e+",0,1,"+u+","+(t-o)+","+(n-l)+"A"+e+","+e+",0,1,"+u+","+(this._x1=s)+","+(this._y1=c):h>1e-6&&(this._+="A"+e+","+e+",0,"+ +(h>=vr)+","+u+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Mr={value:function(){}};function $r(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new kr(r)}function kr(t){this._=t}function Er(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Ar(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Nr(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Mr,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function zr(){Jt.stopImmediatePropagation()}function Vr(){Jt.preventDefault(),Jt.stopImmediatePropagation()}function Cr(t){var n=t.document.documentElement,e=dn(t).on("dragstart.drag",Vr,!0);"onselectstart"in n?e.on("selectstart.drag",Vr,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Sr(t,n){var e=t.document.documentElement,r=dn(t).on("dragstart.drag",null);n&&(r.on("click.drag",Vr,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Tr(t){return function(){return t}}function Pr(t,n,e,r,i,a,o,l,s,c){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=l,this.dy=s,this._=c}function jr(){return!Jt.ctrlKey&&!Jt.button}function qr(){return this.parentNode}function Or(t){return null==t?{x:Jt.x,y:Jt.y}:t}function Rr(){return navigator.maxTouchPoints||"ontouchstart"in this}kr.prototype=$r.prototype={constructor:kr,on:function(t,n){var e,r=this._,i=Er(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<o;)if(e=(t=i[a]).type)r[e]=Nr(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Nr(r[e],t.name,null);return this}for(;++a<o;)if((e=(t=i[a]).type)&&(e=Ar(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new kr(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}},Pr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ir,Br,Dr=0,Lr=0,Fr=0,Ur=0,Hr=0,Xr=0,Wr="object"==typeof performance&&performance.now?performance:Date,Yr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kr(){return Hr||(Yr(Zr),Hr=Wr.now()+Xr)}function Zr(){Hr=0}function Gr(){this._call=this._time=this._next=null}function Qr(t,n,e){var r=new Gr;return r.restart(t,n,e),r}function Jr(){Hr=(Ur=Wr.now())+Xr,Dr=Lr=0;try{!function(){Kr(),++Dr;for(var t,n=Ir;n;)(t=Hr-n._time)>=0&&n._call.call(null,t),n=n._next;--Dr}()}finally{Dr=0,function(){var t,n,e=Ir,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ir=n);Br=t,ni(r)}(),Hr=0}}function ti(){var t=Wr.now(),n=t-Ur;n>1e3&&(Xr-=n,Ur=t)}function ni(t){Dr||(Lr&&(Lr=clearTimeout(Lr)),t-Hr>24?(t<1/0&&(Lr=setTimeout(Jr,t-Wr.now()-Xr)),Fr&&(Fr=clearInterval(Fr))):(Fr||(Ur=Wr.now(),Fr=setInterval(ti,1e3)),Dr=1,Yr(Jr)))}function ei(t,n,e){var r=new Gr;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}Gr.prototype=Qr.prototype={constructor:Gr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Kr():+e)+(null==n?0:+n),this._next||Br===this||(Br?Br._next=this:Ir=this,Br=this),this._call=t,this._time=e,ni()},stop:function(){this._call&&(this._call=null,this._time=1/0,ni())}};var ri=$r("start","end","cancel","interrupt"),ii=[];function ai(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(s){var c,u,h,f;if(1!==e.state)return l();for(c in i)if((f=i[c]).name===e.name){if(3===f.state)return ei(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<n&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(ei((function(){3===e.state&&(e.state=4,e.timer.restart(o,e.delay,e.time),o(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(h=e.tween.length),c=0,u=-1;c<h;++c)(f=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++u]=f);r.length=u+1}}function o(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Qr((function(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:ri,tween:ii,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function oi(t,n){var e=si(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function li(t,n){var e=si(t,n);if(e.state>3)throw new Error("too late; already running");return e}function si(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ci(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}}function ui(t,n){var e,r;return function(){var i=li(this,t),a=i.tween;if(a!==e)for(var o=0,l=(r=e=a).length;o<l;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}function hi(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=li(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=l;break}s===c&&i.push(l)}a.tween=i}}function fi(t,n,e){var r=t._id;return t.each((function(){var t=li(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return si(t,r).value[n]}}function di(t,n){var e;return("number"==typeof n?de:n instanceof Hn?le:(e=Hn(n))?(n=e,le):ye)(t,n)}function gi(t){return function(){this.removeAttribute(t)}}function pi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mi(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}}function yi(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}function vi(t,n,e){var r,i,a;return function(){var o,l,s=e(this);if(null!=s)return(o=this.getAttribute(t))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=n(r=o,s));this.removeAttribute(t)}}function wi(t,n,e){var r,i,a;return function(){var o,l,s=e(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=n(r=o,s));this.removeAttributeNS(t.space,t.local)}}function xi(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function bi(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function _i(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&bi(t,i)),e}return i._value=n,i}function Mi(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&xi(t,i)),e}return i._value=n,i}function $i(t,n){return function(){oi(this,t).delay=+n.apply(this,arguments)}}function ki(t,n){return n=+n,function(){oi(this,t).delay=n}}function Ei(t,n){return function(){li(this,t).duration=+n.apply(this,arguments)}}function Ai(t,n){return n=+n,function(){li(this,t).duration=n}}function Ni(t,n){if("function"!=typeof n)throw new Error;return function(){li(this,t).ease=n}}function zi(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?oi:li;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(n,e),o.on=i}}var Vi=fn.prototype.constructor;function Ci(t){return function(){this.style.removeProperty(t)}}function Si(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ti(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Si(t,a,e)),r}return a._value=n,a}function Pi(t){return function(n){this.textContent=t.call(this,n)}}function ji(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Pi(r)),n}return r._value=t,r}var qi=0;function Oi(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ri(){return++qi}var Ii=fn.prototype;Oi.prototype=function(t){return fn().transition(t)}.prototype={constructor:Oi,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ct(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,s,c=r[o],u=c.length,h=a[o]=new Array(u),f=0;f<u;++f)(l=c[f])&&(s=t.call(l,l.__data__,f,c))&&("__data__"in l&&(s.__data__=l.__data__),h[f]=s,ai(h[f],n,e,f,h,si(l,e)));return new Oi(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ht(t));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s,c=r[l],u=c.length,h=0;h<u;++h)if(s=c[h]){for(var f,d=t.call(s,s.__data__,h,c),g=si(s,e),p=0,m=d.length;p<m;++p)(f=d[p])&&ai(f,n,e,p,d,g);a.push(d),o.push(s)}return new Oi(a,o,n,e)},filter:function(t){"function"!=typeof t&&(t=ft(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],l=o.length,s=r[i]=[],c=0;c<l;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&s.push(a);return new Oi(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,c=n[l],u=e[l],h=c.length,f=o[l]=new Array(h),d=0;d<h;++d)(s=c[d]||u[d])&&(f[d]=s);for(;l<r;++l)o[l]=n[l];return new Oi(o,this._parents,this._name,this._id)},selection:function(){return new Vi(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Ri(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,c=0;c<s;++c)if(o=l[c]){var u=si(o,n);ai(o,t,e,c,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Oi(r,this._parents,t,e)},call:Ii.call,nodes:Ii.nodes,node:Ii.node,size:Ii.size,empty:Ii.empty,each:Ii.each,on:function(t,n){var e=this._id;return arguments.length<2?si(this.node(),e).on.on(t):this.each(zi(e,t,n))},attr:function(t,n){var e=it(t),r="transform"===e?ze:di;return this.attrTween(t,"function"==typeof n?(e.local?wi:vi)(e,r,fi(this,"attr."+t,n)):null==n?(e.local?pi:gi)(e):(e.local?yi:mi)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=it(t);return this.tween(e,(r.local?_i:Mi)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Ne:di;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=Nt(this,t),o=(this.style.removeProperty(t),Nt(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,Ci(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=Nt(this,t),l=e(this),s=l+"";return null==l&&(this.style.removeProperty(t),s=l=Nt(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,l))}}(t,r,fi(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,l="end."+o;return function(){var s=li(this,t),c=s.on,u=null==s.value[o]?a||(a=Ci(n)):void 0;c===e&&i===u||(r=(e=c).copy()).on(l,i=u),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=Nt(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Ti(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(fi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,ji(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=si(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?ui:hi)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?$i:ki)(n,t)):si(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ei:Ai)(n,t)):si(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Ni(n,t)):si(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(a,o){var l={value:o},s={value:function(){0==--i&&a()}};e.each((function(){var e=li(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(l),n._.interrupt.push(l),n._.end.push(s)),e.on=n}))}))}};var Bi={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Di(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Bi.time=Kr(),Bi;return e}function Li(t){return function(){return t}}function Fi(t,n,e){this.target=t,this.type=n,this.selection=e}function Ui(){Jt.stopImmediatePropagation()}function Hi(){Jt.preventDefault(),Jt.stopImmediatePropagation()}fn.prototype.interrupt=function(t){return this.each((function(){ci(this,t)}))},fn.prototype.transition=function(t){var n,e;t instanceof Oi?(n=t._id,t=t._name):(n=Ri(),(e=Bi).time=Kr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,c=0;c<s;++c)(o=l[c])&&ai(o,t,n,c,l,e||Di(o,n));return new Oi(r,this._parents,t,n)};var Xi={name:"drag"},Wi={name:"space"},Yi={name:"handle"},Ki={name:"center"};function Zi(t){return[+t[0],+t[1]]}function Gi(t){return[Zi(t[0]),Zi(t[1])]}function Qi(t){return function(n){return yn(n,Jt.touches,t)}}var Ji={name:"x",handles:["w","e"].map(oa),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ta={name:"y",handles:["n","s"].map(oa),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},na={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ea={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ra={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ia={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},aa={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function oa(t){return{type:t}}function la(){return!Jt.ctrlKey&&!Jt.button}function sa(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ca(){return navigator.maxTouchPoints||"ontouchstart"in this}function ua(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function ha(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function fa(){return function(t){var n,e=sa,r=la,i=ca,a=!0,o=$r("start","brush","end"),l=6;function s(n){var e=n.property("__brush",p).selectAll(".overlay").data([oa("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",na.overlay).merge(e).each((function(){var t=ua(this).extent;dn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([oa("selection")]).enter().append("rect").attr("class","selection").attr("cursor",na.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return na[t.type]})),n.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=dn(this),n=ua(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-l/2:n[0][0]-l/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-l/2:n[0][1]-l/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+l:l})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+l:l}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new h(t,n,e):r}function h(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function f(){if((!n||Jt.touches)&&r.apply(this,arguments)){var e,i,o,l,s,h,f,d,g,p,m,y=this,v=Jt.target.__data__.type,w="selection"===(a&&Jt.metaKey?v="overlay":v)?Xi:a&&Jt.altKey?Ki:Yi,x=t===ta?null:ia[v],b=t===Ji?null:aa[v],_=ua(y),M=_.extent,$=_.selection,k=M[0][0],E=M[0][1],A=M[1][0],N=M[1][1],z=0,V=0,C=x&&b&&a&&Jt.shiftKey,S=Jt.touches?Qi(Jt.changedTouches[0].identifier):mn,T=S(y),P=T,j=u(y,arguments,!0).beforestart();"overlay"===v?($&&(g=!0),_.selection=$=[[e=t===ta?k:T[0],o=t===Ji?E:T[1]],[s=t===ta?A:e,f=t===Ji?N:o]]):(e=$[0][0],o=$[0][1],s=$[1][0],f=$[1][1]),i=e,l=o,h=s,d=f;var q=dn(y).attr("pointer-events","none"),O=q.selectAll(".overlay").attr("cursor",na[v]);if(Jt.touches)j.moved=I,j.ended=D;else{var R=dn(Jt.view).on("mousemove.brush",I,!0).on("mouseup.brush",D,!0);a&&R.on("keydown.brush",L,!0).on("keyup.brush",F,!0),Cr(Jt.view)}Ui(),ci(y),c.call(y),j.start()}function I(){var t=S(y);!C||p||m||(Math.abs(t[0]-P[0])>Math.abs(t[1]-P[1])?m=!0:p=!0),P=t,g=!0,Hi(),B()}function B(){var t;switch(z=P[0]-T[0],V=P[1]-T[1],w){case Wi:case Xi:x&&(z=Math.max(k-e,Math.min(A-s,z)),i=e+z,h=s+z),b&&(V=Math.max(E-o,Math.min(N-f,V)),l=o+V,d=f+V);break;case Yi:x<0?(z=Math.max(k-e,Math.min(A-e,z)),i=e+z,h=s):x>0&&(z=Math.max(k-s,Math.min(A-s,z)),i=e,h=s+z),b<0?(V=Math.max(E-o,Math.min(N-o,V)),l=o+V,d=f):b>0&&(V=Math.max(E-f,Math.min(N-f,V)),l=o,d=f+V);break;case Ki:x&&(i=Math.max(k,Math.min(A,e-z*x)),h=Math.max(k,Math.min(A,s+z*x))),b&&(l=Math.max(E,Math.min(N,o-V*b)),d=Math.max(E,Math.min(N,f+V*b)))}h<i&&(x*=-1,t=e,e=s,s=t,t=i,i=h,h=t,v in ea&&O.attr("cursor",na[v=ea[v]])),d<l&&(b*=-1,t=o,o=f,f=t,t=l,l=d,d=t,v in ra&&O.attr("cursor",na[v=ra[v]])),_.selection&&($=_.selection),p&&(i=$[0][0],h=$[1][0]),m&&(l=$[0][1],d=$[1][1]),$[0][0]===i&&$[0][1]===l&&$[1][0]===h&&$[1][1]===d||(_.selection=[[i,l],[h,d]],c.call(y),j.brush())}function D(){if(Ui(),Jt.touches){if(Jt.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else Sr(Jt.view,g),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);q.attr("pointer-events","all"),O.attr("cursor",na.overlay),_.selection&&($=_.selection),ha($)&&(_.selection=null,c.call(y)),j.end()}function L(){switch(Jt.keyCode){case 16:C=x&&b;break;case 18:w===Yi&&(x&&(s=h-z*x,e=i+z*x),b&&(f=d-V*b,o=l+V*b),w=Ki,B());break;case 32:w!==Yi&&w!==Ki||(x<0?s=h-z:x>0&&(e=i-z),b<0?f=d-V:b>0&&(o=l-V),w=Wi,O.attr("cursor",na.selection),B());break;default:return}Hi()}function F(){switch(Jt.keyCode){case 16:C&&(p=m=C=!1,B());break;case 18:w===Ki&&(x<0?s=h:x>0&&(e=i),b<0?f=d:b>0&&(o=l),w=Yi,B());break;case 32:w===Wi&&(Jt.altKey?(x&&(s=h-z*x,e=i+z*x),b&&(f=d-V*b,o=l+V*b),w=Ki):(x<0?s=h:x>0&&(e=i),b<0?f=d:b>0&&(o=l),w=Yi),O.attr("cursor",na[v]),B());break;default:return}Hi()}}function d(){u(this,arguments).moved()}function g(){u(this,arguments).ended()}function p(){var n=this.__brush||{selection:null};return n.extent=Gi(e.apply(this,arguments)),n.dim=t,n}return s.move=function(n,e){n.selection?n.on("start.brush",(function(){u(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){u(this,arguments).end()})).tween("brush",(function(){var n=this,r=n.__brush,i=u(n,arguments),a=r.selection,o=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),l=ve(a,o);function s(t){r.selection=1===t&&null===o?null:l(t),c.call(n),i.brush()}return null!==a&&null!==o?s:s(1)})):n.each((function(){var n=this,r=arguments,i=n.__brush,a=t.input("function"==typeof e?e.apply(n,r):e,i.extent),o=u(n,r).beforestart();ci(n),i.selection=null===a?null:a,c.call(n),o.start().brush().end()}))},s.clear=function(t){s.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){on(new Fi(s,n,t.output(this.state.selection)),o.apply,o,[n,this.that,this.args])}},s.extent=function(t){return arguments.length?(e="function"==typeof t?t:Li(Gi(t)),s):e},s.filter=function(t){return arguments.length?(r="function"==typeof t?t:Li(!!t),s):r},s.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Li(!!t),s):i},s.handleSize=function(t){return arguments.length?(l=+t,s):l},s.keyModifiers=function(t){return arguments.length?(a=!!t,s):a},s.on=function(){var t=o.on.apply(o,arguments);return t===o?s:t},s}(ta)}function da(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}var ga=da("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),pa=da("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ma=da("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var ya=function(t){return ce(t[t.length-1])}(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(da));function va(t,n,e){const r=t.slice();return r[55]=n[e],r}function wa(t,n,e){const r=t.slice();return r[55]=n[e],r}function xa(t,n,e){const r=t.slice();return r[60]=n[e],r[62]=e,r}function ba(t,n,e){const r=t.slice();return r[63]=n[e],r[55]=e,r}function _a(t,n,e){const r=t.slice();return r[65]=n[e],r[55]=e,r}function Ma(t,n,e){const r=t.slice();return r[67]=n[e],r[62]=e,r}function $a(t){let n,e,r,i,f,d;return{c(){n=o("path"),this.h()},l(t){n=l(t,"path",{i:!0,j:!0,class:!0,stroke:!0,d:!0},1),s(n).forEach(c),this.h()},h(){u(n,"i",e=t[55]),u(n,"j",r=t[62]),u(n,"class",i=h(t[25](t[55],t[62],t[0][t[55]][t[62]],t[2],t[3],t[4]))+" svelte-1q17gbf"),u(n,"stroke",f=t[24](t[55],t[62],t[0][t[55]][t[62]],t[2],t[3],t[4])),u(n,"d",d=t[23](t[8][t[55]],t[8][t[62]],t[0][t[55]][t[62]],t[19],t[20],t[17]))},m(t,e){a(t,n,e)},p(t,e){29&e[0]&&i!==(i=h(t[25](t[55],t[62],t[0][t[55]][t[62]],t[2],t[3],t[4]))+" svelte-1q17gbf")&&u(n,"class",i),29&e[0]&&f!==(f=t[24](t[55],t[62],t[0][t[55]][t[62]],t[2],t[3],t[4]))&&u(n,"stroke",f),1704193&e[0]&&d!==(d=t[23](t[8][t[55]],t[8][t[62]],t[0][t[55]][t[62]],t[19],t[20],t[17]))&&u(n,"d",d)},d(t){t&&c(n)}}}function ka(t){let n,e=t[55]!==t[62]&&null!==t[0][t[55]][t[62]]&&$a(t);return{c(){e&&e.c(),n=i()},l(t){e&&e.l(t),n=i()},m(t,r){e&&e.m(t,r),a(t,n,r)},p(t,r){t[55]!==t[62]&&null!==t[0][t[55]][t[62]]?e?e.p(t,r):(e=$a(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&c(n)}}}function Ea(t){let n,e=t[8],r=[];for(let n=0;n<e.length;n+=1)r[n]=ka(Ma(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=i()},l(t){for(let n=0;n<r.length;n+=1)r[n].l(t);n=i()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);a(t,n,e)},p(t,i){if(60424477&i[0]){let a;for(e=t[8],a=0;a<e.length;a+=1){const o=Ma(t,e,a);r[a]?r[a].p(o,i):(r[a]=ka(o),r[a].c(),r[a].m(n.parentNode,n))}for(;a<r.length;a+=1)r[a].d(1);r.length=e.length}},d(t){f(r,t),t&&c(n)}}}function Aa(t){let n,e,r,i,h,f,y,v,w,x,b,_,M,$=t[63]+` (${t[7][t[55]][t[55]][t[7][t[55]][t[55]].length-1].count})`,k=(1!==t[2][0]||0!==t[2][1])&&Na(t);return{c(){n=o("g"),e=o("rect"),k&&k.c(),y=o("text"),v=d($),this.h()},l(t){n=l(t,"g",{class:!0,opacity:!0},1);var r=s(n);e=l(r,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0},1),s(e).forEach(c),k&&k.l(r),y=l(r,"text",{class:!0,cursor:!0,column:!0,"column-name":!0,"font-size":!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0},1);var i=s(y);v=g(i,$),i.forEach(c),r.forEach(c),this.h()},h(){u(e,"class","axis-tick svelte-1q17gbf"),u(e,"x",r=-10),u(e,"y",i=t[19](t[63])),u(e,"width",h=10),u(e,"height",f=t[19].bandwidth()),u(y,"class","axis-tick svelte-1q17gbf"),u(y,"cursor","pointer"),u(y,"column",w=t[55]),u(y,"column-name",x=t[63]),u(y,"font-size","16px"),u(y,"x",b=-12),u(y,"y",_=t[19](t[63])+t[19].bandwidth()/2),u(y,"text-anchor","end"),u(y,"alignment-baseline","middle"),u(n,"class","samplingAxisElements"),u(n,"opacity",M=t[3].includes(t[55])||0===t[3].length?1:.2)},m(t,r){a(t,n,r),p(n,e),k&&k.m(n,null),p(n,y),p(y,v)},p(t,r){524544&r[0]&&i!==(i=t[19](t[63]))&&u(e,"y",i),524288&r[0]&&f!==(f=t[19].bandwidth())&&u(e,"height",f),1!==t[2][0]||0!==t[2][1]?k?k.p(t,r):(k=Na(t),k.c(),k.m(n,y)):k&&(k.d(1),k=null),384&r[0]&&$!==($=t[63]+` (${t[7][t[55]][t[55]][t[7][t[55]][t[55]].length-1].count})`)&&m(v,$),256&r[0]&&x!==(x=t[63])&&u(y,"column-name",x),524544&r[0]&&_!==(_=t[19](t[63])+t[19].bandwidth()/2)&&u(y,"y",_),8&r[0]&&M!==(M=t[3].includes(t[55])||0===t[3].length?1:.2)&&u(n,"opacity",M)},d(t){t&&c(n),k&&k.d()}}}function Na(t){let n,e,r,i,h;return{c(){n=o("rect"),this.h()},l(t){n=l(t,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0},1),s(n).forEach(c),this.h()},h(){u(n,"fill","black"),u(n,"x",e=-10),u(n,"y",r=t[19](t[63])),u(n,"width",i=10),u(n,"height",h=t[19].bandwidth()*t[26](t[55],t[2]))},m(t,e){a(t,n,e)},p(t,e){524544&e[0]&&r!==(r=t[19](t[63]))&&u(n,"y",r),524292&e[0]&&h!==(h=t[19].bandwidth()*t[26](t[55],t[2]))&&u(n,"height",h)},d(t){t&&c(n)}}}function za(t){let n,e=t[9].includes(t[63]),r=e&&Aa(t);return{c(){r&&r.c(),n=i()},l(t){r&&r.l(t),n=i()},m(t,e){r&&r.m(t,e),a(t,n,e)},p(t,i){768&i[0]&&(e=t[9].includes(t[63])),e?r?r.p(t,i):(r=Aa(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&c(n)}}}function Va(t){let n,e,r,i,h;return{c(){n=o("rect"),this.h()},l(t){n=l(t,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0},1),s(n).forEach(c),this.h()},h(){u(n,"fill","black"),u(n,"x",e=0),u(n,"y",r=t[20](t[60])),u(n,"width",i=10),u(n,"height",h=t[20].bandwidth()*t[27](t[62],t[2]))},m(t,e){a(t,n,e)},p(t,e){1048832&e[0]&&r!==(r=t[20](t[60]))&&u(n,"y",r),1048580&e[0]&&h!==(h=t[20].bandwidth()*t[27](t[62],t[2]))&&u(n,"height",h)},d(t){t&&c(n)}}}function Ca(t){let n,e,r,i,h,f,y,v,w,x,b,_,M=t[60]+"",$=(1!==t[2][0]||0!==t[2][1])&&Va(t);return{c(){n=o("g"),e=o("rect"),$&&$.c(),y=o("text"),v=d(M),this.h()},l(t){n=l(t,"g",{class:!0,opacity:!0},1);var r=s(n);e=l(r,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0},1),s(e).forEach(c),$&&$.l(r),y=l(r,"text",{class:!0,cursor:!0,column:!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0},1);var i=s(y);v=g(i,M),i.forEach(c),r.forEach(c),this.h()},h(){u(e,"class","axis-tick svelte-1q17gbf"),u(e,"x",r=0),u(e,"y",i=t[20](t[60])),u(e,"width",h=10),u(e,"height",f=t[20].bandwidth()),u(y,"class","axis-tick svelte-1q17gbf"),u(y,"cursor","pointer"),u(y,"column",w=t[62]),u(y,"x",x=12),u(y,"y",b=t[20](t[60])+t[20].bandwidth()/2),u(y,"text-anchor","start"),u(y,"alignment-baseline","middle"),u(n,"class","samplingAxisElements"),u(n,"opacity",_=t[4].includes(t[62])||0===t[4].length?1:.2)},m(t,r){a(t,n,r),p(n,e),$&&$.m(n,null),p(n,y),p(y,v)},p(t,r){1048832&r[0]&&i!==(i=t[20](t[60]))&&u(e,"y",i),1048576&r[0]&&f!==(f=t[20].bandwidth())&&u(e,"height",f),1!==t[2][0]||0!==t[2][1]?$?$.p(t,r):($=Va(t),$.c(),$.m(n,y)):$&&($.d(1),$=null),256&r[0]&&M!==(M=t[60]+"")&&m(v,M),1048832&r[0]&&b!==(b=t[20](t[60])+t[20].bandwidth()/2)&&u(y,"y",b),16&r[0]&&_!==(_=t[4].includes(t[62])||0===t[4].length?1:.2)&&u(n,"opacity",_)},d(t){t&&c(n),$&&$.d()}}}function Sa(t){let n,e,r,i=(10*t[55]).toFixed(0)+"%";return{c(){n=o("text"),e=d(i),this.h()},l(t){n=l(t,"text",{class:!0,"text-anchor":!0,"alignment-baseline":!0,y:!0},1);var r=s(n);e=g(r,i),r.forEach(c),this.h()},h(){u(n,"class","axis-tick svelte-1q17gbf"),u(n,"text-anchor","middle"),u(n,"alignment-baseline","middle"),u(n,"y",r=t[17](10*t[55]))},m(t,r){a(t,n,r),p(n,e)},p(t,e){131072&e[0]&&r!==(r=t[17](10*t[55]))&&u(n,"y",r)},d(t){t&&c(n)}}}function Ta(t){let n,e,r,i,h,f;return{c(){n=o("rect"),this.h()},l(t){n=l(t,"rect",{y:!0,x:!0,width:!0,height:!0,fill:!0},1),s(n).forEach(c),this.h()},h(){u(n,"y",e=t[22].bottom/6),u(n,"x",r=t[55]*((t[13]-100)/1e3)),u(n,"width",i=(t[13]-100)/1e3+1),u(n,"height",h=t[22].bottom/5),u(n,"fill",f=t[21](t[55]/1e3))},m(t,e){a(t,n,e)},p(t,e){8192&e[0]&&r!==(r=t[55]*((t[13]-100)/1e3))&&u(n,"x",r),8192&e[0]&&i!==(i=(t[13]-100)/1e3+1)&&u(n,"width",i)},d(t){t&&c(n)}}}function Pa(t){let n,e,r,i,h,x,b,_,M,$,k,E,A,N,z,V,C,S,T,P,j,q,O,R,I,B,D,F,U,H,X,W,Y,K,Z,G,Q,J,tt,nt,et,rt,it,at,ot,lt,st,ct,ut,ht,ft,dt,gt,pt,mt,yt,vt,wt,xt,bt,_t,Mt,$t,kt,Et,At,Nt,zt,Vt,Ct="pt"===t[10]?"Variávies com Dados Faltantes":"Variables With Missing Values",St="pt"===t[10]?"Todas as Variáveis":"All Variables",Tt="pt"===t[10]?"Probabilidade de MAR":"MAR Likelyhood",Pt="pt"===t[10]?"Co-ocorrência de Dados Faltantes":"Co-Missing Occurrence Rate",jt="pt"===t[10]?"< Pouco":"< Too little",qt="pt"===t[10]?"Não Aplicável":"Not Applicable",Ot="pt"===t[10]?"Ocorrência Natural":"Natural occurrence",Rt="pt"===t[10]?"Muito >":"Too Much >",It=t[8],Bt=[];for(let n=0;n<It.length;n+=1)Bt[n]=Ea(_a(t,It,n));let Dt=t[8],Lt=[];for(let n=0;n<Dt.length;n+=1)Lt[n]=za(ba(t,Dt,n));let Ft=t[8],Ut=[];for(let n=0;n<Ft.length;n+=1)Ut[n]=Ca(xa(t,Ft,n));let Ht=[5,6,7,7.5,8,8.5,9,9.2,9.3,9.4,9.5,9.6,9.7,9.8,9.9],Xt=[];for(let n=0;n<15;n+=1)Xt[n]=Sa(wa(t,Ht,n));let Wt=L(1e3),Yt=[];for(let n=0;n<Wt.length;n+=1)Yt[n]=Ta(va(t,Wt,n));return{c(){n=o("g"),e=o("g"),r=o("g"),i=o("g");for(let t=0;t<Bt.length;t+=1)Bt[t].c();h=o("g"),x=o("g"),b=o("text"),_=d(Ct),k=o("g");for(let t=0;t<Lt.length;t+=1)Lt[t].c();E=o("g"),A=o("text"),N=d(St);for(let t=0;t<Ut.length;t+=1)Ut[t].c();S=o("g"),T=o("text"),P=d(Tt),O=o("rect");for(let t=0;t<15;t+=1)Xt[t].c();F=o("g"),U=o("g");for(let t=0;t<Yt.length;t+=1)Yt[t].c();H=o("rect"),G=o("rect"),et=o("g"),it=o("text"),at=d(Pt),st=o("text"),ct=d(jt),ft=o("text"),dt=d(qt),mt=o("text"),yt=d(Ot),xt=o("text"),bt=d(Rt),kt=o("g"),Et=o("g"),this.h()},l(t){n=l(t,"g",{class:!0,transform:!0},1);var a=s(n);e=l(a,"g",{class:!0,transform:!0},1);var o=s(e);r=l(o,"g",{class:!0},1),s(r).forEach(c),i=l(o,"g",{class:!0},1);var u=s(i);for(let t=0;t<Bt.length;t+=1)Bt[t].l(u);u.forEach(c),h=l(o,"g",{class:!0},1);var f=s(h);x=l(f,"g",{class:!0},1);var d=s(x);b=l(d,"text",{class:!0,x:!0,y:!0},1);var p=s(b);_=g(p,Ct),p.forEach(c),k=l(d,"g",{class:!0},1);var m=s(k);for(let t=0;t<Lt.length;t+=1)Lt[t].l(m);m.forEach(c),d.forEach(c),E=l(f,"g",{class:!0,transform:!0},1);var y=s(E);A=l(y,"text",{class:!0,x:!0,y:!0},1);var v=s(A);N=g(v,St),v.forEach(c);for(let t=0;t<Ut.length;t+=1)Ut[t].l(y);y.forEach(c),S=l(f,"g",{class:!0,transform:!0},1);var w=s(S);T=l(w,"text",{class:!0,x:!0,y:!0},1);var M=s(T);P=g(M,Tt),M.forEach(c),O=l(w,"rect",{class:!0,x:!0,width:!0,y:!0,height:!0},1),s(O).forEach(c);for(let t=0;t<15;t+=1)Xt[t].l(w);w.forEach(c),F=l(f,"g",{class:!0,transform:!0},1);var $=s(F);U=l($,"g",{},1),s(U).forEach(c);for(let t=0;t<Yt.length;t+=1)Yt[t].l($);H=l($,"rect",{y:!0,x:!0,width:!0,height:!0,stroke:!0,fill:!0},1),s(H).forEach(c),G=l($,"rect",{y:!0,x:!0,stroke:!0,"stroke-width":!0,width:!0,height:!0,fill:!0},1),s(G).forEach(c),et=l($,"g",{class:!0,transform:!0},1),s(et).forEach(c),it=l($,"text",{class:!0,x:!0,y:!0},1);var z=s(it);at=g(z,Pt),z.forEach(c),st=l($,"text",{"text-anchor":!0,"font-size":!0,x:!0,y:!0},1);var V=s(st);ct=g(V,jt),V.forEach(c),ft=l($,"text",{"text-anchor":!0,"font-size":!0,x:!0,y:!0},1);var C=s(ft);dt=g(C,qt),C.forEach(c),mt=l($,"text",{"text-anchor":!0,"font-size":!0,x:!0,y:!0},1);var j=s(mt);yt=g(j,Ot),j.forEach(c),xt=l($,"text",{"text-anchor":!0,"font-size":!0,x:!0,y:!0},1);var q=s(xt);bt=g(q,Rt),q.forEach(c),$.forEach(c),f.forEach(c),kt=l(o,"g",{class:!0},1);var R=s(kt);Et=l(R,"g",{class:!0},1),s(Et).forEach(c),R.forEach(c),o.forEach(c),a.forEach(c),this.h()},h(){u(r,"class","background"),u(i,"class","foreground"),u(b,"class","axis-name svelte-1q17gbf"),u(b,"x",M=0),u(b,"y",$=-10),u(k,"class","samplingAxis"),u(x,"class","sampling-axis"),u(A,"class","axis-name svelte-1q17gbf"),u(A,"x",z=5),u(A,"y",V=-10),u(E,"class","measurement-axis"),u(E,"transform",C="translate("+t[13]+",0)"),u(T,"class","axis-name svelte-1q17gbf"),u(T,"x",j=0),u(T,"y",q=-10),u(O,"class","axis-tick svelte-1q17gbf"),u(O,"x",R=-25),u(O,"width",I=50),u(O,"y",B=0),u(O,"height",t[15]),u(S,"class","ratio-axis"),u(S,"transform",D="translate("+t[13]/2+",0)"),u(H,"y",X=t[22].bottom/6),u(H,"x",W=t[13]-75),u(H,"width",Y=75),u(H,"height",K=t[22].bottom/5),u(H,"stroke","#71706F"),u(H,"fill",Z=Hn("darkseagreen").darker()),u(G,"y",Q=t[22].bottom/6),u(G,"x",J=0),u(G,"stroke","black"),u(G,"stroke-width","1"),u(G,"width",tt=t[13]-100),u(G,"height",nt=t[22].bottom/5),u(G,"fill","none"),u(et,"class","color-axis"),u(et,"transform",rt="translate(0,"+(t[22].bottom/6+t[22].bottom/5)+")"),u(it,"class","axis-name svelte-1q17gbf"),u(it,"x",ot=.5*(t[13]-100)),u(it,"y",lt=t[22].bottom/6+t[22].bottom/5+25+10),u(st,"text-anchor","start"),u(st,"font-size","14px"),u(st,"x",ut=0),u(st,"y",ht=t[22].bottom/6-10),u(ft,"text-anchor","middle"),u(ft,"font-size","14px"),u(ft,"x",gt=t[13]-37.5),u(ft,"y",pt=t[22].bottom/6-10),u(mt,"text-anchor","middle"),u(mt,"font-size","14px"),u(mt,"x",vt=(t[13]-100)/2),u(mt,"y",wt=t[22].bottom/6-10),u(xt,"text-anchor","end"),u(xt,"font-size","14px"),u(xt,"x",_t=t[13]-100),u(xt,"y",Mt=t[22].bottom/6-10),u(F,"class","color-legend"),u(F,"transform",$t="translate(0,"+(t[15]+.2*t[22].bottom)+")"),u(h,"class","layer1"),u(Et,"class","ratio-brush"),u(kt,"class","brushLayer"),u(e,"class","marginConvention"),u(e,"transform",At="translate("+t[22].left+","+t[22].top+")"),u(n,"class","outerRing"),u(n,"transform",Nt="translate("+t[5]*t[14]+", "+t[6]*t[16]+")")},m(o,l){a(o,n,l),p(n,e),p(e,r),p(e,i);for(let t=0;t<Bt.length;t+=1)Bt[t].m(i,null);t[42](i),p(e,h),p(h,x),p(x,b),p(b,_),p(x,k);for(let t=0;t<Lt.length;t+=1)Lt[t].m(k,null);p(h,E),p(E,A),p(A,N);for(let t=0;t<Ut.length;t+=1)Ut[t].m(E,null);p(h,S),p(S,T),p(T,P),p(S,O);for(let t=0;t<15;t+=1)Xt[t].m(S,null);p(h,F),p(F,U);for(let t=0;t<Yt.length;t+=1)Yt[t].m(F,null);p(F,H),p(F,G),p(F,et),t[44](et),p(F,it),p(it,at),p(F,st),p(st,ct),p(F,ft),p(ft,dt),p(F,mt),p(mt,yt),p(F,xt),p(xt,bt),p(e,kt),p(kt,Et),t[45](Et),zt||(Vt=[y(i,"mouseover",t[30]),y(i,"mouseout",t[43]),y(k,"click",t[28]),y(E,"click",t[29])],zt=!0)},p(t,e){if(60424477&e[0]){let n;for(It=t[8],n=0;n<It.length;n+=1){const r=_a(t,It,n);Bt[n]?Bt[n].p(r,e):(Bt[n]=Ea(r),Bt[n].c(),Bt[n].m(i,null))}for(;n<Bt.length;n+=1)Bt[n].d(1);Bt.length=It.length}if(1024&e[0]&&Ct!==(Ct="pt"===t[10]?"Variávies com Dados Faltantes":"Variables With Missing Values")&&m(_,Ct),67634060&e[0]){let n;for(Dt=t[8],n=0;n<Dt.length;n+=1){const r=ba(t,Dt,n);Lt[n]?Lt[n].p(r,e):(Lt[n]=za(r),Lt[n].c(),Lt[n].m(k,null))}for(;n<Lt.length;n+=1)Lt[n].d(1);Lt.length=Dt.length}if(1024&e[0]&&St!==(St="pt"===t[10]?"Todas as Variáveis":"All Variables")&&m(N,St),135266580&e[0]){let n;for(Ft=t[8],n=0;n<Ft.length;n+=1){const r=xa(t,Ft,n);Ut[n]?Ut[n].p(r,e):(Ut[n]=Ca(r),Ut[n].c(),Ut[n].m(E,null))}for(;n<Ut.length;n+=1)Ut[n].d(1);Ut.length=Ft.length}if(8192&e[0]&&C!==(C="translate("+t[13]+",0)")&&u(E,"transform",C),1024&e[0]&&Tt!==(Tt="pt"===t[10]?"Probabilidade de MAR":"MAR Likelyhood")&&m(P,Tt),32768&e[0]&&u(O,"height",t[15]),131072&e[0]){let n;for(Ht=[5,6,7,7.5,8,8.5,9,9.2,9.3,9.4,9.5,9.6,9.7,9.8,9.9],n=0;n<15;n+=1){const r=wa(t,Ht,n);Xt[n]?Xt[n].p(r,e):(Xt[n]=Sa(r),Xt[n].c(),Xt[n].m(S,null))}for(;n<15;n+=1)Xt[n].d(1)}if(8192&e[0]&&D!==(D="translate("+t[13]/2+",0)")&&u(S,"transform",D),6299648&e[0]){let n;for(Wt=L(1e3),n=0;n<Wt.length;n+=1){const r=va(t,Wt,n);Yt[n]?Yt[n].p(r,e):(Yt[n]=Ta(r),Yt[n].c(),Yt[n].m(F,H))}for(;n<Yt.length;n+=1)Yt[n].d(1);Yt.length=Wt.length}8192&e[0]&&W!==(W=t[13]-75)&&u(H,"x",W),8192&e[0]&&tt!==(tt=t[13]-100)&&u(G,"width",tt),1024&e[0]&&Pt!==(Pt="pt"===t[10]?"Co-ocorrência de Dados Faltantes":"Co-Missing Occurrence Rate")&&m(at,Pt),8192&e[0]&&ot!==(ot=.5*(t[13]-100))&&u(it,"x",ot),1024&e[0]&&jt!==(jt="pt"===t[10]?"< Pouco":"< Too little")&&m(ct,jt),1024&e[0]&&qt!==(qt="pt"===t[10]?"Não Aplicável":"Not Applicable")&&m(dt,qt),8192&e[0]&&gt!==(gt=t[13]-37.5)&&u(ft,"x",gt),1024&e[0]&&Ot!==(Ot="pt"===t[10]?"Ocorrência Natural":"Natural occurrence")&&m(yt,Ot),8192&e[0]&&vt!==(vt=(t[13]-100)/2)&&u(mt,"x",vt),1024&e[0]&&Rt!==(Rt="pt"===t[10]?"Muito >":"Too Much >")&&m(bt,Rt),8192&e[0]&&_t!==(_t=t[13]-100)&&u(xt,"x",_t),32768&e[0]&&$t!==($t="translate(0,"+(t[15]+.2*t[22].bottom)+")")&&u(F,"transform",$t),82016&e[0]&&Nt!==(Nt="translate("+t[5]*t[14]+", "+t[6]*t[16]+")")&&u(n,"transform",Nt)},i:v,o:v,d(e){e&&c(n),f(Bt,e),t[42](null),f(Lt,e),f(Ut,e),f(Xt,e),f(Yt,e),t[44](null),t[45](null),zt=!1,w(Vt)}}}function ja(t,n,e){let r,i,a,o,l,s,c,u,h,f,d,g,p;x(t,tt,t=>e(14,g=t)),x(t,nt,t=>e(16,p=t));let{x:m=0}=n,{y:y=0}=n,{width:v=1}=n,{height:w=1}=n,{arcdata:_}=n,{colordata:M}=n;const $=(t,n)=>{setTimeout(()=>{e(0,_=t),e(31,M=n)},1)};let{crossdata:k}=n,{binsMatrix:E}=n,{columns:A}=n,{columnTypes:N}=n,{columnsWithMissingValues:z}=n,{refine:V}=n,{convergence:C}=n,{selectedRatioInterval:S}=n,{selectedSamplingVariables:T}=n,{selectedMeasurementVariables:P}=n,{hoveredPair:j}=n,{lang:q}=n;const O=t=>rr().domain([0,.05,.4,.6,.95,1]).range([ya(1),ya(.8),"#9C9C9C","#9C9C9C",ya(.2),ya(0)])(t),R={top:50,bottom:150,left:200,right:160};let I;let B;let D,L=t=>t<=Math.max(...S)&&t>=Math.min(...S);let F;const U=t=>{dn(F).selectAll("path").each((function(){t&&t[0]===+dn(this).attr("i")&&t[1]===+dn(this).attr("j")?dn(this).raise().classed("focus",!0):dn(this).classed("focus",!1)}))};return t.$$set=t=>{"x"in t&&e(5,m=t.x),"y"in t&&e(6,y=t.y),"width"in t&&e(33,v=t.width),"height"in t&&e(34,w=t.height),"arcdata"in t&&e(0,_=t.arcdata),"colordata"in t&&e(31,M=t.colordata),"crossdata"in t&&e(35,k=t.crossdata),"binsMatrix"in t&&e(7,E=t.binsMatrix),"columns"in t&&e(8,A=t.columns),"columnTypes"in t&&e(36,N=t.columnTypes),"columnsWithMissingValues"in t&&e(9,z=t.columnsWithMissingValues),"refine"in t&&e(37,V=t.refine),"convergence"in t&&e(32,C=t.convergence),"selectedRatioInterval"in t&&e(2,S=t.selectedRatioInterval),"selectedSamplingVariables"in t&&e(3,T=t.selectedSamplingVariables),"selectedMeasurementVariables"in t&&e(4,P=t.selectedMeasurementVariables),"hoveredPair"in t&&e(1,j=t.hoveredPair),"lang"in t&&e(10,q=t.lang)},t.$$.update=()=>{16384&t.$$.dirty[0]|4&t.$$.dirty[1]&&e(13,r=v*g-R.left-R.right),65536&t.$$.dirty[0]|8&t.$$.dirty[1]&&e(15,i=w*p-R.top-R.bottom),32768&t.$$.dirty[0]&&e(17,a=function t(){var n=lr(Re());return n.copy=function(){return Oe(n,t()).exponent(n.exponent())},vn.apply(n,arguments),n}().exponent(6.7).domain([1,100]).range([i,0]).clamp(!0)),33280&t.$$.dirty[0]&&e(19,o=Nn().domain(z).range([i,0]).paddingInner(.2)),33024&t.$$.dirty[0]&&e(20,l=Nn().domain(A).range([i,0]).paddingInner(.2)),8192&t.$$.dirty[0]&&e(38,s=rr().domain([0,1]).range([0,r-100])),256&t.$$.dirty[1]&&console.log(c(10),c(90)),131072&t.$$.dirty[0]&&(u=yr(a)),128&t.$$.dirty[1]&&e(40,h=mr(s)),1&t.$$.dirty[0]&&(f=_[1][1]),2048&t.$$.dirty[0]|512&t.$$.dirty[1]&&((t,n)=>{if(t&&n){const e=dn(t);e.selectAll().remove(),e.call(n).selectAll("g.tick").selectAll("text").attr("font-size",10).attr("y",8).text(t=>100*t+"%")}})(I,h),1&t.$$.dirty[0]&&(async t=>{if(t[0][0]===B)return void console.warn("repeated call detected and ended");const{estimativeMatrix:n,coMissingEstimativeMatrix:r}=await V(t,M,10);B=t[0][0];let i=-1/0;for(let e=0;e<A.length;e++)for(let r=0;r<A.length;r++)if(e!==r&&null!==t[e][r]){const a=100*Math.abs(t[e][r]-n[e][r]);i=a>i?a:i}i>=.5&&$(n,r),e(32,C=i)})(_),172032&t.$$.dirty[0]&&e(41,d=fa().extent([[r/2-25+1,-2],[r/2+25-1,i+2]]).on("brush end",()=>{Jt.selection?e(2,S=Jt.selection.map(a.invert).map(t=>t/100)):e(2,S=[1,0])})),4096&t.$$.dirty[0]|1024&t.$$.dirty[1]&&((t,n)=>{t&&n&&dn(t).call(n)})(D,d),2&t.$$.dirty[0]&&U(j)},e(39,c=rr().domain([1,100]).range(["blue","red"]).clamp(!0)),[_,j,S,T,P,m,y,E,A,z,q,I,D,r,g,i,p,a,F,o,l,O,R,(t,n,e,i,a,o)=>{const l=i.bandwidth(),s=a.bandwidth(),c=_r(),u=i(t)+e*l,h=o(100*e),f=r/2,d=a(n)+e*s,g=r,p=r/4;return c.moveTo(0,u),c.bezierCurveTo(0+p,u,f-25-p,h,f-25,h),c.moveTo(f+25,h),c.bezierCurveTo(f+25+p,h,g-p,d,g,d),c.toString()},(t,n,e,r,i,a)=>{if(!L(e)||!i.includes(t)&&0!==i.length||!a.includes(n)&&0!==a.length)return"lightgray";{const e=z.includes(A[t]),r=z.includes(A[n]);return e&&r?O(M[t][n]):Hn("darkseagreen").darker()}},(t,n,e,r,i,a)=>{if(L(e)){if(1===r[0]&&0===r[1]&&0===i.length&&0===a.length)return"data";if((i.includes(t)||0===i.length)&&(a.includes(n)||0===a.length))return"dataSelected"}return"dataNotSelected"},(t,n)=>_[t].filter(t=>L(t)).length/(_[t].length-1),(t,n)=>{const e=[];for(let n=0;n<_.length;n++)n!==t&&null!==_[n][t]&&e.push(_[n][t]);return e.filter(t=>L(t)).length/e.length},t=>{if("text"!==t.target.tagName)return;const n=+t.target.getAttribute("column");T.includes(n)?e(3,T=T.filter(t=>t!==n)):(T.push(n),e(3,T))},t=>{if("text"!==t.target.tagName)return;const n=+t.target.getAttribute("column");P.includes(n)?e(4,P=P.filter(t=>t!==n)):(P.push(n),e(4,P))},t=>{t.target.className.baseVal.includes("Not")||e(1,j=[+t.target.getAttribute("i"),+t.target.getAttribute("j")])},M,C,v,w,k,N,V,s,c,h,d,function(t){b[t?"unshift":"push"](()=>{F=t,e(18,F)})},()=>{e(1,j=null)},function(t){b[t?"unshift":"push"](()=>{I=t,e(11,I)})},function(t){b[t?"unshift":"push"](()=>{D=t,e(12,D)})}]}class qa extends n{constructor(t){super(),e(this,t,ja,Pa,r,{x:5,y:6,width:33,height:34,arcdata:0,colordata:31,crossdata:35,binsMatrix:7,columns:8,columnTypes:36,columnsWithMissingValues:9,refine:37,convergence:32,selectedRatioInterval:2,selectedSamplingVariables:3,selectedMeasurementVariables:4,hoveredPair:1,lang:10},[-1,-1,-1])}}function Oa(t){let n,e,r,i,h,f,y,v,w,x,b,_,M,$,k,E,A,N,z,V=(t[2]/100*100).toFixed(2)+"",C="pt"===t[3]?"Progresso da Convergência":"Convergence Progress";return{c(){n=o("g"),e=o("g"),r=o("rect"),h=o("rect"),w=o("text"),x=d(V),b=d("%\r\n            "),$=o("text"),k=d(C),this.h()},l(t){n=l(t,"g",{class:!0,transform:!0},1);var i=s(n);e=l(i,"g",{class:!0,transform:!0},1);var a=s(e);r=l(a,"rect",{class:!0,fill:!0,height:!0,width:!0},1),s(r).forEach(c),h=l(a,"rect",{class:!0,fill:!0,height:!0,width:!0,x:!0},1),s(h).forEach(c),w=l(a,"text",{class:!0,x:!0,y:!0},1);var o=s(w);x=g(o,V),b=g(o,"%\r\n            "),o.forEach(c),$=l(a,"text",{"alignment-baseline":!0,class:!0,x:!0,y:!0},1);var u=s($);k=g(u,C),u.forEach(c),a.forEach(c),i.forEach(c),this.h()},h(){u(r,"class","background svelte-84wpdc"),u(r,"fill",i=t[2]<=.5?"mediumseagreen":t[2]<=5?"gold":"coral"),u(r,"height",t[7]),u(r,"width",t[6]),u(h,"class","foreground"),u(h,"fill",f=t[2]<=.5?"mediumseagreen":t[2]<=5?"gold":"coral"),u(h,"height",t[7]),u(h,"width",y=t[6]*(t[2]/100)),u(h,"x",v=t[6]/2-t[6]*(t[2]/100)/2),u(w,"class","label svelte-84wpdc"),u(w,"x",_=t[6]/2),u(w,"y",M=t[7]/2),u($,"alignment-baseline","middle"),u($,"class","axis-name svelte-84wpdc"),u($,"x",E=10),u($,"y",A=t[7]/2),u(e,"class","marginConvention"),u(e,"transform",N="translate("+t[8].left+","+t[8].top+")"),u(n,"class","outerRing"),u(n,"transform",z="translate("+t[0]*t[4]+", "+t[1]*t[5]+")")},m(t,i){a(t,n,i),p(n,e),p(e,r),p(e,h),p(e,w),p(w,x),p(w,b),p(e,$),p($,k)},p(t,e){4&e&&i!==(i=t[2]<=.5?"mediumseagreen":t[2]<=5?"gold":"coral")&&u(r,"fill",i),128&e&&u(r,"height",t[7]),64&e&&u(r,"width",t[6]),4&e&&f!==(f=t[2]<=.5?"mediumseagreen":t[2]<=5?"gold":"coral")&&u(h,"fill",f),128&e&&u(h,"height",t[7]),68&e&&y!==(y=t[6]*(t[2]/100))&&u(h,"width",y),68&e&&v!==(v=t[6]/2-t[6]*(t[2]/100)/2)&&u(h,"x",v),4&e&&V!==(V=(t[2]/100*100).toFixed(2)+"")&&m(x,V),64&e&&_!==(_=t[6]/2)&&u(w,"x",_),128&e&&M!==(M=t[7]/2)&&u(w,"y",M),8&e&&C!==(C="pt"===t[3]?"Progresso da Convergência":"Convergence Progress")&&m(k,C),128&e&&A!==(A=t[7]/2)&&u($,"y",A),51&e&&z!==(z="translate("+t[0]*t[4]+", "+t[1]*t[5]+")")&&u(n,"transform",z)},d(t){t&&c(n)}}}function Ra(t){let n,e=t[2]>1&&Oa(t);return{c(){e&&e.c(),n=i()},l(t){e&&e.l(t),n=i()},m(t,r){e&&e.m(t,r),a(t,n,r)},p(t,[r]){t[2]>1?e?e.p(t,r):(e=Oa(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},i:v,o:v,d(t){e&&e.d(t),t&&c(n)}}}function Ia(t,n,e){let r,i,a,o;x(t,tt,t=>e(4,a=t)),x(t,nt,t=>e(5,o=t));let{x:l=0}=n,{y:s=0}=n,{width:c=1}=n,{height:u=1}=n,{convergence:h}=n,{lang:f}=n;const d={top:2,bottom:2,left:0,right:0};return t.$$set=t=>{"x"in t&&e(0,l=t.x),"y"in t&&e(1,s=t.y),"width"in t&&e(9,c=t.width),"height"in t&&e(10,u=t.height),"convergence"in t&&e(2,h=t.convergence),"lang"in t&&e(3,f=t.lang)},t.$$.update=()=>{528&t.$$.dirty&&e(6,r=c*a-d.left-d.right),1056&t.$$.dirty&&e(7,i=u*o-d.top-d.bottom)},[l,s,h,f,a,o,r,i,d,c,u]}class Ba extends n{constructor(t){super(),e(this,t,Ia,Ra,r,{x:0,y:1,width:9,height:10,convergence:2,lang:3})}}function Da(t,n,e){const r=t.slice();return r[29]=n[e],r[12]=e,r}function La(t){let n,e,r,i,h,f,d,g,p,m,y;return{c(){n=o("rect"),f=o("rect"),this.h()},l(t){n=l(t,"rect",{class:!0,x:!0,y:!0,height:!0,fill:!0,width:!0},1),s(n).forEach(c),f=l(t,"rect",{class:!0,x:!0,y:!0,height:!0,fill:!0,width:!0},1),s(f).forEach(c),this.h()},h(){u(n,"class","sample"),u(n,"x",e=t[17](t[29].name)+Ha/2),u(n,"y",r=t[18](t[4][t[12]].count)),u(n,"height",i=Math.abs(t[18](t[4][t[12]].count)-t[18](0))),u(n,"fill","lightgray"),u(n,"width",h=t[19]-Ha),u(f,"class","sample"),u(f,"x",d=t[17](t[29].name)+Ha/2),u(f,"y",g=t[18](Math.max(t[3][t[12]].count,t[4][t[12]].count))),u(f,"height",p=Math.abs(t[18](t[3][t[12]].count)-t[18](t[4][t[12]].count))),u(f,"fill",m=t[4][t[12]].count>t[3][t[12]].count?"mediumseagreen":"tomato"),u(f,"width",y=t[19]-Ha)},m(t,e){a(t,n,e),a(t,f,e)},p(t,a){131076&a&&e!==(e=t[17](t[29].name)+Ha/2)&&u(n,"x",e),262160&a&&r!==(r=t[18](t[4][t[12]].count))&&u(n,"y",r),262160&a&&i!==(i=Math.abs(t[18](t[4][t[12]].count)-t[18](0)))&&u(n,"height",i),524288&a&&h!==(h=t[19]-Ha)&&u(n,"width",h),131076&a&&d!==(d=t[17](t[29].name)+Ha/2)&&u(f,"x",d),262168&a&&g!==(g=t[18](Math.max(t[3][t[12]].count,t[4][t[12]].count)))&&u(f,"y",g),262168&a&&p!==(p=Math.abs(t[18](t[3][t[12]].count)-t[18](t[4][t[12]].count)))&&u(f,"height",p),24&a&&m!==(m=t[4][t[12]].count>t[3][t[12]].count?"mediumseagreen":"tomato")&&u(f,"fill",m),524288&a&&y!==(y=t[19]-Ha)&&u(f,"width",y)},d(t){t&&c(n),t&&c(f)}}}function Fa(t){let n,e=t[29].count>0&&La(t);return{c(){e&&e.c(),n=i()},l(t){e&&e.l(t),n=i()},m(t,r){e&&e.m(t,r),a(t,n,r)},p(t,r){t[29].count>0?e?e.p(t,r):(e=La(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&c(n)}}}function Ua(t){let n,e,r,i,h,y,w,x,b,k,E,A,N,z,V,C,S,T,P,j,q,O,R,I,B,D,L,F,U,H,X,W,Y="pt"===t[11]?"quando não há ":"when missing ",K=t[2],Z=[];for(let n=0;n<K.length;n+=1)Z[n]=Fa(Da(t,K,n));return{c(){n=o("g"),e=o("rect"),r=o("rect"),b=o("g"),k=o("rect"),E=o("g"),A=o("rect"),N=o("g"),V=o("g"),C=o("text"),S=o("tspan"),T=d(t[8]),P=_(),j=d(Y),q=o("tspan"),O=d(t[7]),R=_(),I=o("tspan"),B=d("("),D=d(t[5]),L=d(")"),F=_(),X=o("g");for(let t=0;t<Z.length;t+=1)Z[t].c();this.h()},l(i){n=l(i,"g",{},1);var a=s(n);e=l(a,"rect",{fill:!0,height:!0,i:!0,j:!0,width:!0,class:!0},1),s(e).forEach(c),r=l(a,"rect",{fill:!0,height:!0,"pointer-events":!0,width:!0,x:!0,y:!0},1),s(r).forEach(c),b=l(a,"g",{class:!0,"pointer-events":!0,transform:!0},1);var o=s(b);k=l(o,"rect",{fill:!0,innerHeight:!0,innerWidth:!0},1),s(k).forEach(c),E=l(o,"g",{class:!0},1);var u=s(E);A=l(u,"rect",{fill:!0,height:!0,width:!0},1),s(A).forEach(c),N=l(u,"g",{class:!0,transform:!0},1),s(N).forEach(c),V=l(u,"g",{class:!0},1),s(V).forEach(c),C=l(u,"text",{"alignment-baseline":!0,class:!0,"font-size":!0,x:!0,y:!0},1);var h=s(C);S=l(h,"tspan",{"alignment-baseline":!0,"font-weight":!0},1);var f=s(S);T=g(f,t[8]),f.forEach(c),P=M(h),j=g(h,Y),q=l(h,"tspan",{"alignment-baseline":!0,"font-weight":!0},1);var d=s(q);O=g(d,t[7]),d.forEach(c),R=M(h),I=l(h,"tspan",{"alignment-baseline":!0},1);var p=s(I);B=g(p,"("),D=g(p,t[5]),L=g(p,")"),p.forEach(c),F=M(h),h.forEach(c),u.forEach(c),X=l(o,"g",{class:!0},1);var m=s(X);for(let t=0;t<Z.length;t+=1)Z[t].l(m);m.forEach(c),o.forEach(c),a.forEach(c),this.h()},h(){u(e,"fill",t[6]),u(e,"height",t[1]),u(e,"i",t[12]),u(e,"j",t[9]),u(e,"width",t[0]),u(e,"class","svelte-10xalbu"),$(e,"focus",t[10]),u(r,"fill",i="white"),u(r,"height",h=t[1]-10),u(r,"pointer-events","none"),u(r,"width",y=t[0]-10),u(r,"x",w=5),u(r,"y",x=5),u(k,"fill","white"),u(k,"innerheight",t[16]),u(k,"innerwidth",t[15]),u(A,"fill","white"),u(A,"height",t[16]),u(A,"width",t[15]),u(N,"class","x-axis"),u(N,"transform",z="translate(0,"+t[16]+")"),u(V,"class","y-axis"),u(S,"alignment-baseline","middle"),u(S,"font-weight","bold"),u(q,"alignment-baseline","middle"),u(q,"font-weight","bold"),u(I,"alignment-baseline","middle"),u(C,"alignment-baseline","middle"),u(C,"class","title svelte-10xalbu"),u(C,"font-size","16px"),u(C,"x",U=t[15]/2),u(C,"y",H=-t[20].top/2+2),u(E,"class","background"),u(X,"class","foreground"),u(b,"class","margin-convention"),u(b,"pointer-events","none"),u(b,"transform",W="translate("+t[20].left+", "+t[20].top+")")},m(i,o){a(i,n,o),p(n,e),p(n,r),p(n,b),p(b,k),p(b,E),p(E,A),p(E,N),t[25](N),p(E,V),t[26](V),p(E,C),p(C,S),p(S,T),p(C,P),p(C,j),p(C,q),p(q,O),p(C,R),p(C,I),p(I,B),p(I,D),p(I,L),p(C,F),p(b,X);for(let t=0;t<Z.length;t+=1)Z[t].m(X,null)},p(t,[n]){if(64&n&&u(e,"fill",t[6]),2&n&&u(e,"height",t[1]),4096&n&&u(e,"i",t[12]),512&n&&u(e,"j",t[9]),1&n&&u(e,"width",t[0]),1024&n&&$(e,"focus",t[10]),2&n&&h!==(h=t[1]-10)&&u(r,"height",h),1&n&&y!==(y=t[0]-10)&&u(r,"width",y),65536&n&&u(k,"innerheight",t[16]),32768&n&&u(k,"innerwidth",t[15]),65536&n&&u(A,"height",t[16]),32768&n&&u(A,"width",t[15]),65536&n&&z!==(z="translate(0,"+t[16]+")")&&u(N,"transform",z),256&n&&m(T,t[8]),2048&n&&Y!==(Y="pt"===t[11]?"quando não há ":"when missing ")&&m(j,Y),128&n&&m(O,t[7]),32&n&&m(D,t[5]),32768&n&&U!==(U=t[15]/2)&&u(C,"x",U),917532&n){let e;for(K=t[2],e=0;e<K.length;e+=1){const r=Da(t,K,e);Z[e]?Z[e].p(r,n):(Z[e]=Fa(r),Z[e].c(),Z[e].m(X,null))}for(;e<Z.length;e+=1)Z[e].d(1);Z.length=K.length}},i:v,o:v,d(e){e&&c(n),t[25](null),t[26](null),f(Z,e)}}}const Ha=2;function Xa(t,n,e){let r,i,a,o,l,s,c,u,h,{width:f}=n,{height:d}=n,{totalBins:g}=n,{expectedBins:p}=n,{sampleBins:m}=n,{nOfMissingSamples:y}=n,{fill:v}=n,{samplingVariable:w}=n,{i:x}=n,{measurementVariable:_}=n,{j:M}=n,{focus:$}=n,{continuous:k}=n,{lang:E}=n;const A={top:35,left:35,right:35,bottom:50};let N,z;const V=(t,n,e,r)=>{if(t&&n&&l&&s){const i=dn(t),a=dn(n);i.selectAll().remove(),a.selectAll().remove(),i.call(e).selectAll("text").attr("font-size",12).style("shape-rendering","crispEdges").attr("y",15).each((function(t,n){if(isNaN(t)){const n="miss"===t;dn(this).attr("y",0).attr("x",5).attr("transform","translate(0,2)rotate(55)").attr("text-anchor","start").text(n?"pt"===E?"não há":"miss":t)}else k&&dn(this).attr("y",2).attr("x",5).attr("transform","rotate(55)").attr("text-anchor","start").text("≤"+o[n].maxNum.toFixed(1))})),a.call(r).selectAll("text").attr("font-size",9).attr("y",0)}};return t.$$set=t=>{"width"in t&&e(0,f=t.width),"height"in t&&e(1,d=t.height),"totalBins"in t&&e(2,g=t.totalBins),"expectedBins"in t&&e(3,p=t.expectedBins),"sampleBins"in t&&e(4,m=t.sampleBins),"nOfMissingSamples"in t&&e(5,y=t.nOfMissingSamples),"fill"in t&&e(6,v=t.fill),"samplingVariable"in t&&e(7,w=t.samplingVariable),"i"in t&&e(12,x=t.i),"measurementVariable"in t&&e(8,_=t.measurementVariable),"j"in t&&e(9,M=t.j),"focus"in t&&e(10,$=t.focus),"continuous"in t&&e(21,k=t.continuous),"lang"in t&&e(11,E=t.lang)},t.$$.update=()=>{16&t.$$.dirty&&(r=W(m.map(t=>t.count))),1&t.$$.dirty&&e(15,i=f-A.left-A.right),2&t.$$.dirty&&e(16,a=d-A.top-A.bottom),4&t.$$.dirty&&e(22,o=g.filter(t=>t.count>0)),4227072&t.$$.dirty&&e(17,l=Nn().domain(o.map(t=>t.name)).range([0,i])),65560&t.$$.dirty&&e(18,s=rr().domain([0,1.1*Y(m,(t,n)=>Math.max(t.count,p[n].count))]).range([a,0])),131072&t.$$.dirty&&e(23,c=mr(l)),262144&t.$$.dirty&&e(24,u=yr(s).ticks(4)),131072&t.$$.dirty&&e(19,h=l.bandwidth()),25190400&t.$$.dirty&&V(N,z,c,u)},[f,d,g,p,m,y,v,w,_,M,$,E,x,N,z,i,a,l,s,h,A,k,o,c,u,function(t){b[t?"unshift":"push"](()=>{N=t,e(13,N)})},function(t){b[t?"unshift":"push"](()=>{z=t,e(14,z)})}]}class Wa extends n{constructor(t){super(),e(this,t,Xa,Ua,r,{width:0,height:1,totalBins:2,expectedBins:3,sampleBins:4,nOfMissingSamples:5,fill:6,samplingVariable:7,i:12,measurementVariable:8,j:9,focus:10,continuous:21,lang:11})}}function Ya(t,n,e){const r=t.slice();return r[32]=n[e][0],r[33]=n[e][1],r[35]=e,r}function Ka(t){let n,e,r,i;return e=new Wa({props:{lang:t[6],i:t[32],j:t[33],focus:t[0]&&t[0][0]===t[32]&&t[0][1]===t[33],width:t[12],continuous:"Quantitative"===t[5][t[33]],height:t[13],fill:t[17](t[32],t[33]),samplingVariable:t[4][t[32]],measurementVariable:t[4][t[33]],nOfMissingSamples:t[3][t[32]][t[32]][t[3][t[32]][t[32]].length-1].count,totalBins:t[3][t[33]][t[33]],expectedBins:t[3][t[32]][t[33]][0],sampleBins:t[3][t[32]][t[33]][1]}}),{c(){n=o("g"),k(e.$$.fragment),this.h()},l(t){n=l(t,"g",{transform:!0},1);var r=s(n);E(e.$$.fragment,r),r.forEach(c),this.h()},h(){u(n,"transform",r="translate(0,"+t[35]*(t[13]+5)+")")},m(t,r){a(t,n,r),A(e,n,null),i=!0},p(t,a){const o={};64&a[0]&&(o.lang=t[6]),16384&a[0]&&(o.i=t[32]),16384&a[0]&&(o.j=t[33]),16385&a[0]&&(o.focus=t[0]&&t[0][0]===t[32]&&t[0][1]===t[33]),4096&a[0]&&(o.width=t[12]),16416&a[0]&&(o.continuous="Quantitative"===t[5][t[33]]),8192&a[0]&&(o.height=t[13]),16384&a[0]&&(o.fill=t[17](t[32],t[33])),16400&a[0]&&(o.samplingVariable=t[4][t[32]]),16400&a[0]&&(o.measurementVariable=t[4][t[33]]),16392&a[0]&&(o.nOfMissingSamples=t[3][t[32]][t[32]][t[3][t[32]][t[32]].length-1].count),16392&a[0]&&(o.totalBins=t[3][t[33]][t[33]]),16392&a[0]&&(o.expectedBins=t[3][t[32]][t[33]][0]),16392&a[0]&&(o.sampleBins=t[3][t[32]][t[33]][1]),e.$set(o),(!i||8192&a[0]&&r!==(r="translate(0,"+t[35]*(t[13]+5)+")"))&&u(n,"transform",r)},i(t){i||(N(e.$$.fragment,t),i=!0)},o(t){z(e.$$.fragment,t),i=!1},d(t){t&&c(n),V(e)}}}function Za(t){let n,e,r,i,h,d,g,m,v,x,b,_,M,$,k,E,A,V=t[14],T=[];for(let n=0;n<V.length;n+=1)T[n]=Ka(Ya(t,V,n));const P=t=>z(T[t],1,1,()=>{T[t]=null});return{c(){n=o("g"),e=o("g"),r=o("g"),i=o("rect"),m=o("rect"),_=o("g");for(let t=0;t<T.length;t+=1)T[t].c();this.h()},l(t){n=l(t,"g",{class:!0,transform:!0},1);var a=s(n);e=l(a,"g",{class:!0,transform:!0},1);var o=s(e);r=l(o,"g",{class:!0},1);var u=s(r);i=l(u,"rect",{class:!0,x:!0,width:!0,y:!0,height:!0},1),s(i).forEach(c),m=l(u,"rect",{class:!0,x:!0,width:!0,y:!0,height:!0},1),s(m).forEach(c),u.forEach(c),_=l(o,"g",{class:!0},1);var h=s(_);for(let t=0;t<T.length;t+=1)T[t].l(h);h.forEach(c),o.forEach(c),a.forEach(c),this.h()},h(){u(i,"class","slider_bg svelte-vf9rly"),u(i,"x",h=t[12]+.1*t[15].right),u(i,"width",d=.9*t[15].right),u(i,"y",g=0),u(i,"height",t[9]),u(m,"class","slider svelte-vf9rly"),u(m,"x",v=t[12]+.1*t[15].right),u(m,"width",x=.9*t[15].right),u(m,"y",b=0),u(m,"height",t[11]),u(r,"class","background"),u(_,"class","foreground"),u(e,"class","marginConvention"),u(e,"transform",M="translate("+t[15].left+","+t[15].top+")"),u(n,"class","outerRing"),u(n,"transform",$="translate("+t[1]*t[8]+", "+t[2]*t[10]+")")},m(o,l){a(o,n,l),p(n,e),p(e,r),p(r,i),p(r,m),t[29](m),p(e,_);for(let t=0;t<T.length;t+=1)T[t].m(_,null);k=!0,E||(A=[y(_,"mouseover",t[16]),y(_,"mouseout",t[30])],E=!0)},p(t,e){if((!k||4096&e[0]&&h!==(h=t[12]+.1*t[15].right))&&u(i,"x",h),(!k||512&e[0])&&u(i,"height",t[9]),(!k||4096&e[0]&&v!==(v=t[12]+.1*t[15].right))&&u(m,"x",v),(!k||2048&e[0])&&u(m,"height",t[11]),159865&e[0]){let n;for(V=t[14],n=0;n<V.length;n+=1){const r=Ya(t,V,n);T[n]?(T[n].p(r,e),N(T[n],1)):(T[n]=Ka(r),T[n].c(),N(T[n],1),T[n].m(_,null))}for(C(),n=V.length;n<T.length;n+=1)P(n);S()}(!k||1286&e[0]&&$!==($="translate("+t[1]*t[8]+", "+t[2]*t[10]+")"))&&u(n,"transform",$)},i(t){if(!k){for(let t=0;t<V.length;t+=1)N(T[t]);k=!0}},o(t){T=T.filter(Boolean);for(let t=0;t<T.length;t+=1)z(T[t]);k=!1},d(e){e&&c(n),t[29](null),f(T,e),E=!1,w(A)}}}function Ga(t,n,e){let r,i,a,o,l,s,c,u,h;x(t,tt,t=>e(8,u=t)),x(t,nt,t=>e(10,h=t));let{x:f=0}=n,{y:d=0}=n,{width:g=1}=n,{height:p=1}=n,{binsMatrix:m}=n,{renderList:y}=n,{colordata:v}=n,{crossdata:w}=n,{columns:_}=n,{columnsWithMissingValues:M}=n,{hoveredPair:$}=n,{selectedRatioInterval:k}=n,{selectedSamplingVariables:E}=n,{selectedMeasurementVariables:A}=n,{columnTypes:N}=n,{lang:z}=n;const V={top:0,bottom:0,left:0,right:20};let C;return t.$$set=t=>{"x"in t&&e(1,f=t.x),"y"in t&&e(2,d=t.y),"width"in t&&e(18,g=t.width),"height"in t&&e(19,p=t.height),"binsMatrix"in t&&e(3,m=t.binsMatrix),"renderList"in t&&e(20,y=t.renderList),"colordata"in t&&e(21,v=t.colordata),"crossdata"in t&&e(22,w=t.crossdata),"columns"in t&&e(4,_=t.columns),"columnsWithMissingValues"in t&&e(23,M=t.columnsWithMissingValues),"hoveredPair"in t&&e(0,$=t.hoveredPair),"selectedRatioInterval"in t&&e(24,k=t.selectedRatioInterval),"selectedSamplingVariables"in t&&e(25,E=t.selectedSamplingVariables),"selectedMeasurementVariables"in t&&e(26,A=t.selectedMeasurementVariables),"columnTypes"in t&&e(5,N=t.columnTypes),"lang"in t&&e(6,z=t.lang)},t.$$.update=()=>{var n,f,d;262400&t.$$.dirty[0]&&e(12,r=g*u-V.left-V.right),525312&t.$$.dirty[0]&&e(9,i=p*h-V.top-V.bottom),512&t.$$.dirty[0]&&e(13,a=i/4-5),1049088&t.$$.dirty[0]&&e(11,(n=i,f=y.length,d=4,o=0===f||f<d?n:n*(d/f))),135268864&t.$$.dirty[0]&&e(28,s=function(){var t,n,e,r,i=jr,a=qr,o=Or,l=Rr,s={},c=$r("start","drag","end"),u=0,h=0;function f(t){t.on("mousedown.drag",d).filter(l).on("touchstart.drag",m).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var o=w("mouse",a.apply(this,arguments),mn,this,arguments);o&&(dn(Jt.view).on("mousemove.drag",g,!0).on("mouseup.drag",p,!0),Cr(Jt.view),zr(),e=!1,t=Jt.clientX,n=Jt.clientY,o("start"))}}function g(){if(Vr(),!e){var r=Jt.clientX-t,i=Jt.clientY-n;e=r*r+i*i>h}s.mouse("drag")}function p(){dn(Jt.view).on("mousemove.drag mouseup.drag",null),Sr(Jt.view,e),Vr(),s.mouse("end")}function m(){if(i.apply(this,arguments)){var t,n,e=Jt.changedTouches,r=a.apply(this,arguments),o=e.length;for(t=0;t<o;++t)(n=w(e[t].identifier,r,yn,this,arguments))&&(zr(),n("start"))}}function y(){var t,n,e=Jt.changedTouches,r=e.length;for(t=0;t<r;++t)(n=s[e[t].identifier])&&(Vr(),n("drag"))}function v(){var t,n,e=Jt.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=s[e[t].identifier])&&(zr(),n("end"))}function w(t,n,e,r,i){var a,l,h,d=e(n,t),g=c.copy();if(on(new Pr(f,"beforestart",a,t,u,d[0],d[1],0,0,g),(function(){return null!=(Jt.subject=a=o.apply(r,i))&&(l=a.x-d[0]||0,h=a.y-d[1]||0,!0)})))return function o(c){var p,m=d;switch(c){case"start":s[t]=o,p=u++;break;case"end":delete s[t],--u;case"drag":d=e(n,t),p=u}on(new Pr(f,c,a,t,p,d[0]+l,d[1]+h,d[0]-m[0],d[1]-m[1],g),g.apply,g,[c,r,i])}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:Tr(!!t),f):i},f.container=function(t){return arguments.length?(a="function"==typeof t?t:Tr(t),f):a},f.subject=function(t){return arguments.length?(o="function"==typeof t?t:Tr(t),f):o},f.touchable=function(t){return arguments.length?(l="function"==typeof t?t:Tr(!!t),f):l},f.on=function(){var t=c.on.apply(c,arguments);return t===c?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}().on("start",(function(){dn(this).attr("stroke","black")})).on("drag",(function(){let t;t=Jt.y-o/2<0?0:Jt.y-o/2>i-o?i-o:Jt.y-o/2,dn(this).attr("y",t);const n=Math.floor(t/(i*(1/y.length)));c!==n&&e(27,c=n)})).on("end",(function(){dn(this).attr("stroke","none")}))),117440640&t.$$.dirty[0]&&e(27,c=function(t,n){return t&&t.setAttribute("y","0"),0}(C)),135266305&t.$$.dirty[0]&&e(14,l=function(t,n,e,r){const i=t.slice(n,n+e);return r&&!i.some(t=>t[0]===r[0]&&t[1]===r[1])&&(i[0]=r),i}(y,c,4,$)),268435584&t.$$.dirty[0]&&function(t,n){t&&n&&dn(t).call(n)}(C,s)},[$,f,d,m,_,N,z,C,u,i,h,o,r,a,l,V,t=>{e(0,$=[+t.target.getAttribute("i"),+t.target.getAttribute("j")])},function(t,n){const e=M.includes(_[t]),r=M.includes(_[n]);return e&&r?(t=>rr().domain([0,.05,.4,.6,.95,1]).range([ya(1),ya(.8),"#9C9C9C","#9C9C9C",ya(.2),ya(0)])(t))(v[t][n]):Hn("darkseagreen").darker()},g,p,y,v,w,M,k,E,A,c,s,function(t){b[t?"unshift":"push"](()=>{C=t,e(7,C)})},()=>e(0,$=null)]}class Qa extends n{constructor(t){super(),e(this,t,Ga,Za,r,{x:1,y:2,width:18,height:19,binsMatrix:3,renderList:20,colordata:21,crossdata:22,columns:4,columnsWithMissingValues:23,hoveredPair:0,selectedRatioInterval:24,selectedSamplingVariables:25,selectedMeasurementVariables:26,columnTypes:5,lang:6},[-1,-1])}}const Ja=(t,n)=>t<=Math.max(...n)&&t>=Math.min(...n);var to={},no={};function eo(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function ro(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function io(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function ao(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+io(-n,6):n>9999?"+"+io(n,6):io(n,4))+"-"+io(t.getUTCMonth()+1,2)+"-"+io(t.getUTCDate(),2)+(a?"T"+io(e,2)+":"+io(r,2)+":"+io(i,2)+"."+io(a,3)+"Z":i?"T"+io(e,2)+":"+io(r,2)+":"+io(i,2)+"Z":r||e?"T"+io(e,2)+":"+io(r,2)+"Z":"")}var oo=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],a=t.length,o=0,l=0,s=a<=0,c=!1;function u(){if(s)return no;if(c)return c=!1,to;var n,r,i=o;if(34===t.charCodeAt(i)){for(;o++<a&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(n=o)>=a?s=!0:10===(r=t.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=t.charCodeAt(n=o++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(o)&&++o;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,a)}for(10===t.charCodeAt(a-1)&&--a,13===t.charCodeAt(a-1)&&--a;(r=u())!==no;){for(var h=[];r!==to&&r!==no;)h.push(r),r=u();n&&null==(h=n(h,l++))||i.push(h)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return o(n[t])})).join(t)}))}function a(n){return n.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?ao(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,a=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=eo(t);return function(r,i){return n(e(r),i,t)}}(t,n):eo(t)}));return a.columns=i||[],a},parseRows:r,format:function(n,e){return null==e&&(e=ro(n)),[e.map(o).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=ro(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(a).join("\n")},formatRow:a,formatValue:o}}(",").parse;function lo(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;so&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}var so=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function co(t){const n=t.map(t=>t.mask),e=t.map(t=>t.value),r=e.filter(t=>null===t).length,i=n.filter(t=>t).length,a=e.filter((t,e)=>n[e]);return 0===i||0===r||0===a.length?0:a.filter(t=>null===t).length/a.length}function uo(t,n){return n.map((n,e)=>({value:n,mask:t[e]})).sort((t,n)=>K(t.value,n.value))}function ho(t,n,e,r){return[t.map(t=>null===t[n[e]]),t.map(t=>t[n[r]])]}function fo(t){const n=t.filter(t=>null!==t.value),e=n.map(t=>t.mask),r=n.length/e.filter(t=>t).length;let i=0,a=-1/0,o=1/0;for(let t=0;t<e.length;t++)i-=1,e[t]&&(i+=r),i>a&&(a=i),i<o&&(o=i);let l=a-o;return l=isNaN(l)?0:l,l}function go(t){const n=t.filter(t=>null!==t.value),e=n.filter(t=>t.mask).length/n.length,r=[...new Set(n.map(t=>t.value))].map(t=>n.filter(n=>n.value===t)).map(t=>{const n=Math.floor(t.length*e),r=t.filter(t=>t.mask).length;return Math.pow(n-r,2)}),i=Z(r);return Math.sqrt(i)}function po(t,n,e,r,i,a,o=null,l=null,s=100){const c=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null)),u=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null));for(let a=0;a<n.length;a++){if(0!==r[a][a])for(let h=0;h<n.length;h++){if(a===h)continue;const[f,d]=ho(t,n,a,h),g=uo(f,d);u[a][h]=0,c[a][h]=0;for(let t=0;t<s;t++){let t=xo(g);u[a][h]+=co(t)>=i[a][h]?0:1,"Quantitative"===e[h]||"Ordinal"===e[h]?c[a][h]+=fo(t)>=r[a][h]?0:1:c[a][h]+=go(t)>=r[a][h]?0:1}if(c[a][h]=c[a][h]/s,u[a][h]=u[a][h]/s,o){const t=o[0][0]+1,n=o[a][h]*((t-1)/t)+c[a][h]/t;c[a][h]=n,c[0][0]=o[0][0],c[1][1]=o[1][1];const e=l[a][h]*((t-1)/t)+u[a][h]/t;u[a][h]=e,u[0][0]=l[0][0],u[1][1]=l[1][1]}}}return c[0][0]++,c[1][1]+=s,u[0][0]++,u[1][1]+=s,{estimativeMatrix:c,coMissingEstimativeMatrix:u}}function mo(t,n){"number"==typeof n[0]&&n.sort(K);let e=new Array(n.length+1);for(let t=0;t<n.length;t++)e[t]={name:n[t],count:0};for(let r=0;r<t.length;r++){const i=t[r];if(null===i)continue;e[n.indexOf(i)].count++}return e[e.length-1]={name:"miss",count:t.filter(t=>null===t).length},e}function yo(t){return t.filter((t,n,e)=>e.indexOf(t)===n)}function vo(t,n){let e=0,r=new Array(n.numOfBins+1);for(let t=0;t<=n.numOfBins;t++)r[t]={name:e,minNum:n.min+t*n.binWidth,maxNum:n.min+(t+1)*n.binWidth,count:0},e++;for(let e=0;e<t.length;e++){const i=t[e];if(null===i)continue;r[Math.floor((i-n.min)/n.binWidth)].count++}return r[r.length-1]={name:"miss",count:t.filter(t=>null===t).length},r}function wo(t){const[n,e]=G(t),r=Math.min(10,2*Math.ceil(Math.pow(t.length,1/3)));return{binWidth:Math.abs(n-e)/r,min:n,numOfBins:r}}function xo(t){const n=t.map(t=>({...t})),e=t.map(t=>t.mask);return Q(e).forEach((t,e)=>{n[e].mask=t}),n}function bo(t){let n,e,r,i,h,f,y,v,w,x,_,M,$,C,S,j,q,O,R,I,B,D,L,F,U,H,X,W,Y,K,Z,G,Q,J="pt"===t[1]?"Mais que o esperado":"More than expected",tt="pt"===t[1]?"Menos que o esperado":"Less than expected";function nt(n){t[16](n)}function et(n){t[17](n)}function rt(n){t[18](n)}function it(n){t[19](n)}function at(n){t[20](n)}function ot(n){t[21](n)}function lt(n){t[22](n)}e=new Ba({props:{lang:t[1],convergence:t[7],height:.05,width:.7,x:0,y:0}});let st={lang:t[1],binsMatrix:t[13],columnTypes:t[0].types,columns:t[0].columns,columnsWithMissingValues:t[15],crossdata:t[9],height:.95,refine:t[14],width:.7,x:0,y:.05};function ct(n){t[23](n)}void 0!==t[2]&&(st.arcdata=t[2]),void 0!==t[6]&&(st.colordata=t[6]),void 0!==t[7]&&(st.convergence=t[7]),void 0!==t[8]&&(st.hoveredPair=t[8]),void 0!==t[5]&&(st.selectedMeasurementVariables=t[5]),void 0!==t[3]&&(st.selectedRatioInterval=t[3]),void 0!==t[4]&&(st.selectedSamplingVariables=t[4]),L=new qa({props:st}),b.push(()=>T(L,"arcdata",nt)),b.push(()=>T(L,"colordata",et)),b.push(()=>T(L,"convergence",rt)),b.push(()=>T(L,"hoveredPair",it)),b.push(()=>T(L,"selectedMeasurementVariables",at)),b.push(()=>T(L,"selectedRatioInterval",ot)),b.push(()=>T(L,"selectedSamplingVariables",lt));let ut={lang:t[1],binsMatrix:t[13],colordata:t[6],columnTypes:t[0].types,columns:t[0].columns,columnsWithMissingValues:t[15],crossdata:t[9],height:.95,renderList:t[10],selectedMeasurementVariables:t[5],selectedRatioInterval:t[3],selectedSamplingVariables:t[4],width:.3,x:.7,y:.05};return void 0!==t[8]&&(ut.hoveredPair=t[8]),Z=new Qa({props:ut}),b.push(()=>T(Z,"hoveredPair",ct)),{c(){n=o("svg"),k(e.$$.fragment),r=o("g"),i=o("g"),h=o("rect"),v=o("text"),w=d(J),$=o("g"),C=o("rect"),q=o("text"),O=d(tt),k(L.$$.fragment),k(Z.$$.fragment),this.h()},l(t){n=l(t,"svg",{height:!0,width:!0},1);var a=s(n);E(e.$$.fragment,a),r=l(a,"g",{class:!0,transform:!0},1);var o=s(r);i=l(o,"g",{transform:!0},1);var u=s(i);h=l(u,"rect",{fill:!0,height:!0,width:!0},1),s(h).forEach(c),v=l(u,"text",{"alignment-baseline":!0,"font-size":!0,x:!0,y:!0},1);var f=s(v);w=g(f,J),f.forEach(c),u.forEach(c),$=l(o,"g",{transform:!0},1);var d=s($);C=l(d,"rect",{fill:!0,height:!0,width:!0},1),s(C).forEach(c),q=l(d,"text",{"alignment-baseline":!0,"font-size":!0,x:!0,y:!0},1);var p=s(q);O=g(p,tt),p.forEach(c),d.forEach(c),o.forEach(c),E(L.$$.fragment,a),E(Z.$$.fragment,a),a.forEach(c),this.h()},h(){u(h,"fill","mediumseagreen"),u(h,"height",f=.025*t[11]),u(h,"width",y=.025*t[11]),u(v,"alignment-baseline","middle"),u(v,"font-size","16px"),u(v,"x",x=.025*t[11]+5),u(v,"y",_=.0125*t[11]+1.5),u(i,"transform",M="translate(40, "+.0125*t[11]+")"),u(C,"fill","tomato"),u(C,"height",S=.025*t[11]),u(C,"width",j=.025*t[11]),u(q,"alignment-baseline","middle"),u(q,"font-size","16px"),u(q,"x",R=.025*t[11]+5),u(q,"y",I=.0125*t[11]+1.5),u($,"transform",B="translate("+(40+.15*t[12])+", "+.0125*t[11]+")"),u(r,"class","list-legend"),u(r,"transform",D="translate("+.7*t[12]+",0)"),u(n,"height",t[11]),u(n,"width",t[12])},m(t,o){a(t,n,o),A(e,n,null),p(n,r),p(r,i),p(i,h),p(i,v),p(v,w),p(r,$),p($,C),p($,q),p(q,O),A(L,n,null),A(Z,n,null),Q=!0},p(t,[a]){const o={};2&a&&(o.lang=t[1]),128&a&&(o.convergence=t[7]),e.$set(o),(!Q||2048&a&&f!==(f=.025*t[11]))&&u(h,"height",f),(!Q||2048&a&&y!==(y=.025*t[11]))&&u(h,"width",y),(!Q||2&a)&&J!==(J="pt"===t[1]?"Mais que o esperado":"More than expected")&&m(w,J),(!Q||2048&a&&x!==(x=.025*t[11]+5))&&u(v,"x",x),(!Q||2048&a&&_!==(_=.0125*t[11]+1.5))&&u(v,"y",_),(!Q||2048&a&&M!==(M="translate(40, "+.0125*t[11]+")"))&&u(i,"transform",M),(!Q||2048&a&&S!==(S=.025*t[11]))&&u(C,"height",S),(!Q||2048&a&&j!==(j=.025*t[11]))&&u(C,"width",j),(!Q||2&a)&&tt!==(tt="pt"===t[1]?"Menos que o esperado":"Less than expected")&&m(O,tt),(!Q||2048&a&&R!==(R=.025*t[11]+5))&&u(q,"x",R),(!Q||2048&a&&I!==(I=.0125*t[11]+1.5))&&u(q,"y",I),(!Q||6144&a&&B!==(B="translate("+(40+.15*t[12])+", "+.0125*t[11]+")"))&&u($,"transform",B),(!Q||4096&a&&D!==(D="translate("+.7*t[12]+",0)"))&&u(r,"transform",D);const l={};2&a&&(l.lang=t[1]),1&a&&(l.columnTypes=t[0].types),1&a&&(l.columns=t[0].columns),512&a&&(l.crossdata=t[9]),!F&&4&a&&(F=!0,l.arcdata=t[2],P(()=>F=!1)),!U&&64&a&&(U=!0,l.colordata=t[6],P(()=>U=!1)),!H&&128&a&&(H=!0,l.convergence=t[7],P(()=>H=!1)),!X&&256&a&&(X=!0,l.hoveredPair=t[8],P(()=>X=!1)),!W&&32&a&&(W=!0,l.selectedMeasurementVariables=t[5],P(()=>W=!1)),!Y&&8&a&&(Y=!0,l.selectedRatioInterval=t[3],P(()=>Y=!1)),!K&&16&a&&(K=!0,l.selectedSamplingVariables=t[4],P(()=>K=!1)),L.$set(l);const s={};2&a&&(s.lang=t[1]),64&a&&(s.colordata=t[6]),1&a&&(s.columnTypes=t[0].types),1&a&&(s.columns=t[0].columns),512&a&&(s.crossdata=t[9]),1024&a&&(s.renderList=t[10]),32&a&&(s.selectedMeasurementVariables=t[5]),8&a&&(s.selectedRatioInterval=t[3]),16&a&&(s.selectedSamplingVariables=t[4]),!G&&256&a&&(G=!0,s.hoveredPair=t[8],P(()=>G=!1)),Z.$set(s),(!Q||2048&a)&&u(n,"height",t[11]),(!Q||4096&a)&&u(n,"width",t[12])},i(t){Q||(N(e.$$.fragment,t),N(L.$$.fragment,t),N(Z.$$.fragment,t),Q=!0)},o(t){z(e.$$.fragment,t),z(L.$$.fragment,t),z(Z.$$.fragment,t),Q=!1},d(t){t&&c(n),V(e),V(L),V(Z)}}}function _o(t,n,e){let r,i,a,o;x(t,nt,t=>e(11,a=t)),x(t,tt,t=>e(12,o=t));let{data:l}=n,{lang:s}=n,[c,u,h,f]=function(t,n,e){const r=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null)),i=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null)),a=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null));for(let o=0;o<n.length;o++){const l=n[o],s=t.filter(t=>null===t[l]).length;if(r[o][o]=s,0!==s)for(let c=0;c<n.length;c++){if(o===c)continue;const[u,h]=ho(t,n,o,c),f=uo(u,h),d=n[c];let g=t.map(t=>t[d]),p=t.filter(t=>null===t[l]).map(t=>t[d]);if("Quantitative"===e[c]||"Ordinal"===e[c]){const n=wo(g),e=a[c][c]?a[c][c]:vo(g,n),i=e.map(n=>({...n,count:Math.round(s/t.length*n.count)})),l=vo(p,n);r[o][c]=fo(f),null===a[c][c]&&(a[c][c]=e),a[o][c]=[i,l]}else{const n=yo(g),e=a[c][c]?a[c][c]:mo(g,n),i=e.map(n=>({...n,count:s/t.length*n.count})),l=mo(p,n);r[o][c]=go(f),null===a[c][c]&&(a[c][c]=e),a[o][c]=[i,l]}i[o][c]=co(f)}}const{estimativeMatrix:o,coMissingEstimativeMatrix:l}=po(t,t.columns,e,r,i);return[o,l,a,(n,o,l)=>po(t,t.columns,e,r,i,a,n,o,l)]}(l,l.validColumns,l.types);const d=l.columnsWithMissingValues;let g=100,p=[1,0],m=[],y=[],v=null;return t.$$set=t=>{"data"in t&&e(0,l=t.data),"lang"in t&&e(1,s=t.lang)},t.$$.update=()=>{1&t.$$.dirty&&e(9,r=function(t,n){const e=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null));for(let r=0;r<n.length;r++)for(let i=0;i<n.length;i++)if(r!==i){let a=0,o=0,l=0;for(let e of t){const t=null===e[n[r]],s=null===e[n[i]];t&&a++,s&&o++,t&&s&&l++}e[r][i]=0===o||0===a?0:(l/a+l/o)/2}return e}(l,l.validColumns)),60&t.$$.dirty&&e(10,i=function(t,n,e,r){const i=[];for(let a=0;a<t.length;a++)for(let o=0;o<t[0].length;o++)a===o||null===t[a][o]||!Ja(t[a][o],n)||0!==e.length&&!e.includes(a)||0!==r.length&&!r.includes(o)||i.push([a,o]);return i}(c,p,m,y))},[l,s,c,p,m,y,u,g,v,r,i,a,o,h,f,d,function(t){c=t,e(2,c)},function(t){u=t,e(6,u)},function(t){g=t,e(7,g)},function(t){v=t,e(8,v)},function(t){y=t,e(5,y)},function(t){p=t,e(3,p)},function(t){m=t,e(4,m)},function(t){v=t,e(8,v)}]}class Mo extends n{constructor(t){super(),e(this,t,_o,bo,r,{data:0,lang:1})}}function $o(t,n,e){const r=t.slice();return r[9]=n[e],r[11]=e,r}function ko(t){let n,e,r;return{c(){n=o("rect"),this.h()},l(t){n=l(t,"rect",{y:!0,height:!0,width:!0,fill:!0},1),s(n).forEach(c),this.h()},h(){u(n,"y",e=t[11]*t[2]),u(n,"height",t[2]),u(n,"width",t[0]),u(n,"fill",r=t[3](t[9]))},m(t,e){a(t,n,e)},p(t,i){4&i&&e!==(e=t[11]*t[2])&&u(n,"y",e),4&i&&u(n,"height",t[2]),1&i&&u(n,"width",t[0]),2&i&&r!==(r=t[3](t[9]))&&u(n,"fill",r)},d(t){t&&c(n)}}}function Eo(t){let n,e=t[1],r=[];for(let n=0;n<e.length;n+=1)r[n]=ko($o(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=i()},l(t){for(let n=0;n<r.length;n+=1)r[n].l(t);n=i()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);a(t,n,e)},p(t,[i]){if(15&i){let a;for(e=t[1],a=0;a<e.length;a+=1){const o=$o(t,e,a);r[a]?r[a].p(o,i):(r[a]=ko(o),r[a].c(),r[a].m(n.parentNode,n))}for(;a<r.length;a+=1)r[a].d(1);r.length=e.length}},i:v,o:v,d(t){f(r,t),t&&c(n)}}}function Ao(t,n,e){let r,i,{width:a}=n,{height:o}=n,{data:l}=n,{column:s}=n,{categorical:c}=n,{categoricalColorScale:u}=n;return t.$$set=t=>{"width"in t&&e(0,a=t.width),"height"in t&&e(4,o=t.height),"data"in t&&e(1,l=t.data),"column"in t&&e(5,s=t.column),"categorical"in t&&e(6,c=t.categorical),"categoricalColorScale"in t&&e(7,u=t.categoricalColorScale)},t.$$.update=()=>{18&t.$$.dirty&&e(2,r=o/l.length),226&t.$$.dirty&&(i=c?u:rr().domain(G(l,t=>t[s])).range(["white","steelblue"]))},[a,l,r,function(t){return null===t[s]?"#71706F":i(t[s])},o,s,c,u]}class No extends n{constructor(t){super(),e(this,t,Ao,Eo,r,{width:0,height:4,data:1,column:5,categorical:6,categoricalColorScale:7})}}function zo(t,n,e){const r=t.slice();return r[18]=n[e],r[20]=e,r}function Vo(t,n,e){const r=t.slice();return r[20]=n[e],r}function Co(t,n,e){const r=t.slice();return r[18]=n[e],r[20]=e,r}function So(t){let n,e,r,i,h,f,v,w,x,b,_,M=t[18]+"";return f=new No({props:{categoricalColorScale:t[9],categorical:"Categorical"===t[0].types[t[20]],data:t[7],column:t[18],width:t[8].bandwidth(),height:t[4]}}),{c(){n=o("g"),e=o("text"),r=d(M),h=o("g"),k(f.$$.fragment),this.h()},l(t){n=l(t,"g",{opacity:!0},1);var i=s(n);e=l(i,"text",{cursor:!0,"font-size":!0,transform:!0},1);var a=s(e);r=g(a,M),a.forEach(c),h=l(i,"g",{transform:!0},1);var o=s(h);E(f.$$.fragment,o),o.forEach(c),i.forEach(c),this.h()},h(){u(e,"cursor","pointer"),u(e,"font-size","16px"),u(e,"transform",i="translate("+(t[8](t[18])+t[8].bandwidth()/2)+", -5)rotate(-30)"),u(h,"transform",v="translate("+t[8](t[18])+",0)"),u(n,"opacity",w=0===t[6].length||t[6].includes(t[18])?1:.2)},m(i,o){a(i,n,o),p(n,e),p(e,r),p(n,h),A(f,h,null),x=!0,b||(_=y(e,"click",(function(){j(t[11](event,t[18]))&&t[11](event,t[18]).apply(this,arguments)})),b=!0)},p(a,o){t=a,(!x||1&o)&&M!==(M=t[18]+"")&&m(r,M),(!x||257&o&&i!==(i="translate("+(t[8](t[18])+t[8].bandwidth()/2)+", -5)rotate(-30)"))&&u(e,"transform",i);const l={};512&o&&(l.categoricalColorScale=t[9]),1&o&&(l.categorical="Categorical"===t[0].types[t[20]]),128&o&&(l.data=t[7]),1&o&&(l.column=t[18]),256&o&&(l.width=t[8].bandwidth()),16&o&&(l.height=t[4]),f.$set(l),(!x||257&o&&v!==(v="translate("+t[8](t[18])+",0)"))&&u(h,"transform",v),(!x||65&o&&w!==(w=0===t[6].length||t[6].includes(t[18])?1:.2))&&u(n,"opacity",w)},i(t){x||(N(f.$$.fragment,t),x=!0)},o(t){z(f.$$.fragment,t),x=!1},d(t){t&&c(n),V(f),b=!1,_()}}}function To(t){let n,e,r,i,h,f;return{c(){n=o("rect"),this.h()},l(t){n=l(t,"rect",{y:!0,x:!0,width:!0,height:!0,fill:!0},1),s(n).forEach(c),this.h()},h(){u(n,"y",e=t[13].bottom/6),u(n,"x",r=t[20]*((t[2]-150)/1e3)),u(n,"width",i=(t[2]-150)/1e3+1),u(n,"height",h=t[13].bottom/5),u(n,"fill",f=t[10](t[20]/1e3))},m(t,e){a(t,n,e)},p(t,e){4&e&&r!==(r=t[20]*((t[2]-150)/1e3))&&u(n,"x",r),4&e&&i!==(i=(t[2]-150)/1e3+1)&&u(n,"width",i),1024&e&&f!==(f=t[10](t[20]/1e3))&&u(n,"fill",f)},d(t){t&&c(n)}}}function Po(t){let n,e,r,i,h,f,y,v,w,x,b=t[18]+"";return{c(){n=o("text"),e=d(b),h=o("rect"),this.h()},l(t){n=l(t,"text",{"font-size":!0,"text-anchor":!0,x:!0,y:!0},1);var r=s(n);e=g(r,b),r.forEach(c),h=l(t,"rect",{fill:!0,height:!0,width:!0,stroke:!0,"stroke-width":!0,"shape-rendering":!0,x:!0,y:!0},1),s(h).forEach(c),this.h()},h(){u(n,"font-size","16px"),u(n,"text-anchor","middle"),u(n,"x",r=200*(t[20]+1)+37.5),u(n,"y",i=10),u(h,"fill",f=t[9](t[18])),u(h,"height",y=t[13].bottom/5),u(h,"width",v=75),u(h,"stroke","#050505"),u(h,"stroke-width","1"),u(h,"shape-rendering","crispEdges"),u(h,"x",w=200*(t[20]+1)),u(h,"y",x=15)},m(t,r){a(t,n,r),p(n,e),a(t,h,r)},p(t,n){512&n&&b!==(b=t[18]+"")&&m(e,b),512&n&&f!==(f=t[9](t[18]))&&u(h,"fill",f)},d(t){t&&c(n),t&&c(h)}}}function jo(t){let n,e,r,i,h,y,v,w,x,b,_,M,$,k,E,A,V,T,P,j,q,O,R,I,B,D,F,U,H,X,W,Y,K="pt"===t[1]?"Dado faltante":"Missing Data",Z="pt"===t[1]?"< Valor baixo":"< Low value",G="pt"===t[1]?"Valor mediano":"Medium Value",Q="pt"===t[1]?"Valor alto >":"High Value >",J=t[0].columns,tt=[];for(let n=0;n<J.length;n+=1)tt[n]=So(Co(t,J,n));const nt=t=>z(tt[t],1,1,()=>{tt[t]=null});let et=L(1e3),rt=[];for(let n=0;n<et.length;n+=1)rt[n]=To(Vo(t,et,n));let it=t[12]&&function(t){let n,e,r,i,h,m,y=t[12]+": ",v=t[9].domain().filter(qo),w=[];for(let n=0;n<v.length;n+=1)w[n]=Po(zo(t,v,n));return{c(){n=o("g"),e=o("text"),r=d(y);for(let t=0;t<w.length;t+=1)w[t].c();this.h()},l(t){n=l(t,"g",{class:!0,transform:!0},1);var i=s(n);e=l(i,"text",{"font-size":!0,"text-anchor":!0,x:!0,y:!0},1);var a=s(e);r=g(a,y),a.forEach(c);for(let t=0;t<w.length;t+=1)w[t].l(i);i.forEach(c),this.h()},h(){u(e,"font-size","16px"),u(e,"text-anchor","start"),u(e,"x",i=0),u(e,"y",h=25),u(n,"class","categorical-legend"),u(n,"transform",m="translate(0,"+(t[4]+60)+")")},m(t,i){a(t,n,i),p(n,e),p(e,r);for(let t=0;t<w.length;t+=1)w[t].m(n,null)},p(t,e){if(8704&e){let r;for(v=t[9].domain().filter(qo),r=0;r<v.length;r+=1){const i=zo(t,v,r);w[r]?w[r].p(i,e):(w[r]=Po(i),w[r].c(),w[r].m(n,null))}for(;r<w.length;r+=1)w[r].d(1);w.length=v.length}16&e&&m!==(m="translate(0,"+(t[4]+60)+")")&&u(n,"transform",m)},d(t){t&&c(n),f(w,t)}}}(t);return{c(){n=o("svg"),e=o("g");for(let t=0;t<tt.length;t+=1)tt[t].c();r=o("g");for(let t=0;t<rt.length;t+=1)rt[t].c();i=o("rect"),x=o("text"),b=d(K),$=o("rect"),T=o("text"),P=d(Z),O=o("text"),R=d(G),D=o("text"),F=d(Q),it&&it.c(),this.h()},l(t){n=l(t,"svg",{height:!0,width:!0},1);var a=s(n);e=l(a,"g",{transform:!0},1);var o=s(e);for(let t=0;t<tt.length;t+=1)tt[t].l(o);r=l(o,"g",{class:!0,transform:!0},1);var u=s(r);for(let t=0;t<rt.length;t+=1)rt[t].l(u);i=l(u,"rect",{fill:!0,height:!0,stroke:!0,width:!0,x:!0,y:!0},1),s(i).forEach(c),x=l(u,"text",{"font-size":!0,"text-anchor":!0,x:!0,y:!0},1);var h=s(x);b=g(h,K),h.forEach(c),$=l(u,"rect",{fill:!0,height:!0,stroke:!0,"stroke-width":!0,width:!0,x:!0,y:!0},1),s($).forEach(c),T=l(u,"text",{"font-size":!0,"text-anchor":!0,x:!0,y:!0},1);var f=s(T);P=g(f,Z),f.forEach(c),O=l(u,"text",{"font-size":!0,"text-anchor":!0,x:!0,y:!0},1);var d=s(O);R=g(d,G),d.forEach(c),D=l(u,"text",{"font-size":!0,"text-anchor":!0,x:!0,y:!0},1);var p=s(D);F=g(p,Q),p.forEach(c),u.forEach(c),it&&it.l(o),o.forEach(c),a.forEach(c),this.h()},h(){u(i,"fill","#71706F"),u(i,"height",h=t[13].bottom/5),u(i,"stroke","#71706F"),u(i,"width",y=100),u(i,"x",v=t[2]-100),u(i,"y",w=t[13].bottom/6),u(x,"font-size","16px"),u(x,"text-anchor","middle"),u(x,"x",_=t[2]-50),u(x,"y",M=10),u($,"fill","none"),u($,"height",k=t[13].bottom/5),u($,"stroke","black"),u($,"stroke-width","1"),u($,"width",E=t[2]-150),u($,"x",A=0),u($,"y",V=t[13].bottom/6),u(T,"font-size","16px"),u(T,"text-anchor","start"),u(T,"x",j=0),u(T,"y",q=10),u(O,"font-size","16px"),u(O,"text-anchor","middle"),u(O,"x",I=(t[2]-100)/2),u(O,"y",B=10),u(D,"font-size","16px"),u(D,"text-anchor","end"),u(D,"x",U=t[2]-150),u(D,"y",H=10),u(r,"class","color-legend"),u(r,"transform",X="translate(0,"+(t[4]+10)+")"),u(e,"transform",W="translate("+t[13].left+","+t[13].top+")"),u(n,"height",t[5]),u(n,"width",t[3])},m(t,o){a(t,n,o),p(n,e);for(let t=0;t<tt.length;t+=1)tt[t].m(e,null);p(e,r);for(let t=0;t<rt.length;t+=1)rt[t].m(r,null);p(r,i),p(r,x),p(x,b),p(r,$),p(r,T),p(T,P),p(r,O),p(O,R),p(r,D),p(D,F),it&&it.m(e,null),Y=!0},p(t,[a]){if(3025&a){let n;for(J=t[0].columns,n=0;n<J.length;n+=1){const i=Co(t,J,n);tt[n]?(tt[n].p(i,a),N(tt[n],1)):(tt[n]=So(i),tt[n].c(),N(tt[n],1),tt[n].m(e,r))}for(C(),n=J.length;n<tt.length;n+=1)nt(n);S()}if(9220&a){let n;for(et=L(1e3),n=0;n<et.length;n+=1){const e=Vo(t,et,n);rt[n]?rt[n].p(e,a):(rt[n]=To(e),rt[n].c(),rt[n].m(r,i))}for(;n<rt.length;n+=1)rt[n].d(1);rt.length=et.length}(!Y||4&a&&v!==(v=t[2]-100))&&u(i,"x",v),(!Y||2&a)&&K!==(K="pt"===t[1]?"Dado faltante":"Missing Data")&&m(b,K),(!Y||4&a&&_!==(_=t[2]-50))&&u(x,"x",_),(!Y||4&a&&E!==(E=t[2]-150))&&u($,"width",E),(!Y||2&a)&&Z!==(Z="pt"===t[1]?"< Valor baixo":"< Low value")&&m(P,Z),(!Y||2&a)&&G!==(G="pt"===t[1]?"Valor mediano":"Medium Value")&&m(R,G),(!Y||4&a&&I!==(I=(t[2]-100)/2))&&u(O,"x",I),(!Y||2&a)&&Q!==(Q="pt"===t[1]?"Valor alto >":"High Value >")&&m(F,Q),(!Y||4&a&&U!==(U=t[2]-150))&&u(D,"x",U),(!Y||16&a&&X!==(X="translate(0,"+(t[4]+10)+")"))&&u(r,"transform",X),t[12]&&it.p(t,a),(!Y||32&a)&&u(n,"height",t[5]),(!Y||8&a)&&u(n,"width",t[3])},i(t){if(!Y){for(let t=0;t<J.length;t+=1)N(tt[t]);Y=!0}},o(t){tt=tt.filter(Boolean);for(let t=0;t<tt.length;t+=1)z(tt[t]);Y=!1},d(t){t&&c(n),f(tt,t),f(rt,t),it&&it.d()}}}const qo=t=>null!==t;function Oo(t,n,e){let r,i,a,o,l,s,c,u,h,f,d;x(t,tt,t=>e(3,f=t)),x(t,nt,t=>e(5,d=t));let{data:g}=n,{lang:p}=n,m=null,y=[];const v=g.columns[g.types.indexOf("Categorical")],w={top:100,left:10,right:10,bottom:100};return t.$$set=t=>{"data"in t&&e(0,g=t.data),"lang"in t&&e(1,p=t.lang)},t.$$.update=()=>{16385&t.$$.dirty&&e(7,r=g.slice().sort((t,n)=>{if("Categorical"===g.types[g.columns.indexOf(m)]){const e=t[m]?t[m].toUpperCase():"zzzzzzzz",r=n[m]?n[m].toUpperCase():"zzzzzzzz";return e<r?-1:e>r?1:0}return J(t[m],n[m])})),1&t.$$.dirty&&e(15,i=g.slice().sort((t,n)=>{const e=t[v]?t[v].toUpperCase():"zzzzzzzz",r=n[v]?n[v].toUpperCase():"zzzzzzzz";return e<r?-1:e>r?1:0})),1&t.$$.dirty&&(a=[...new Set(g.slice().sort((t,n)=>J(t[v],n[v])).map(t=>t[v]))]),8&t.$$.dirty&&e(2,o=f-w.left-w.right),32&t.$$.dirty&&e(4,l=d-w.top-w.bottom),5&t.$$.dirty&&e(8,s=Nn().domain(g.columns).range([0,o]).padding(.05)),17&t.$$.dirty&&(c=l/g.length),32768&t.$$.dirty&&e(9,u=An().domain([...new Set(i.map(t=>t[v]))]).range([...ma,...pa,...ga]))},e(10,h=rr().domain([0,1]).range(["white","steelblue"])),[g,p,o,f,l,d,y,r,s,u,h,function(t,n){t.ctrlKey?y.includes(n)?e(6,y=y.filter(t=>t!==n)):(y.push(n),e(6,y=y.slice())):e(14,m=n)},v,w,m,i]}class Ro extends n{constructor(t){super(),e(this,t,Oo,jo,r,{data:0,lang:1})}}function Io(t){let n,e,r,i,o,h,f,m,x,b,$,k,E,A,N,z,V,C,S,T,P;return{c(){n=O("form"),e=O("div"),r=O("label"),i=d("Upload Data"),o=_(),h=O("input"),f=_(),m=O("div"),x=O("label"),b=d("Missing Encoding"),$=_(),k=O("input"),E=_(),A=O("div"),N=O("button"),z=d("Start"),V=_(),C=O("button"),S=d("Nullity Matrix"),this.h()},l(t){n=l(t,"FORM",{});var a=s(n);e=l(a,"DIV",{});var u=s(e);r=l(u,"LABEL",{for:!0});var d=s(r);i=g(d,"Upload Data"),d.forEach(c),o=M(u),h=l(u,"INPUT",{type:!0}),u.forEach(c),f=M(a),m=l(a,"DIV",{});var p=s(m);x=l(p,"LABEL",{for:!0});var y=s(x);b=g(y,"Missing Encoding"),y.forEach(c),$=M(p),k=l(p,"INPUT",{type:!0,placeholder:!0}),p.forEach(c),E=M(a),A=l(a,"DIV",{});var v=s(A);N=l(v,"BUTTON",{type:!0});var w=s(N);z=g(w,"Start"),w.forEach(c),V=M(v),C=l(v,"BUTTON",{type:!0});var _=s(C);S=g(_,"Nullity Matrix"),_.forEach(c),v.forEach(c),a.forEach(c),this.h()},h(){u(r,"for","example"),u(h,"type","file"),u(x,"for","example"),u(k,"type","text"),u(k,"placeholder","ex.: | ,, | null | miss | ?"),u(N,"type","button"),u(C,"type","button")},m(l,s){a(l,n,s),p(n,e),p(e,r),p(r,i),p(e,o),p(e,h),p(n,f),p(n,m),p(m,x),p(x,b),p(m,$),p(m,k),R(k,t[1]),p(n,E),p(n,A),p(A,N),p(N,z),p(A,V),p(A,C),p(C,S),T||(P=[y(h,"change",t[8]),y(k,"input",t[9]),y(N,"click",t[6]),y(C,"click",t[7])],T=!0)},p(t,n){2&n&&k.value!==t[1]&&R(k,t[1])},i:v,o:v,d(t){t&&c(n),T=!1,w(P)}}}function Bo(t){let n,e,r,o={ctx:t,current:null,token:null,hasCatch:!0,pending:Ho,then:Lo,catch:Do,value:11,error:12,blocks:[,,,]};return I(e=t[5](t[4],t[1]),o),{c(){n=i(),o.block.c()},l(t){n=i(),o.block.l(t)},m(t,e){a(t,n,e),o.block.m(t,o.anchor=e),o.mount=()=>n.parentNode,o.anchor=n,r=!0},p(n,r){t=n,o.ctx=t,18&r&&e!==(e=t[5](t[4],t[1]))&&I(e,o)||B(o,t,r)},i(t){r||(N(o.block),r=!0)},o(t){for(let t=0;t<3;t+=1){const n=o.blocks[t];z(n)}r=!1},d(t){t&&c(n),o.block.d(t),o.token=null,o=null}}}function Do(t){let n,e,r=t[12].message+"";return{c(){n=O("p"),e=d(r),this.h()},l(t){n=l(t,"P",{style:!0});var i=s(n);e=g(i,r),i.forEach(c),this.h()},h(){D(n,"color","red")},m(t,r){a(t,n,r),p(n,e)},p(t,n){18&n&&r!==(r=t[12].message+"")&&m(e,r)},i:v,o:v,d(t){t&&c(n)}}}function Lo(t){let n,e,r,o;const l=[Uo,Fo],s=[];function u(t,n){return t[3]?0:1}return n=u(t),e=s[n]=l[n](t),{c(){e.c(),r=i()},l(t){e.l(t),r=i()},m(t,e){s[n].m(t,e),a(t,r,e),o=!0},p(t,i){let a=n;n=u(t),n===a?s[n].p(t,i):(C(),z(s[a],1,1,()=>{s[a]=null}),S(),e=s[n],e?e.p(t,i):(e=s[n]=l[n](t),e.c()),N(e,1),e.m(r.parentNode,r))},i(t){o||(N(e),o=!0)},o(t){z(e),o=!1},d(t){s[n].d(t),t&&c(r)}}}function Fo(t){let n,e;return n=new Mo({props:{lang:Wo,data:t[11]}}),{c(){k(n.$$.fragment)},l(t){E(n.$$.fragment,t)},m(t,r){A(n,t,r),e=!0},p(t,e){const r={};18&e&&(r.data=t[11]),n.$set(r)},i(t){e||(N(n.$$.fragment,t),e=!0)},o(t){z(n.$$.fragment,t),e=!1},d(t){V(n,t)}}}function Uo(t){let n,e;return n=new Ro({props:{lang:Wo,data:t[11]}}),{c(){k(n.$$.fragment)},l(t){E(n.$$.fragment,t)},m(t,r){A(n,t,r),e=!0},p(t,e){const r={};18&e&&(r.data=t[11]),n.$set(r)},i(t){e||(N(n.$$.fragment,t),e=!0)},o(t){z(n.$$.fragment,t),e=!1},d(t){V(n,t)}}}function Ho(t){let n,e;return{c(){n=O("p"),e=d("...parsing data")},l(t){n=l(t,"P",{});var r=s(n);e=g(r,"...parsing data"),r.forEach(c)},m(t,r){a(t,n,r),p(n,e)},p:v,i:v,o:v,d(t){t&&c(n)}}}function Xo(t){let n,e,r,o,l;const s=[Bo,Io],u=[];function h(t,n){return t[2]?0:1}return e=h(t),r=u[e]=s[e](t),{c(){n=_(),r.c(),o=i(),this.h()},l(t){q('[data-svelte="svelte-1gugf0w"]',document.head).forEach(c),n=M(t),r.l(t),o=i(),this.h()},h(){document.title="Missing values diagnosis"},m(t,r){a(t,n,r),u[e].m(t,r),a(t,o,r),l=!0},p(t,[n]){let i=e;e=h(t),e===i?u[e].p(t,n):(C(),z(u[i],1,1,()=>{u[i]=null}),S(),r=u[e],r?r.p(t,n):(r=u[e]=s[e](t),r.c()),N(r,1),r.m(o.parentNode,o))},i(t){l||(N(r),l=!0)},o(t){z(r),l=!1},d(t){t&&c(n),u[e].d(t),t&&c(o)}}}let Wo="pt";function Yo(t,n,e){let r,i,a,o=!1,l=!1;return t.$$.update=()=>{1&t.$$.dirty&&e(4,r=i&&i[0])},[i,a,o,l,r,async(t,n)=>{const e=await new Promise((n,e)=>{const r=new FileReader;r.onerror=e,r.onload=t=>{const e=t.target.result;n(e)},r.readAsText(t,"UTF-8")}),r=new RegExp(""+("?"===n?"\\?":n),"gi"),i=",,"===n?e:e.replace(r,""),a=await oo(i,lo);return a.types=a.columns.map(t=>{const n=a.map(n=>n[t]);return yo(n).length<30?n.some(t=>"number"==typeof t)?"Ordinal":"Categorical":n.some(t=>"number"==typeof t)?"Quantitative":"Nominal"}),a.validColumns=a.columns.filter((t,n)=>"Nominal"!==a.types[n]),a.columnsWithMissingValues=a.columns.filter(t=>a.map(n=>n[t]).some(t=>null===t)),a},()=>{a&&r?e(2,o=!0):a?alert("Please specify data"):r?alert("Please specify missing encoding"):alert("Please specify data and missing encoding")},()=>{e(3,l=!0),a&&r?e(2,o=!0):a?alert("Please specify data"):r?alert("Please specify missing encoding"):alert("Please specify data and missing encoding")},function(){i=this.files,e(0,i)},function(){a=this.value,e(1,a)}]}export default class extends n{constructor(t){super(),e(this,t,Yo,Xo,r,{})}}
