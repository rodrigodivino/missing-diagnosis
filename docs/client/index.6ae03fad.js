import{w as t,S as n,i as e,s as r,e as i,a,b as o,c as l,d as s,f as u,g as c,t as h,h as f,j as d,k as g,l as p,m,n as v,o as y,p as w,q as b,r as x,u as _,v as M,x as $,y as k,z as A,A as E,B as N,C as V,D as j,E as S,F as T,G as C,H as P,I as R,J as I,K as z,L as B,M as O}from"./client.45524efd.js";const L=t(1e3),D=t(600);var q="http://www.w3.org/1999/xhtml",U={svg:"http://www.w3.org/2000/svg",xhtml:q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),U.hasOwnProperty(n)?{space:U[n],local:t}:t}function F(t){var n=X(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===q&&n.documentElement.namespaceURI===q?n.createElement(t):n.createElementNS(e,t)}})(n)}function H(){}function W(t){return null==t?H:function(){return this.querySelector(t)}}function Y(){return[]}function K(t){return null==t?Y:function(){return this.querySelectorAll(t)}}function Z(t){return function(){return this.matches(t)}}function G(t){return new Array(t.length)}function Q(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Q.prototype={constructor:Q,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var J="$";function tt(t,n,e,r,i,a){for(var o,l=0,s=n.length,u=a.length;l<u;++l)(o=n[l])?(o.__data__=a[l],r[l]=o):e[l]=new Q(t,a[l]);for(;l<s;++l)(o=n[l])&&(i[l]=o)}function nt(t,n,e,r,i,a,o){var l,s,u,c={},h=n.length,f=a.length,d=new Array(h);for(l=0;l<h;++l)(s=n[l])&&(d[l]=u=J+o.call(s,s.__data__,l,n),u in c?i[l]=s:c[u]=s);for(l=0;l<f;++l)(s=c[u=J+o.call(t,a[l],l,a)])?(r[l]=s,s.__data__=a[l],c[u]=null):e[l]=new Q(t,a[l]);for(l=0;l<h;++l)(s=n[l])&&c[d[l]]===s&&(i[l]=s)}function et(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function rt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function it(t,n){return t.style.getPropertyValue(n)||rt(t).getComputedStyle(t,null).getPropertyValue(n)}function at(t){return t.trim().split(/^|\s+/)}function ot(t){return t.classList||new lt(t)}function lt(t){this._node=t,this._names=at(t.getAttribute("class")||"")}function st(t,n){for(var e=ot(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ut(t,n){for(var e=ot(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ct(){this.textContent=""}function ht(){this.innerHTML=""}function ft(){this.nextSibling&&this.parentNode.appendChild(this)}function dt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gt(){return null}function pt(){var t=this.parentNode;t&&t.removeChild(this)}function mt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function vt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}lt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var yt={},wt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(yt={mouseenter:"mouseover",mouseleave:"mouseout"}));function bt(t,n,e){return t=xt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function xt(t,n,e){return function(r){var i=wt;wt=r;try{t.call(this,this.__data__,n,e)}finally{wt=i}}}function _t(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,a=n.length;r<a;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Mt(t,n,e){var r=yt.hasOwnProperty(t.type)?bt:xt;return function(i,a,o){var l,s=this.__on,u=r(n,a,o);if(s)for(var c=0,h=s.length;c<h;++c)if((l=s[c]).type===t.type&&l.name===t.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=u,l.capture=e),void(l.value=n);this.addEventListener(t.type,u,e),l={type:t.type,name:t.name,value:n,listener:u,capture:e},s?s.push(l):this.__on=[l]}}function $t(t,n,e,r){var i=wt;t.sourceEvent=wt,wt=t;try{return n.apply(e,r)}finally{wt=i}}function kt(t,n,e){var r=rt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var At=[null];function Et(t,n){this._groups=t,this._parents=n}function Nt(){return new Et([[document.documentElement]],At)}function Vt(t){return"string"==typeof t?new Et([[document.querySelector(t)]],[document.documentElement]):new Et([[t]],At)}function jt(){for(var t,n=wt;t=n.sourceEvent;)n=t;return n}function St(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Tt(t){var n=jt();return n.changedTouches&&(n=n.changedTouches[0]),St(t,n)}function Ct(t,n,e){arguments.length<3&&(e=n,n=jt().changedTouches);for(var r,i=0,a=n?n.length:0;i<a;++i)if((r=n[i]).identifier===e)return St(t,r);return null}function Pt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}Et.prototype=Nt.prototype={constructor:Et,select:function(t){"function"!=typeof t&&(t=W(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o,l=n[i],s=l.length,u=r[i]=new Array(s),c=0;c<s;++c)(a=l[c])&&(o=t.call(a,a.__data__,c,l))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new Et(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=K(t));for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o,l=n[a],s=l.length,u=0;u<s;++u)(o=l[u])&&(r.push(t.call(o,o.__data__,u,l)),i.push(o));return new Et(r,i)},filter:function(t){"function"!=typeof t&&(t=Z(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],l=o.length,s=r[i]=[],u=0;u<l;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&s.push(a);return new Et(r,this._parents)},data:function(t,n){if(!t)return g=new Array(this.size()),c=-1,this.each(function(t){g[++c]=t}),g;var e,r=n?nt:tt,i=this._parents,a=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var o=a.length,l=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var h=i[c],f=a[c],d=f.length,g=t.call(h,h&&h.__data__,c,i),p=g.length,m=s[c]=new Array(p),v=l[c]=new Array(p);r(h,f,m,v,u[c]=new Array(d),g,n);for(var y,w,b=0,x=0;b<p;++b)if(y=m[b]){for(b>=x&&(x=b+1);!(w=v[x])&&++x<p;);y._next=w||null}}return(l=new Et(l,i))._enter=s,l._exit=u,l},enter:function(){return new Et(this._enter||this._groups.map(G),this._parents)},exit:function(){return new Et(this._exit||this._groups.map(G),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?a.remove():e(a),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,u=n[l],c=e[l],h=u.length,f=o[l]=new Array(h),d=0;d<h;++d)(s=u[d]||c[d])&&(f[d]=s);for(;l<r;++l)o[l]=n[l];return new Et(o,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=et);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,l=e[a],s=l.length,u=i[a]=new Array(s),c=0;c<s;++c)(o=l[c])&&(u[c]=o);u.sort(n)}return new Et(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,a=n[e],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,n){var e=X(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):it(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=at(t+"");if(arguments.length<2){for(var r=ot(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?st:ut)(this,t)}}:n?function(t){return function(){st(this,t)}}:function(t){return function(){ut(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?ct:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ht:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(ft)},lower:function(){return this.each(dt)},append:function(t){var n="function"==typeof t?t:F(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:F(t),r=null==n?gt:"function"==typeof n?n:W(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(pt)},clone:function(t){return this.select(t?vt:mt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,a=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),o=a.length;if(!(arguments.length<2)){for(l=n?Mt:_t,null==e&&(e=!1),r=0;r<o;++r)this.each(l(a[r],n,e));return this}var l=this.node().__on;if(l)for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return kt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return kt(this,t,n)}})(t,n))}};var Rt,It,zt=(1===(Rt=Pt).length&&(It=Rt,Rt=function(t,n){return Pt(It(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;Rt(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;Rt(t[i],n)>0?r=i:e=i+1}return e}}).right;function Bt(t){return null===t?NaN:+t}function Ot(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}var Lt=Math.sqrt(50),Dt=Math.sqrt(10),qt=Math.sqrt(2);function Ut(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Lt?10:a>=Dt?5:a>=qt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Lt?10:a>=Dt?5:a>=qt?2:1)}function Xt(t,n,e){if(null==e&&(e=Bt),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t);return o+(+e(t[a+1],a+1,t)-o)*(i-a)}}function Ft(t,n){var e,r=t.length,i=-1,a=0;if(null==n)for(;++i<r;)(e=+t[i])&&(a+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(a+=e);return a}function Ht(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Wt(){}function Yt(t,n){var e=new Wt;if(t instanceof Wt)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==n)for(;++i<a;)e.set(i,t[i]);else for(;++i<a;)e.set(n(r=t[i],i,t),r)}else if(t)for(var o in t)e.set(o,t[o]);return e}function Kt(){}Wt.prototype=Yt.prototype={constructor:Wt,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Zt=Yt.prototype;Kt.prototype=function(t,n){var e=new Kt;if(t instanceof Kt)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Kt,has:Zt.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Zt.remove,clear:Zt.clear,values:Zt.keys,size:Zt.size,empty:Zt.empty,each:Zt.each};var Gt=Array.prototype,Qt=Gt.map,Jt=Gt.slice,tn={name:"implicit"};function nn(){var t,n,e=function t(){var n=Yt(),e=[],r=[],i=tn;function a(t){var a=t+"",o=n.get(a);if(!o){if(i!==tn)return i;n.set(a,o=e.push(t))}return r[(o-1)%r.length]}return a.domain=function(t){if(!arguments.length)return e.slice();e=[],n=Yt();for(var r,i,o=-1,l=t.length;++o<l;)n.has(i=(r=t[o])+"")||n.set(i,e.push(r));return a},a.range=function(t){return arguments.length?(r=Jt.call(t),a):r.slice()},a.unknown=function(t){return arguments.length?(i=t,a):i},a.copy=function(){return t(e,r).unknown(i)},Ht.apply(a,arguments),a}().unknown(void 0),r=e.domain,i=e.range,a=[0,1],o=!1,l=0,s=0,u=.5;function c(){var e=r().length,c=a[1]<a[0],h=a[c-0],f=a[1-c];t=(f-h)/Math.max(1,e-l+2*s),o&&(t=Math.floor(t)),h+=(f-h-t*(e-l))*u,n=t*(1-l),o&&(h=Math.round(h),n=Math.round(n));var d=Ot(e).map(function(n){return h+t*n});return i(c?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),c()):r()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],c()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,c()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,c()):o},e.padding=function(t){return arguments.length?(l=Math.min(1,s=+t),c()):l},e.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),c()):l},e.paddingOuter=function(t){return arguments.length?(s=+t,c()):s},e.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u},e.copy=function(){return nn(r(),a).round(o).paddingInner(l).paddingOuter(s).align(u)},Ht.apply(c(),arguments)}function en(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function rn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function an(){}var on="\\s*([+-]?\\d+)\\s*",ln="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",un=/^#([0-9a-f]{3,8})$/,cn=new RegExp("^rgb\\("+[on,on,on]+"\\)$"),hn=new RegExp("^rgb\\("+[sn,sn,sn]+"\\)$"),fn=new RegExp("^rgba\\("+[on,on,on,ln]+"\\)$"),dn=new RegExp("^rgba\\("+[sn,sn,sn,ln]+"\\)$"),gn=new RegExp("^hsl\\("+[ln,sn,sn]+"\\)$"),pn=new RegExp("^hsla\\("+[ln,sn,sn,ln]+"\\)$"),mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vn(){return this.rgb().formatHex()}function yn(){return this.rgb().formatRgb()}function wn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=un.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?bn(n):3===e?new Mn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new Mn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new Mn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=cn.exec(t))?new Mn(n[1],n[2],n[3],1):(n=hn.exec(t))?new Mn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=fn.exec(t))?xn(n[1],n[2],n[3],n[4]):(n=dn.exec(t))?xn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=gn.exec(t))?En(n[1],n[2]/100,n[3]/100,1):(n=pn.exec(t))?En(n[1],n[2]/100,n[3]/100,n[4]):mn.hasOwnProperty(t)?bn(mn[t]):"transparent"===t?new Mn(NaN,NaN,NaN,0):null}function bn(t){return new Mn(t>>16&255,t>>8&255,255&t,1)}function xn(t,n,e,r){return r<=0&&(t=n=e=NaN),new Mn(t,n,e,r)}function _n(t,n,e,r){return 1===arguments.length?((i=t)instanceof an||(i=wn(i)),i?new Mn((i=i.rgb()).r,i.g,i.b,i.opacity):new Mn):new Mn(t,n,e,null==r?1:r);var i}function Mn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function $n(){return"#"+An(this.r)+An(this.g)+An(this.b)}function kn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function An(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function En(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Vn(t,n,e,r)}function Nn(t){if(t instanceof Vn)return new Vn(t.h,t.s,t.l,t.opacity);if(t instanceof an||(t=wn(t)),!t)return new Vn;if(t instanceof Vn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,l=a-i,s=(a+i)/2;return l?(o=n===a?(e-r)/l+6*(e<r):e===a?(r-n)/l+2:(n-e)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new Vn(o,l,s,t.opacity)}function Vn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function jn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Sn(t){return function(){return t}}function Tn(t){return 1==(t=+t)?Cn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Sn(isNaN(n)?e:n)}}function Cn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Sn(isNaN(t)?n:t)}en(an,wn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:vn,formatHex:vn,formatHsl:function(){return Nn(this).formatHsl()},formatRgb:yn,toString:yn}),en(Mn,_n,rn(an,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$n,formatHex:$n,formatRgb:kn,toString:kn})),en(Vn,function(t,n,e,r){return 1===arguments.length?Nn(t):new Vn(t,n,e,null==r?1:r)},rn(an,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Vn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Vn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Mn(jn(t>=240?t-240:t+120,i,r),jn(t,i,r),jn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Pn=function t(n){var e=Tn(n);function r(t,n){var r=e((t=_n(t)).r,(n=_n(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=Cn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);var Rn,In=(Rn=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,l=r<n-1?t[r+2]:2*a-i;return function(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}((e-r/n)*n,o,i,a,l)}},function(t){var n,e,r=t.length,i=new Array(r),a=new Array(r),o=new Array(r);for(n=0;n<r;++n)e=_n(t[n]),i[n]=e.r||0,a[n]=e.g||0,o[n]=e.b||0;return i=Rn(i),a=Rn(a),o=Rn(o),e.opacity=1,function(t){return e.r=i(t),e.g=a(t),e.b=o(t),e+""}});function zn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,On=new RegExp(Bn.source,"g");function Ln(t,n){var e,r,i,a=Bn.lastIndex=On.lastIndex=0,o=-1,l=[],s=[];for(t+="",n+="";(e=Bn.exec(t))&&(r=On.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(e=e[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:zn(e,r)})),a=On.lastIndex;return a<n.length&&(i=n.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)l[(e=s[r]).i]=e.x(t);return l.join("")})}function Dn(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Sn(n):("number"===i?zn:"string"===i?(e=wn(n))?(n=e,Pn):Ln:n instanceof wn?Pn:n instanceof Date?function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=Dn(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Dn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}:zn:function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(e=0;e<r;++e)i[e]=t[e]*(1-a)+n[e]*a;return i}}))(t,n)}function qn(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Un,Xn,Fn,Hn,Wn=180/Math.PI,Yn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Kn(t,n,e,r,i,a){var o,l,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(l=Math.sqrt(e*e+r*r))&&(e/=l,r/=l,s/=l),t*r<n*e&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Wn,skewX:Math.atan(s)*Wn,scaleX:o,scaleY:l}}function Zn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var l=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,l){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);l.push({i:s-4,x:zn(t,i)},{i:s-2,x:zn(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,l,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:zn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,o.rotate,l,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:zn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,o.skewX,l,s),function(t,n,e,r,a,o){if(t!==e||n!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:zn(t,e)},{i:l-2,x:zn(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,s),a=o=null,function(t){for(var n,e=-1,r=s.length;++e<r;)l[(n=s[e]).i]=n.x(t);return l.join("")}}}var Gn=Zn(function(t){return"none"===t?Yn:(Un||(Un=document.createElement("DIV"),Xn=document.documentElement,Fn=document.defaultView),Un.style.transform=t,t=Fn.getComputedStyle(Xn.appendChild(Un),null).getPropertyValue("transform"),Xn.removeChild(Un),Kn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Qn=Zn(function(t){return null==t?Yn:(Hn||(Hn=document.createElementNS("http://www.w3.org/2000/svg","g")),Hn.setAttribute("transform",t),(t=Hn.transform.baseVal.consolidate())?Kn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Yn)},", ",")",")");function Jn(t){return+t}var te=[0,1];function ne(t){return t}function ee(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function re(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function ie(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=ee(i,r),a=e(o,a)):(r=ee(r,i),a=e(a,o)),function(t){return a(r(t))}}function ae(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=ee(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=zt(t,n,1,r)-1;return a[e](i[e](n))}}function oe(t,n){return function(){var t,n,e,r,i,a,o=te,l=te,s=Dn,u=ne;function c(){return r=Math.min(o.length,l.length)>2?ae:ie,i=a=null,h}function h(n){return isNaN(n=+n)?e:(i||(i=r(o.map(t),l,s)))(t(u(n)))}return h.invert=function(e){return u(n((a||(a=r(l,o.map(t),zn)))(e)))},h.domain=function(t){return arguments.length?(o=Qt.call(t,Jn),u===ne||(u=re(o)),c()):o.slice()},h.range=function(t){return arguments.length?(l=Jt.call(t),c()):l.slice()},h.rangeRound=function(t){return l=Jt.call(t),s=qn,c()},h.clamp=function(t){return arguments.length?(u=t?re(o):ne,h):u!==ne},h.interpolate=function(t){return arguments.length?(s=t,c()):s},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,c()}}()(t,n)}function le(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function se(t){return(t=le(Math.abs(t)))?t[1]:NaN}var ue,ce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function he(t){if(!(n=ce.exec(t)))throw new Error("invalid format: "+t);var n;return new fe({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function fe(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function de(t,n){var e=le(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}he.prototype=fe.prototype,fe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ge={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return de(100*t,n)},r:de,s:function(t,n){var e=le(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(ue=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+le(t,Math.max(0,n+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function pe(t){return t}var me,ve,ye,we=Array.prototype.map,be=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xe(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?pe:(n=we.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=n[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(t.substring(i-=l,i+l)),!((s+=l+1)>r));)l=n[o=(o+1)%n.length];return a.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?pe:function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(we.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=he(t)).fill,e=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,p=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(p=!0,y="g"):ge[y]||(void 0===m&&(m=12),v=!0,y="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var w="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?a:/[%p]/.test(y)?s:"",x=ge[y],_=/[defgprs%]/.test(y);function M(t){var i,a,s,f=w,M=b;if("c"===y)M=x(t)+M,t="";else{var $=(t=+t)<0;if(t=isNaN(t)?c:x(Math.abs(t),m),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),$&&0==+t&&($=!1),f=($?"("===h?h:u:"-"===h||"("===h?"":h)+f,M=("s"===y?be[8+ue/3]:"")+M+($&&"("===h?")":""),_)for(i=-1,a=t.length;++i<a;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?o+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}p&&!d&&(t=r(t,1/0));var k=f.length+t.length+M.length,A=k<g?new Array(g-k+1).join(n):"";switch(p&&d&&(t=r(A+t,A.length?g-M.length:1/0),A=""),e){case"<":t=f+t+M+A;break;case"=":t=f+A+t+M;break;case"^":t=A.slice(0,k=A.length>>1)+f+t+M+A.slice(k);break;default:t=A+f+t+M}return l(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,n){var e=h(((t=he(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(se(n)/3))),i=Math.pow(10,-r),a=be[8+r/3];return function(t){return e(i*t)+a}}}}function _e(t,n,e,r){var i,a=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Lt?i*=10:a>=Dt?i*=5:a>=qt&&(i*=2),n<t?-i:i}(t,n,e);switch((r=he(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(se(n)/3)))-se(Math.abs(t)))}(a,o))||(r.precision=i),ye(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,se(n)-se(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-se(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return ve(r)}function Me(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,a,o,l=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(o=Ut(t,n,e))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),a=new Array(i=Math.ceil(n-t+1));++l<i;)a[l]=(t+l)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),a=new Array(i=Math.ceil(t-n+1));++l<i;)a[l]=(t-l)/o;return r&&a.reverse(),a}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return _e(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),a=0,o=i.length-1,l=i[a],s=i[o];return s<l&&(r=l,l=s,s=r,r=a,a=o,o=r),(r=Ut(l,s,e))>0?r=Ut(l=Math.floor(l/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=Ut(l=Math.ceil(l*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[a]=Math.floor(l/r)*r,i[o]=Math.ceil(s/r)*r,n(i)):r<0&&(i[a]=Math.ceil(l*r)/r,i[o]=Math.floor(s*r)/r,n(i)),t},t}function $e(){var t=oe(ne,ne);return t.copy=function(){return n=t,$e().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown());var n},Ht.apply(t,arguments),Me(t)}me=xe({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),ve=me.format,ye=me.formatPrefix;var ke=Array.prototype.slice;function Ae(t){return t}var Ee=1,Ne=2,Ve=3,je=4,Se=1e-6;function Te(t){return"translate("+(t+.5)+",0)"}function Ce(t){return"translate(0,"+(t+.5)+")"}function Pe(){return!this.__axis}function Re(t,n){var e=[],r=null,i=null,a=6,o=6,l=3,s=t===Ee||t===je?-1:1,u=t===je||t===Ne?"x":"y",c=t===Ee||t===Ve?Te:Ce;function h(h){var f=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):Ae:i,g=Math.max(a,0)+l,p=n.range(),m=+p[0]+.5,v=+p[p.length-1]+.5,y=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),w=h.selection?h.selection():h,b=w.selectAll(".domain").data([null]),x=w.selectAll(".tick").data(f,n).order(),_=x.exit(),M=x.enter().append("g").attr("class","tick"),$=x.select("line"),k=x.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),$=$.merge(M.append("line").attr("stroke","currentColor").attr(u+"2",s*a)),k=k.merge(M.append("text").attr("fill","currentColor").attr(u,s*g).attr("dy",t===Ee?"0em":t===Ve?"0.71em":"0.32em")),h!==w&&(b=b.transition(h),x=x.transition(h),$=$.transition(h),k=k.transition(h),_=_.transition(h).attr("opacity",Se).attr("transform",function(t){return isFinite(t=y(t))?c(t):this.getAttribute("transform")}),M.attr("opacity",Se).attr("transform",function(t){var n=this.parentNode.__axis;return c(n&&isFinite(n=n(t))?n:y(t))})),_.remove(),b.attr("d",t===je||t==Ne?o?"M"+s*o+","+m+"H0.5V"+v+"H"+s*o:"M0.5,"+m+"V"+v:o?"M"+m+","+s*o+"V0.5H"+v+"V"+s*o:"M"+m+",0.5H"+v),x.attr("opacity",1).attr("transform",function(t){return c(y(t))}),$.attr(u+"2",s*a),k.attr(u,s*g).text(d),w.filter(Pe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ne?"start":t===je?"end":"middle"),w.each(function(){this.__axis=y})}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=ke.call(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:ke.call(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:ke.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(l=+t,h):l},h}function Ie(t){return Re(Ve,t)}function ze(t){return Re(je,t)}var Be=Math.PI,Oe=2*Be,Le=Oe-1e-6;function De(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function qe(){return new De}De.prototype=qe.prototype={constructor:De,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,l=e-t,s=r-n,u=a-t,c=o-n,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(c*l-s*u)>1e-6&&i){var f=e-a,d=r-o,g=l*l+s*s,p=f*f+d*d,m=Math.sqrt(g),v=Math.sqrt(h),y=i*Math.tan((Be-Math.acos((g+h-p)/(2*m*v)))/2),w=y/v,b=y/m;Math.abs(w-1)>1e-6&&(this._+="L"+(t+w*u)+","+(n+w*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+b*l)+","+(this._y1=n+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n,a=!!a;var o=(e=+e)*Math.cos(r),l=e*Math.sin(r),s=t+o,u=n+l,c=1^a,h=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+u:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+s+","+u),e&&(h<0&&(h=h%Oe+Oe),h>Le?this._+="A"+e+","+e+",0,1,"+c+","+(t-o)+","+(n-l)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=u):h>1e-6&&(this._+="A"+e+","+e+",0,"+ +(h>=Be)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Ue=function(t){return In(t[t.length-1])}(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e})),Xe={value:function(){}};function Fe(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new He(r)}function He(t){this._=t}function We(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Ye(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Xe,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function Ke(){wt.stopImmediatePropagation()}function Ze(){wt.preventDefault(),wt.stopImmediatePropagation()}function Ge(t){var n=t.document.documentElement,e=Vt(t).on("dragstart.drag",Ze,!0);"onselectstart"in n?e.on("selectstart.drag",Ze,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Qe(t,n){var e=t.document.documentElement,r=Vt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ze,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Je(t){return function(){return t}}function tr(t,n,e,r,i,a,o,l,s,u){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=l,this.dy=s,this._=u}function nr(){return!wt.ctrlKey&&!wt.button}function er(){return this.parentNode}function rr(t){return null==t?{x:wt.x,y:wt.y}:t}function ir(){return navigator.maxTouchPoints||"ontouchstart"in this}He.prototype=Fe.prototype={constructor:He,on:function(t,n){var e,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),o=-1,l=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<l;)if(e=(t=a[o]).type)i[e]=Ye(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Ye(i[e],t.name,null);return this}for(;++o<l;)if((e=(t=a[o]).type)&&(e=We(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new He(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}},tr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ar,or,lr=0,sr=0,ur=0,cr=1e3,hr=0,fr=0,dr=0,gr="object"==typeof performance&&performance.now?performance:Date,pr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mr(){return fr||(pr(vr),fr=gr.now()+dr)}function vr(){fr=0}function yr(){this._call=this._time=this._next=null}function wr(t,n,e){var r=new yr;return r.restart(t,n,e),r}function br(){fr=(hr=gr.now())+dr,lr=sr=0;try{!function(){mr(),++lr;for(var t,n=ar;n;)(t=fr-n._time)>=0&&n._call.call(null,t),n=n._next;--lr}()}finally{lr=0,function(){var t,n,e=ar,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ar=n);or=t,_r(r)}(),fr=0}}function xr(){var t=gr.now(),n=t-hr;n>cr&&(dr-=n,hr=t)}function _r(t){lr||(sr&&(sr=clearTimeout(sr)),t-fr>24?(t<1/0&&(sr=setTimeout(br,t-gr.now()-dr)),ur&&(ur=clearInterval(ur))):(ur||(hr=gr.now(),ur=setInterval(xr,cr)),lr=1,pr(br)))}function Mr(t,n,e){var r=new yr;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}yr.prototype=wr.prototype={constructor:yr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?mr():+e)+(null==n?0:+n),this._next||or===this||(or?or._next=this:ar=this,or=this),this._call=t,this._time=e,_r()},stop:function(){this._call&&(this._call=null,this._time=1/0,_r())}};var $r=Fe("start","end","cancel","interrupt"),kr=[],Ar=0,Er=1,Nr=2,Vr=3,jr=4,Sr=5,Tr=6;function Cr(t,n,e,r,i,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function a(s){var u,c,h,f;if(e.state!==Er)return l();for(u in i)if((f=i[u]).name===e.name){if(f.state===Vr)return Mr(a);f.state===jr?(f.state=Tr,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[u]):+u<n&&(f.state=Tr,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[u])}if(Mr(function(){e.state===Vr&&(e.state=jr,e.timer.restart(o,e.delay,e.time),o(s))}),e.state=Nr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Nr){for(e.state=Vr,r=new Array(h=e.tween.length),u=0,c=-1;u<h;++u)(f=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=f);r.length=c+1}}function o(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=Sr,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);e.state===Sr&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var r in e.state=Tr,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=wr(function(t){e.state=Er,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:$r,tween:kr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ar})}function Pr(t,n){var e=Ir(t,n);if(e.state>Ar)throw new Error("too late; already scheduled");return e}function Rr(t,n){var e=Ir(t,n);if(e.state>Vr)throw new Error("too late; already running");return e}function Ir(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function zr(t,n){var e,r,i,a=t.__transition,o=!0;if(a){for(i in n=null==n?null:n+"",a)(e=a[i]).name===n?(r=e.state>Nr&&e.state<Sr,e.state=Tr,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[i]):o=!1;o&&delete t.__transition}}function Br(t,n,e){var r=t._id;return t.each(function(){var t=Rr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Ir(t,r).value[n]}}function Or(t,n){var e;return("number"==typeof n?zn:n instanceof wn?Pn:(e=wn(n))?(n=e,Pn):Ln)(t,n)}var Lr=Nt.prototype.constructor;function Dr(t){return function(){this.style.removeProperty(t)}}var qr=0;function Ur(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Xr(){return++qr}var Fr=Nt.prototype;Ur.prototype=function(t){return Nt().transition(t)}.prototype={constructor:Ur,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=W(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,s,u=r[o],c=u.length,h=a[o]=new Array(c),f=0;f<c;++f)(l=u[f])&&(s=t.call(l,l.__data__,f,u))&&("__data__"in l&&(s.__data__=l.__data__),h[f]=s,Cr(h[f],n,e,f,h,Ir(l,e)));return new Ur(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=K(t));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s,u=r[l],c=u.length,h=0;h<c;++h)if(s=u[h]){for(var f,d=t.call(s,s.__data__,h,u),g=Ir(s,e),p=0,m=d.length;p<m;++p)(f=d[p])&&Cr(f,n,e,p,d,g);a.push(d),o.push(s)}return new Ur(a,o,n,e)},filter:function(t){"function"!=typeof t&&(t=Z(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,o=n[i],l=o.length,s=r[i]=[],u=0;u<l;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&s.push(a);return new Ur(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,u=n[l],c=e[l],h=u.length,f=o[l]=new Array(h),d=0;d<h;++d)(s=u[d]||c[d])&&(f[d]=s);for(;l<r;++l)o[l]=n[l];return new Ur(o,this._parents,this._name,this._id)},selection:function(){return new Lr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Xr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,u=0;u<s;++u)if(o=l[u]){var c=Ir(o,n);Cr(o,t,e,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ur(r,this._parents,t,e)},call:Fr.call,nodes:Fr.nodes,node:Fr.node,size:Fr.size,empty:Fr.empty,each:Fr.each,on:function(t,n){var e=this._id;return arguments.length<2?Ir(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Pr:Rr;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(n,e),o.on=i}}(e,t,n))},attr:function(t,n){var e=X(t),r="transform"===e?Qn:Or;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,a;return function(){var o,l,s=e(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=n(r=o,s));this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,a;return function(){var o,l,s=e(this);if(null!=s)return(o=this.getAttribute(t))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=n(r=o,s));this.removeAttribute(t)}})(e,r,Br(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=n(r=o,e)}})(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=X(t);return this.tween(e,(r.local?function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}:function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Gn:Or;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=it(this,t),o=(this.style.removeProperty(t),it(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}(t,r)).on("end.style."+t,Dr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,a;return function(){var o=it(this,t),l=e(this),s=l+"";return null==l&&(this.style.removeProperty(t),s=l=it(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=n(r=o,l))}}(t,r,Br(this,"style."+t,n))).each(function(t,n){var e,r,i,a,o="style."+n,l="end."+o;return function(){var s=Rr(this,t),u=s.on,c=null==s.value[o]?a||(a=Dr(n)):void 0;u===e&&i===c||(r=(e=u).copy()).on(l,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,a=e+"";return function(){var o=it(this,t);return o===a?null:o===r?i:i=n(r=o,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function a(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,a,e)),r}return a._value=n,a}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Br(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ir(this.node(),e).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Rr(this,t),a=i.tween;if(a!==e)for(var o=0,l=(r=e=a).length;o<l;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var a=Rr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:n,value:e},s=0,u=i.length;s<u;++s)if(i[s].name===n){i[s]=l;break}s===u&&i.push(l)}a.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Pr(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Pr(this,t).delay=n}})(n,t)):Ir(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Rr(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Rr(this,t).duration=n}})(n,t)):Ir(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Rr(this,t).ease=n}}(n,t)):Ir(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var l={value:o},s={value:function(){0==--i&&a()}};e.each(function(){var e=Rr(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(l),n._.interrupt.push(l),n._.end.push(s)),e.on=n})})}};var Hr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Wr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Hr.time=mr(),Hr;return e}function Yr(t){return function(){return t}}function Kr(t,n,e){this.target=t,this.type=n,this.selection=e}function Zr(){wt.stopImmediatePropagation()}function Gr(){wt.preventDefault(),wt.stopImmediatePropagation()}Nt.prototype.interrupt=function(t){return this.each(function(){zr(this,t)})},Nt.prototype.transition=function(t){var n,e;t instanceof Ur?(n=t._id,t=t._name):(n=Xr(),(e=Hr).time=mr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,u=0;u<s;++u)(o=l[u])&&Cr(o,t,n,u,l,e||Wr(o,n));return new Ur(r,this._parents,t,n)};var Qr={name:"drag"},Jr={name:"space"},ti={name:"handle"},ni={name:"center"};function ei(t){return[+t[0],+t[1]]}function ri(t){return[ei(t[0]),ei(t[1])]}var ii={name:"x",handles:["w","e"].map(hi),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ai={name:"y",handles:["n","s"].map(hi),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},oi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},li={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},si={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ui={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ci={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function hi(t){return{type:t}}function fi(){return!wt.ctrlKey&&!wt.button}function di(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function gi(){return navigator.maxTouchPoints||"ontouchstart"in this}function pi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function mi(){return function(t){var n,e=di,r=fi,i=gi,a=!0,o=Fe("start","brush","end"),l=6;function s(n){var e=n.property("__brush",p).selectAll(".overlay").data([hi("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",oi.overlay).merge(e).each(function(){var t=pi(this).extent;Vt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),n.selectAll(".selection").data([hi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",oi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return oi[t.type]}),n.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var t=Vt(this),n=pi(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-l/2:n[0][0]-l/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-l/2:n[0][1]-l/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+l:l}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+l:l})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,n,e){return!e&&t.__brush.emitter||new h(t,n)}function h(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function f(){if((!n||wt.touches)&&r.apply(this,arguments)){var e,i,o,l,s,h,f,d,g,p,m,v,y=this,w=wt.target.__data__.type,b="selection"===(a&&wt.metaKey?w="overlay":w)?Qr:a&&wt.altKey?ni:ti,x=t===ai?null:ui[w],_=t===ii?null:ci[w],M=pi(y),$=M.extent,k=M.selection,A=$[0][0],E=$[0][1],N=$[1][0],V=$[1][1],j=0,S=0,T=x&&_&&a&&wt.shiftKey,C=wt.touches?(v=wt.changedTouches[0].identifier,function(t){return Ct(t,wt.touches,v)}):Tt,P=C(y),R=P,I=c(y,arguments,!0).beforestart();"overlay"===w?(k&&(g=!0),M.selection=k=[[e=t===ai?A:P[0],o=t===ii?E:P[1]],[s=t===ai?N:e,f=t===ii?V:o]]):(e=k[0][0],o=k[0][1],s=k[1][0],f=k[1][1]),i=e,l=o,h=s,d=f;var z=Vt(y).attr("pointer-events","none"),B=z.selectAll(".overlay").attr("cursor",oi[w]);if(wt.touches)I.moved=L,I.ended=q;else{var O=Vt(wt.view).on("mousemove.brush",L,!0).on("mouseup.brush",q,!0);a&&O.on("keydown.brush",function(){switch(wt.keyCode){case 16:T=x&&_;break;case 18:b===ti&&(x&&(s=h-j*x,e=i+j*x),_&&(f=d-S*_,o=l+S*_),b=ni,D());break;case 32:b!==ti&&b!==ni||(x<0?s=h-j:x>0&&(e=i-j),_<0?f=d-S:_>0&&(o=l-S),b=Jr,B.attr("cursor",oi.selection),D());break;default:return}Gr()},!0).on("keyup.brush",function(){switch(wt.keyCode){case 16:T&&(p=m=T=!1,D());break;case 18:b===ni&&(x<0?s=h:x>0&&(e=i),_<0?f=d:_>0&&(o=l),b=ti,D());break;case 32:b===Jr&&(wt.altKey?(x&&(s=h-j*x,e=i+j*x),_&&(f=d-S*_,o=l+S*_),b=ni):(x<0?s=h:x>0&&(e=i),_<0?f=d:_>0&&(o=l),b=ti),B.attr("cursor",oi[w]),D());break;default:return}Gr()},!0),Ge(wt.view)}Zr(),zr(y),u.call(y),I.start()}function L(){var t=C(y);!T||p||m||(Math.abs(t[0]-R[0])>Math.abs(t[1]-R[1])?m=!0:p=!0),R=t,g=!0,Gr(),D()}function D(){var t;switch(j=R[0]-P[0],S=R[1]-P[1],b){case Jr:case Qr:x&&(j=Math.max(A-e,Math.min(N-s,j)),i=e+j,h=s+j),_&&(S=Math.max(E-o,Math.min(V-f,S)),l=o+S,d=f+S);break;case ti:x<0?(j=Math.max(A-e,Math.min(N-e,j)),i=e+j,h=s):x>0&&(j=Math.max(A-s,Math.min(N-s,j)),i=e,h=s+j),_<0?(S=Math.max(E-o,Math.min(V-o,S)),l=o+S,d=f):_>0&&(S=Math.max(E-f,Math.min(V-f,S)),l=o,d=f+S);break;case ni:x&&(i=Math.max(A,Math.min(N,e-j*x)),h=Math.max(A,Math.min(N,s+j*x))),_&&(l=Math.max(E,Math.min(V,o-S*_)),d=Math.max(E,Math.min(V,f+S*_)))}h<i&&(x*=-1,t=e,e=s,s=t,t=i,i=h,h=t,w in li&&B.attr("cursor",oi[w=li[w]])),d<l&&(_*=-1,t=o,o=f,f=t,t=l,l=d,d=t,w in si&&B.attr("cursor",oi[w=si[w]])),M.selection&&(k=M.selection),p&&(i=k[0][0],h=k[1][0]),m&&(l=k[0][1],d=k[1][1]),k[0][0]===i&&k[0][1]===l&&k[1][0]===h&&k[1][1]===d||(M.selection=[[i,l],[h,d]],u.call(y),I.brush())}function q(){if(Zr(),wt.touches){if(wt.touches.length)return;n&&clearTimeout(n),n=setTimeout(function(){n=null},500)}else Qe(wt.view,g),O.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);var t;z.attr("pointer-events","all"),B.attr("cursor",oi.overlay),M.selection&&(k=M.selection),((t=k)[0][0]===t[1][0]||t[0][1]===t[1][1])&&(M.selection=null,u.call(y)),I.end()}}function d(){c(this,arguments).moved()}function g(){c(this,arguments).ended()}function p(){var n=this.__brush||{selection:null};return n.extent=ri(e.apply(this,arguments)),n.dim=t,n}return s.move=function(n,e){n.selection?n.on("start.brush",function(){c(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){c(this,arguments).end()}).tween("brush",function(){var n=this,r=n.__brush,i=c(n,arguments),a=r.selection,o=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),l=Dn(a,o);function s(t){r.selection=1===t&&null===o?null:l(t),u.call(n),i.brush()}return null!==a&&null!==o?s:s(1)}):n.each(function(){var n=arguments,r=this.__brush,i=t.input("function"==typeof e?e.apply(this,n):e,r.extent),a=c(this,n).beforestart();zr(this),r.selection=null===i?null:i,u.call(this),a.start().brush().end()})},s.clear=function(t){s.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){$t(new Kr(s,n,t.output(this.state.selection)),o.apply,o,[n,this.that,this.args])}},s.extent=function(t){return arguments.length?(e="function"==typeof t?t:Yr(ri(t)),s):e},s.filter=function(t){return arguments.length?(r="function"==typeof t?t:Yr(!!t),s):r},s.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Yr(!!t),s):i},s.handleSize=function(t){return arguments.length?(l=+t,s):l},s.keyModifiers=function(t){return arguments.length?(a=!!t,s):a},s.on=function(){var t=o.on.apply(o,arguments);return t===o?s:t},s}(ai)}var vi={},yi={},wi=34,bi=10,xi=13;function _i(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Mi(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function $i(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function ki(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+$i(-n,6):n>9999?"+"+$i(n,6):$i(n,4))+"-"+$i(t.getUTCMonth()+1,2)+"-"+$i(t.getUTCDate(),2)+(a?"T"+$i(e,2)+":"+$i(r,2)+":"+$i(i,2)+"."+$i(a,3)+"Z":i?"T"+$i(e,2)+":"+$i(r,2)+":"+$i(i,2)+"Z":r||e?"T"+$i(e,2)+":"+$i(r,2)+"Z":"")}var Ai=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],a=t.length,o=0,l=0,s=a<=0,u=!1;function c(){if(s)return yi;if(u)return u=!1,vi;var n,r,i=o;if(t.charCodeAt(i)===wi){for(;o++<a&&t.charCodeAt(o)!==wi||t.charCodeAt(++o)===wi;);return(n=o)>=a?s=!0:(r=t.charCodeAt(o++))===bi?u=!0:r===xi&&(u=!0,t.charCodeAt(o)===bi&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(n=o++))===bi)u=!0;else if(r===xi)u=!0,t.charCodeAt(o)===bi&&++o;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===bi&&--a,t.charCodeAt(a-1)===xi&&--a;(r=c())!==yi;){for(var h=[];r!==vi&&r!==yi;)h.push(r),r=c();n&&null==(h=n(h,l++))||i.push(h)}return i}function i(n,e){return n.map(function(n){return e.map(function(t){return o(n[t])}).join(t)})}function a(n){return n.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?ki(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,a=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=_i(t);return function(r,i){return n(e(r),i,t)}}(t,n):_i(t)});return a.columns=i||[],a},parseRows:r,format:function(n,e){return null==e&&(e=Mi(n)),[e.map(o).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Mi(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(a).join("\n")},formatRow:a,formatValue:o}}(",").parse;function Ei(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ni&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}var Ni=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Vi(t,n,e){const r=t.slice();return r[25]=n[e],r[10]=e,r}function ji(t){let n,e,r,i,h,f;return{c(){n=o("rect"),this.h()},l(t){n=l(t,"rect",{class:!0,x:!0,y:!0,height:!0,fill:!0,width:!0},1),s(n).forEach(u),this.h()},h(){c(n,"class","sample"),c(n,"x",e=t[15](t[25].name)+Ci/2),c(n,"y",r=Math.min(t[16](t[4][t[10]].count-t[3][t[10]].count),t[16](0))),c(n,"height",i=Math.abs(t[16](t[4][t[10]].count-t[3][t[10]].count)-t[16](0))),c(n,"fill",h=t[16](t[4][t[10]].count)-t[16](t[3][t[10]].count)>0?"firebrick":"steelblue"),c(n,"width",f=t[17]-Ci)},m(t,e){a(t,n,e)},p(t,a){32772&a&&e!==(e=t[15](t[25].name)+Ci/2)&&c(n,"x",e),65560&a&&r!==(r=Math.min(t[16](t[4][t[10]].count-t[3][t[10]].count),t[16](0)))&&c(n,"y",r),65560&a&&i!==(i=Math.abs(t[16](t[4][t[10]].count-t[3][t[10]].count)-t[16](0)))&&c(n,"height",i),65560&a&&h!==(h=t[16](t[4][t[10]].count)-t[16](t[3][t[10]].count)>0?"firebrick":"steelblue")&&c(n,"fill",h),131072&a&&f!==(f=t[17]-Ci)&&c(n,"width",f)},d(t){t&&u(n)}}}function Si(t){let n,e=t[25].count>0&&ji(t);return{c(){e&&e.c(),n=i()},l(t){e&&e.l(t),n=i()},m(t,r){e&&e.m(t,r),a(t,n,r)},p(t,r){t[25].count>0?e?e.p(t,r):((e=ji(t)).c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&u(n)}}}function Ti(t){let n,e,r,i,b,x,_,M,$,k,A,E,N,V,j,S,T,C,P,R,I,z,B,O,L,D,q=t[2],U=[];for(let n=0;n<q.length;n+=1)U[n]=Si(Vi(t,q,n));return{c(){n=o("g"),e=o("rect"),r=o("rect"),$=o("g"),k=o("rect"),A=o("g"),E=o("rect"),N=o("g"),j=o("g"),S=o("text"),T=o("tspan"),C=h(t[7]),P=h("\n        when missing\n        "),R=o("tspan"),I=h(t[6]),z=f(),L=o("g");for(let t=0;t<U.length;t+=1)U[t].c();this.h()},l(i){n=l(i,"g",{},1);var a=s(n);e=l(a,"rect",{i:!0,j:!0,fill:!0,width:!0,height:!0,class:!0},1),s(e).forEach(u),r=l(a,"rect",{"pointer-events":!0,fill:!0,x:!0,y:!0,width:!0,height:!0},1),s(r).forEach(u),$=l(a,"g",{"pointer-events":!0,class:!0,transform:!0},1);var o=s($);k=l(o,"rect",{fill:!0,innerWidth:!0,innerHeight:!0},1),s(k).forEach(u),A=l(o,"g",{class:!0},1);var c=s(A);E=l(c,"rect",{width:!0,height:!0,fill:!0},1),s(E).forEach(u),N=l(c,"g",{class:!0,transform:!0},1),s(N).forEach(u),j=l(c,"g",{class:!0},1),s(j).forEach(u),S=l(c,"text",{class:!0,y:!0,x:!0,"alignment-baseline":!0},1);var h=s(S);T=l(h,"tspan",{"font-weight":!0,"alignment-baseline":!0},1);var f=s(T);C=d(f,t[7]),f.forEach(u),P=d(h,"\n        when missing\n        "),R=l(h,"tspan",{"font-weight":!0,"alignment-baseline":!0},1);var p=s(R);I=d(p,t[6]),p.forEach(u),z=g(h),h.forEach(u),c.forEach(u),L=l(o,"g",{class:!0},1);var m=s(L);for(let t=0;t<U.length;t+=1)U[t].l(m);m.forEach(u),o.forEach(u),a.forEach(u),this.h()},h(){c(e,"i",t[10]),c(e,"j",t[8]),c(e,"fill",t[5]),c(e,"width",t[0]),c(e,"height",t[1]),c(e,"class","svelte-1sltptc"),p(e,"focus",t[9]),c(r,"pointer-events","none"),c(r,"fill",i="white"),c(r,"x",b=5),c(r,"y",x=5),c(r,"width",_=t[0]-10),c(r,"height",M=t[1]-10),c(k,"fill","white"),c(k,"innerwidth",t[13]),c(k,"innerheight",t[14]),c(E,"width",t[13]),c(E,"height",t[14]),c(E,"fill","white"),c(N,"class","x-axis"),c(N,"transform",V="translate(0,"+t[14]+")"),c(j,"class","y-axis"),c(T,"font-weight","bold"),c(T,"alignment-baseline","middle"),c(R,"font-weight","bold"),c(R,"alignment-baseline","middle"),c(S,"class","title svelte-1sltptc"),c(S,"y",B=-t[18].top/2),c(S,"x",O=t[13]/2),c(S,"alignment-baseline","middle"),c(A,"class","background"),c(L,"class","foreground"),c($,"pointer-events","none"),c($,"class","margin-convention"),c($,"transform",D="translate("+t[18].left+", "+t[18].top+")")},m(i,o){a(i,n,o),m(n,e),m(n,r),m(n,$),m($,k),m($,A),m(A,E),m(A,N),t[23](N),m(A,j),t[24](j),m(A,S),m(S,T),m(T,C),m(S,P),m(S,R),m(R,I),m(S,z),m($,L);for(let t=0;t<U.length;t+=1)U[t].m(L,null)},p(t,[n]){if(1024&n&&c(e,"i",t[10]),256&n&&c(e,"j",t[8]),32&n&&c(e,"fill",t[5]),1&n&&c(e,"width",t[0]),2&n&&c(e,"height",t[1]),512&n&&p(e,"focus",t[9]),1&n&&_!==(_=t[0]-10)&&c(r,"width",_),2&n&&M!==(M=t[1]-10)&&c(r,"height",M),8192&n&&c(k,"innerwidth",t[13]),16384&n&&c(k,"innerheight",t[14]),8192&n&&c(E,"width",t[13]),16384&n&&c(E,"height",t[14]),16384&n&&V!==(V="translate(0,"+t[14]+")")&&c(N,"transform",V),128&n&&v(C,t[7]),64&n&&v(I,t[6]),8192&n&&O!==(O=t[13]/2)&&c(S,"x",O),229404&n){let e;for(q=t[2],e=0;e<q.length;e+=1){const r=Vi(t,q,e);U[e]?U[e].p(r,n):(U[e]=Si(r),U[e].c(),U[e].m(L,null))}for(;e<U.length;e+=1)U[e].d(1);U.length=q.length}},i:y,o:y,d(e){e&&u(n),t[23](null),t[24](null),w(U,e)}}}const Ci=2;function Pi(t,n,e){let{width:r}=n,{height:i}=n,{totalBins:a}=n,{expectedBins:o}=n,{sampleBins:l}=n,{fill:s}=n,{samplingVariable:u}=n,{i:c}=n,{measurementVariable:h}=n,{j:f}=n,{focus:d}=n;const g={top:35,left:35,right:35,bottom:50};let p,m;const v=(t,n,e,r)=>{if(t&&n&&_&&M){const i=Vt(t),a=Vt(n);i.selectAll().remove(),a.selectAll().remove(),i.call(e).selectAll("text").each(function(t){isNaN(t)&&Vt(this).attr("y",5).attr("x",5).attr("transform","rotate(45)").attr("text-anchor","start")}),a.call(r)}};let y,w,x,_,M,$,k,A;return t.$set=(t=>{"width"in t&&e(0,r=t.width),"height"in t&&e(1,i=t.height),"totalBins"in t&&e(2,a=t.totalBins),"expectedBins"in t&&e(3,o=t.expectedBins),"sampleBins"in t&&e(4,l=t.sampleBins),"fill"in t&&e(5,s=t.fill),"samplingVariable"in t&&e(6,u=t.samplingVariable),"i"in t&&e(10,c=t.i),"measurementVariable"in t&&e(7,h=t.measurementVariable),"j"in t&&e(8,f=t.j),"focus"in t&&e(9,d=t.focus)}),t.$$.update=(()=>{16&t.$$.dirty&&e(19,y=Ft(l.map(t=>t.count))),1&t.$$.dirty&&e(13,w=r-g.left-g.right),2&t.$$.dirty&&e(14,x=i-g.top-g.bottom),8196&t.$$.dirty&&e(15,_=nn().domain(a.filter(t=>t.count>0).map(t=>t.name)).range([0,w])),540672&t.$$.dirty&&e(16,M=$e().domain([-y,y]).range([x,0])),32768&t.$$.dirty&&e(20,$=Ie(_)),65536&t.$$.dirty&&e(21,k=ze(M).ticks(6)),32768&t.$$.dirty&&e(17,A=_.bandwidth()),3151872&t.$$.dirty&&v(p,m,$,k)}),[r,i,a,o,l,s,u,h,f,d,c,p,m,w,x,_,M,A,g,y,$,k,v,function(t){b[t?"unshift":"push"](()=>{e(11,p=t)})},function(t){b[t?"unshift":"push"](()=>{e(12,m=t)})}]}class Ri extends n{constructor(t){super(),e(this,t,Pi,Ti,r,{width:0,height:1,totalBins:2,expectedBins:3,sampleBins:4,fill:5,samplingVariable:6,i:10,measurementVariable:7,j:8,focus:9})}}function Ii(t,n,e){const r=t.slice();return r[49]=n[e],r}function zi(t,n,e){const r=t.slice();return r[49]=n[e],r}function Bi(t,n,e){const r=t.slice();return r[54]=n[e],r[56]=e,r}function Oi(t,n,e){const r=t.slice();return r[57]=n[e],r[49]=e,r}function Li(t,n,e){const r=t.slice();return r[61]=n[e],r[56]=e,r}function Di(t,n,e){const r=t.slice();return r[59]=n[e],r[49]=e,r}function qi(t){let n,e,r,i,h,f;return{c(){n=o("path"),this.h()},l(t){n=l(t,"path",{i:!0,j:!0,class:!0,stroke:!0,d:!0},1),s(n).forEach(u),this.h()},h(){c(n,"i",e=t[49]),c(n,"j",r=t[56]),c(n,"class",i=x(t[22](t[49],t[56],t[0][t[49]][t[56]],t[1],t[2],t[3]))+" svelte-1jbexjw"),c(n,"stroke",h=t[21](t[49],t[56],t[0][t[49]][t[56]],t[1],t[2],t[3])),c(n,"d",f=t[20](t[7][t[49]],t[7][t[56]],t[0][t[49]][t[56]],t[17],t[18],t[16]))},m(t,e){a(t,n,e)},p(t,e){15&e[0]&&i!==(i=x(t[22](t[49],t[56],t[0][t[49]][t[56]],t[1],t[2],t[3]))+" svelte-1jbexjw")&&c(n,"class",i),15&e[0]&&h!==(h=t[21](t[49],t[56],t[0][t[49]][t[56]],t[1],t[2],t[3]))&&c(n,"stroke",h),458881&e[0]&&f!==(f=t[20](t[7][t[49]],t[7][t[56]],t[0][t[49]][t[56]],t[17],t[18],t[16]))&&c(n,"d",f)},d(t){t&&u(n)}}}function Ui(t){let n,e=t[49]!==t[56]&&null!==t[0][t[49]][t[56]]&&qi(t);return{c(){e&&e.c(),n=i()},l(t){e&&e.l(t),n=i()},m(t,r){e&&e.m(t,r),a(t,n,r)},p(t,r){t[49]!==t[56]&&null!==t[0][t[49]][t[56]]?e?e.p(t,r):((e=qi(t)).c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&u(n)}}}function Xi(t){let n,e=t[7],r=[];for(let n=0;n<e.length;n+=1)r[n]=Ui(Li(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=i()},l(t){for(let n=0;n<r.length;n+=1)r[n].l(t);n=i()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);a(t,n,e)},p(t,i){if(7798927&i[0]){let a;for(e=t[7],a=0;a<e.length;a+=1){const o=Li(t,e,a);r[a]?r[a].p(o,i):(r[a]=Ui(o),r[a].c(),r[a].m(n.parentNode,n))}for(;a<r.length;a+=1)r[a].d(1);r.length=e.length}},d(t){w(r,t),t&&u(n)}}}function Fi(t){let n,e,r,i,f,g,p,y,w,b,x,_,M,$=t[57]+"",k=(1!==t[1][0]||0!==t[1][1])&&Hi(t);return{c(){n=o("g"),e=o("rect"),k&&k.c(),p=o("text"),y=h($),this.h()},l(t){n=l(t,"g",{class:!0,opacity:!0},1);var r=s(n);e=l(r,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0},1),s(e).forEach(u),k&&k.l(r),p=l(r,"text",{class:!0,cursor:!0,column:!0,"column-name":!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0},1);var i=s(p);y=d(i,$),i.forEach(u),r.forEach(u),this.h()},h(){c(e,"class","axis-tick svelte-1jbexjw"),c(e,"x",r=-10),c(e,"y",i=t[17](t[57])),c(e,"width",f=10),c(e,"height",g=t[17].bandwidth()),c(p,"class","axis-tick svelte-1jbexjw"),c(p,"cursor","pointer"),c(p,"column",w=t[49]),c(p,"column-name",b=t[57]),c(p,"x",x=-12),c(p,"y",_=t[17](t[57])+t[17].bandwidth()/2),c(p,"text-anchor","end"),c(p,"alignment-baseline","middle"),c(n,"class","samplingAxisElements"),c(n,"opacity",M=t[2].includes(t[49])||0===t[2].length?1:.2)},m(t,r){a(t,n,r),m(n,e),k&&k.m(n,null),m(n,p),m(p,y)},p(t,r){131200&r[0]&&i!==(i=t[17](t[57]))&&c(e,"y",i),131072&r[0]&&g!==(g=t[17].bandwidth())&&c(e,"height",g),1!==t[1][0]||0!==t[1][1]?k?k.p(t,r):((k=Hi(t)).c(),k.m(n,p)):k&&(k.d(1),k=null),128&r[0]&&$!==($=t[57]+"")&&v(y,$),128&r[0]&&b!==(b=t[57])&&c(p,"column-name",b),131200&r[0]&&_!==(_=t[17](t[57])+t[17].bandwidth()/2)&&c(p,"y",_),4&r[0]&&M!==(M=t[2].includes(t[49])||0===t[2].length?1:.2)&&c(n,"opacity",M)},d(t){t&&u(n),k&&k.d()}}}function Hi(t){let n,e,r,i,h;return{c(){n=o("rect"),this.h()},l(t){n=l(t,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0},1),s(n).forEach(u),this.h()},h(){c(n,"fill","black"),c(n,"x",e=-10),c(n,"y",r=t[17](t[57])),c(n,"width",i=10),c(n,"height",h=t[17].bandwidth()*t[23](t[49],t[1]))},m(t,e){a(t,n,e)},p(t,e){131200&e[0]&&r!==(r=t[17](t[57]))&&c(n,"y",r),131074&e[0]&&h!==(h=t[17].bandwidth()*t[23](t[49],t[1]))&&c(n,"height",h)},d(t){t&&u(n)}}}function Wi(t){let n,e=t[8].includes(t[57]),r=e&&Fi(t);return{c(){r&&r.c(),n=i()},l(t){r&&r.l(t),n=i()},m(t,e){r&&r.m(t,e),a(t,n,e)},p(t,i){384&i[0]&&(e=t[8].includes(t[57])),e?r?r.p(t,i):((r=Fi(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&u(n)}}}function Yi(t){let n,e,r,i,h;return{c(){n=o("rect"),this.h()},l(t){n=l(t,"rect",{fill:!0,x:!0,y:!0,width:!0,height:!0},1),s(n).forEach(u),this.h()},h(){c(n,"fill","black"),c(n,"x",e=0),c(n,"y",r=t[18](t[54])),c(n,"width",i=10),c(n,"height",h=t[18].bandwidth()*t[24](t[56],t[1]))},m(t,e){a(t,n,e)},p(t,e){262272&e[0]&&r!==(r=t[18](t[54]))&&c(n,"y",r),262146&e[0]&&h!==(h=t[18].bandwidth()*t[24](t[56],t[1]))&&c(n,"height",h)},d(t){t&&u(n)}}}function Ki(t){let n,e,r,i,f,g,p,y,w,b,x,_,M=t[54]+"",$=(1!==t[1][0]||0!==t[1][1])&&Yi(t);return{c(){n=o("g"),e=o("rect"),$&&$.c(),p=o("text"),y=h(M),this.h()},l(t){n=l(t,"g",{class:!0,opacity:!0},1);var r=s(n);e=l(r,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0},1),s(e).forEach(u),$&&$.l(r),p=l(r,"text",{class:!0,cursor:!0,column:!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0},1);var i=s(p);y=d(i,M),i.forEach(u),r.forEach(u),this.h()},h(){c(e,"class","axis-tick svelte-1jbexjw"),c(e,"x",r=0),c(e,"y",i=t[18](t[54])),c(e,"width",f=10),c(e,"height",g=t[18].bandwidth()),c(p,"class","axis-tick svelte-1jbexjw"),c(p,"cursor","pointer"),c(p,"column",w=t[56]),c(p,"x",b=12),c(p,"y",x=t[18](t[54])+t[18].bandwidth()/2),c(p,"text-anchor","start"),c(p,"alignment-baseline","middle"),c(n,"class","samplingAxisElements"),c(n,"opacity",_=t[3].includes(t[56])||0===t[3].length?1:.2)},m(t,r){a(t,n,r),m(n,e),$&&$.m(n,null),m(n,p),m(p,y)},p(t,r){262272&r[0]&&i!==(i=t[18](t[54]))&&c(e,"y",i),262144&r[0]&&g!==(g=t[18].bandwidth())&&c(e,"height",g),1!==t[1][0]||0!==t[1][1]?$?$.p(t,r):(($=Yi(t)).c(),$.m(n,p)):$&&($.d(1),$=null),128&r[0]&&M!==(M=t[54]+"")&&v(y,M),262272&r[0]&&x!==(x=t[18](t[54])+t[18].bandwidth()/2)&&c(p,"y",x),8&r[0]&&_!==(_=t[3].includes(t[56])||0===t[3].length?1:.2)&&c(n,"opacity",_)},d(t){t&&u(n),$&&$.d()}}}function Zi(t){let n,e,r,i=10*t[49]+"%";return{c(){n=o("text"),e=h(i),this.h()},l(t){n=l(t,"text",{class:!0,"text-anchor":!0,"alignment-baseline":!0,y:!0},1);var r=s(n);e=d(r,i),r.forEach(u),this.h()},h(){c(n,"class","axis-tick svelte-1jbexjw"),c(n,"text-anchor","middle"),c(n,"alignment-baseline","middle"),c(n,"y",r=t[16](t[49]/10))},m(t,r){a(t,n,r),m(n,e)},p(t,e){65536&e[0]&&r!==(r=t[16](t[49]/10))&&c(n,"y",r)},d(t){t&&u(n)}}}function Gi(t){let n,e,r,i,h,f;return{c(){n=o("rect"),this.h()},l(t){n=l(t,"rect",{y:!0,x:!0,width:!0,height:!0,fill:!0},1),s(n).forEach(u),this.h()},h(){c(n,"y",e=t[19].bottom/6),c(n,"x",r=0+t[49]*(.8*t[12]/1e3)),c(n,"width",i=.8*t[12]/1e3+1),c(n,"height",h=t[19].bottom/5),c(n,"fill",f=Ue(1-t[49]/1e3))},m(t,e){a(t,n,e)},p(t,e){4096&e[0]&&r!==(r=0+t[49]*(.8*t[12]/1e3))&&c(n,"x",r),4096&e[0]&&i!==(i=.8*t[12]/1e3+1)&&c(n,"width",i)},d(t){t&&u(n)}}}function Qi(t){let n,e,r,i,f,g,p,v,b,x,$,k,A,E,N,V,j,S,T,C,P,R,I,z,B,O,L,D,q,U,X,F,H,W,Y,K,Z,G,Q,J,tt,nt,et,rt,it,at,ot,lt,st,ut,ct,ht,ft,dt,gt,pt,mt,vt,yt,wt,bt,xt,_t="Distribution Consistence (Ordered Data Only)",Mt=t[7],$t=[];for(let n=0;n<Mt.length;n+=1)$t[n]=Xi(Di(t,Mt,n));let kt=t[7],At=[];for(let n=0;n<kt.length;n+=1)At[n]=Wi(Oi(t,kt,n));let Et=t[7],Nt=[];for(let n=0;n<Et.length;n+=1)Nt[n]=Ki(Bi(t,Et,n));let Vt=Ot(1,10),jt=[];for(let n=0;n<Vt.length;n+=1)jt[n]=Zi(zi(t,Vt,n));let St=Ot(1e3),Tt=[];for(let n=0;n<St.length;n+=1)Tt[n]=Gi(Ii(t,St,n));return{c(){n=o("g"),e=o("g"),r=o("g"),i=o("g");for(let t=0;t<$t.length;t+=1)$t[t].c();f=o("g"),g=o("g"),p=o("text"),v=h("Variables With Missing Values\n        "),$=o("g");for(let t=0;t<At.length;t+=1)At[t].c();k=o("g"),A=o("text"),E=h("Variables");for(let t=0;t<Nt.length;t+=1)Nt[t].c();S=o("g"),T=o("text"),C=h("Chance of MAR"),I=o("rect");for(let t=0;t<jt.length;t+=1)jt[t].c();D=o("g");for(let t=0;t<Tt.length;t+=1)Tt[t].c();q=o("rect"),W=o("rect"),Q=o("g"),tt=o("text"),nt=h("Categorical"),it=o("text"),at=h(_t),st=o("text"),ut=h("< MCAR"),ft=o("text"),dt=h("MAR >"),vt=o("g"),yt=o("g"),this.h()},l(t){n=l(t,"g",{class:!0,transform:!0},1);var a=s(n);e=l(a,"g",{class:!0,transform:!0},1);var o=s(e);r=l(o,"g",{class:!0},1),s(r).forEach(u),i=l(o,"g",{class:!0},1);var c=s(i);for(let t=0;t<$t.length;t+=1)$t[t].l(c);c.forEach(u),f=l(o,"g",{class:!0},1);var h=s(f);g=l(h,"g",{class:!0},1);var m=s(g);p=l(m,"text",{class:!0,x:!0,y:!0},1);var y=s(p);v=d(y,"Variables With Missing Values\n        "),y.forEach(u),$=l(m,"g",{class:!0},1);var w=s($);for(let t=0;t<At.length;t+=1)At[t].l(w);w.forEach(u),m.forEach(u),k=l(h,"g",{class:!0,transform:!0},1);var b=s(k);A=l(b,"text",{class:!0,x:!0,y:!0},1);var x=s(A);E=d(x,"Variables"),x.forEach(u);for(let t=0;t<Nt.length;t+=1)Nt[t].l(b);b.forEach(u),S=l(h,"g",{class:!0,transform:!0},1);var _=s(S);T=l(_,"text",{class:!0,x:!0,y:!0},1);var M=s(T);C=d(M,"Chance of MAR"),M.forEach(u),I=l(_,"rect",{class:!0,x:!0,width:!0,y:!0,height:!0},1),s(I).forEach(u);for(let t=0;t<jt.length;t+=1)jt[t].l(_);_.forEach(u),D=l(h,"g",{class:!0,transform:!0},1);var N=s(D);for(let t=0;t<Tt.length;t+=1)Tt[t].l(N);q=l(N,"rect",{y:!0,x:!0,stroke:!0,"stroke-width":!0,width:!0,height:!0,fill:!0},1),s(q).forEach(u),W=l(N,"rect",{y:!0,x:!0,stroke:!0,"stroke-width":!0,width:!0,height:!0,fill:!0},1),s(W).forEach(u),Q=l(N,"g",{class:!0,transform:!0},1),s(Q).forEach(u),tt=l(N,"text",{class:!0,"alignment-baseline":!0,x:!0,y:!0},1);var V=s(tt);nt=d(V,"Categorical"),V.forEach(u),it=l(N,"text",{class:!0,"alignment-baseline":!0,x:!0,y:!0},1);var j=s(it);at=d(j,_t),j.forEach(u),st=l(N,"text",{"text-anchor":!0,"alignment-baseline":!0,"font-size":!0,x:!0,y:!0},1);var P=s(st);ut=d(P,"< MCAR"),P.forEach(u),ft=l(N,"text",{"text-anchor":!0,"alignment-baseline":!0,"font-size":!0,x:!0,y:!0},1);var R=s(ft);dt=d(R,"MAR >"),R.forEach(u),N.forEach(u),h.forEach(u),vt=l(o,"g",{class:!0},1);var z=s(vt);yt=l(z,"g",{class:!0},1),s(yt).forEach(u),z.forEach(u),o.forEach(u),a.forEach(u),this.h()},h(){c(r,"class","background"),c(i,"class","foreground"),c(p,"class","axis-name svelte-1jbexjw"),c(p,"x",b=0),c(p,"y",x=-10),c($,"class","samplingAxis"),c(g,"class","sampling-axis"),c(A,"class","axis-name svelte-1jbexjw"),c(A,"x",N=5),c(A,"y",V=-10),c(k,"class","measurement-axis"),c(k,"transform",j="translate("+t[12]+",0)"),c(T,"class","axis-name svelte-1jbexjw"),c(T,"x",P=-5),c(T,"y",R=-10),c(I,"class","axis-tick svelte-1jbexjw"),c(I,"x",z=-15),c(I,"width",B=30),c(I,"y",O=0),c(I,"height",t[14]),c(S,"class","ratio-axis"),c(S,"transform",L="translate("+t[12]/2+",0)"),c(q,"y",U=t[19].bottom/6+t[19].bottom/8),c(q,"x",X=.85*t[12]),c(q,"stroke","black"),c(q,"stroke-width","1"),c(q,"width",F=.15*t[12]),c(q,"height",H=t[19].bottom/5),c(q,"fill","mediumseagreen"),c(W,"y",Y=t[19].bottom/6),c(W,"x",K=0),c(W,"stroke","black"),c(W,"stroke-width","1"),c(W,"width",Z=.8*t[12]),c(W,"height",G=t[19].bottom/5),c(W,"fill","none"),c(Q,"class","color-axis"),c(Q,"transform",J="translate(0,"+(t[19].bottom/6+t[19].bottom/5)+")"),c(tt,"class","axis-name svelte-1jbexjw"),c(tt,"alignment-baseline","hanging"),c(tt,"x",et=.925*t[12]),c(tt,"y",rt=t[19].bottom/6+t[19].bottom/2-t[19].bottom/8),c(it,"class","axis-name svelte-1jbexjw"),c(it,"alignment-baseline","hanging"),c(it,"x",ot=.4*t[12]),c(it,"y",lt=t[19].bottom/6+t[19].bottom/2),c(st,"text-anchor","start"),c(st,"alignment-baseline","hanging"),c(st,"font-size","0.7em"),c(st,"x",ct=0),c(st,"y",ht=0),c(ft,"text-anchor","end"),c(ft,"alignment-baseline","hanging"),c(ft,"font-size","0.7em"),c(ft,"x",gt=.8*t[12]),c(ft,"y",pt=0),c(D,"class","color-legend"),c(D,"transform",mt="translate(0,"+t[14]+")"),c(f,"class","layer1"),c(yt,"class","ratio-brush"),c(vt,"class","brushLayer"),c(e,"class","marginConvention"),c(e,"transform",wt="translate("+t[19].left+","+t[19].top+")"),c(n,"class","outerRing"),c(n,"transform",bt="translate("+t[5]*t[13]+", "+t[6]*t[15]+")")},m(o,l){a(o,n,l),m(n,e),m(e,r),m(e,i);for(let t=0;t<$t.length;t+=1)$t[t].m(i,null);t[45](i),m(e,f),m(f,g),m(g,p),m(p,v),m(g,$);for(let t=0;t<At.length;t+=1)At[t].m($,null);m(f,k),m(k,A),m(A,E);for(let t=0;t<Nt.length;t+=1)Nt[t].m(k,null);m(f,S),m(S,T),m(T,C),m(S,I);for(let t=0;t<jt.length;t+=1)jt[t].m(S,null);m(f,D);for(let t=0;t<Tt.length;t+=1)Tt[t].m(D,null);m(D,q),m(D,W),m(D,Q),t[47](Q),m(D,tt),m(tt,nt),m(D,it),m(it,at),m(D,st),m(st,ut),m(D,ft),m(ft,dt),m(e,vt),m(vt,yt),t[48](yt),xt=[_(i,"mouseover",t[27]),_(i,"mouseout",t[46]),_($,"click",t[25]),_(k,"click",t[26])]},p(t,e){if(7798927&e[0]){let n;for(Mt=t[7],n=0;n<Mt.length;n+=1){const r=Di(t,Mt,n);$t[n]?$t[n].p(r,e):($t[n]=Xi(r),$t[n].c(),$t[n].m(i,null))}for(;n<$t.length;n+=1)$t[n].d(1);$t.length=Mt.length}if(8520070&e[0]){let n;for(kt=t[7],n=0;n<kt.length;n+=1){const r=Oi(t,kt,n);At[n]?At[n].p(r,e):(At[n]=Wi(r),At[n].c(),At[n].m($,null))}for(;n<At.length;n+=1)At[n].d(1);At.length=kt.length}if(17039498&e[0]){let n;for(Et=t[7],n=0;n<Et.length;n+=1){const r=Bi(t,Et,n);Nt[n]?Nt[n].p(r,e):(Nt[n]=Ki(r),Nt[n].c(),Nt[n].m(k,null))}for(;n<Nt.length;n+=1)Nt[n].d(1);Nt.length=Et.length}if(4096&e[0]&&j!==(j="translate("+t[12]+",0)")&&c(k,"transform",j),16384&e[0]&&c(I,"height",t[14]),65536&e[0]){let n;for(Vt=Ot(1,10),n=0;n<Vt.length;n+=1){const r=zi(t,Vt,n);jt[n]?jt[n].p(r,e):(jt[n]=Zi(r),jt[n].c(),jt[n].m(S,null))}for(;n<jt.length;n+=1)jt[n].d(1);jt.length=Vt.length}if(4096&e[0]&&L!==(L="translate("+t[12]/2+",0)")&&c(S,"transform",L),528384&e[0]){let n;for(St=Ot(1e3),n=0;n<St.length;n+=1){const r=Ii(t,St,n);Tt[n]?Tt[n].p(r,e):(Tt[n]=Gi(r),Tt[n].c(),Tt[n].m(D,q))}for(;n<Tt.length;n+=1)Tt[n].d(1);Tt.length=St.length}4096&e[0]&&X!==(X=.85*t[12])&&c(q,"x",X),4096&e[0]&&F!==(F=.15*t[12])&&c(q,"width",F),4096&e[0]&&Z!==(Z=.8*t[12])&&c(W,"width",Z),4096&e[0]&&et!==(et=.925*t[12])&&c(tt,"x",et),4096&e[0]&&ot!==(ot=.4*t[12])&&c(it,"x",ot),4096&e[0]&&gt!==(gt=.8*t[12])&&c(ft,"x",gt),16384&e[0]&&mt!==(mt="translate(0,"+t[14]+")")&&c(D,"transform",mt),41056&e[0]&&bt!==(bt="translate("+t[5]*t[13]+", "+t[6]*t[15]+")")&&c(n,"transform",bt)},i:y,o:y,d(e){e&&u(n),w($t,e),t[45](null),w(At,e),w(Nt,e),w(jt,e),w(Tt,e),t[47](null),t[48](null),M(xt)}}}const Ji=.5;function ta(t,n,e){let r,i;$(t,L,t=>e(13,r=t)),$(t,D,t=>e(15,i=t));let{x:a=0}=n,{y:o=0}=n,{width:l=1}=n,{height:s=1}=n,{arcdata:u}=n;const c=t=>{setTimeout(()=>{e(0,u=t)},1)};let{crossdata:h}=n,{columns:f}=n,{columnTypes:d}=n,{columnsWithMissingValues:g}=n,{refine:p}=n,{convergence:m}=n,{selectedRatioInterval:v}=n,{selectedSamplingVariables:y}=n,{selectedMeasurementVariables:w}=n,{hoveredPair:x}=n;const _={top:50,bottom:75,left:120,right:120};let M;const k=(t,n)=>{if(t&&n){const e=Vt(t);e.selectAll().remove(),e.call(n).selectAll("g.tick").selectAll("text").text(t=>100*+t+"%")}},A=async t=>{const n=await p(t,1);let r=-1/0;for(let e=0;e<f.length;e++)for(let i=0;i<f.length;i++)if(e!==i&&null!==t[e][i]){const a=100*Math.abs(t[e][i]-n[e][i]);r=a>r?a:r}r>=Ji&&c(n),e(28,m=r)};let E,N=t=>t<=v[0]&&t>=v[1];const V=(t,n)=>{t&&n&&Vt(t).call(n)};let j;const S=t=>{Vt(j).selectAll("path").each(function(){t&&t[0]===+Vt(this).attr("i")&&t[1]===+Vt(this).attr("j")?Vt(this).raise().classed("focus",!0):Vt(this).classed("focus",!1)})};let T,C,P,R,I,z,B,O,q,U;return t.$set=(t=>{"x"in t&&e(5,a=t.x),"y"in t&&e(6,o=t.y),"width"in t&&e(29,l=t.width),"height"in t&&e(30,s=t.height),"arcdata"in t&&e(0,u=t.arcdata),"crossdata"in t&&e(31,h=t.crossdata),"columns"in t&&e(7,f=t.columns),"columnTypes"in t&&e(32,d=t.columnTypes),"columnsWithMissingValues"in t&&e(8,g=t.columnsWithMissingValues),"refine"in t&&e(33,p=t.refine),"convergence"in t&&e(28,m=t.convergence),"selectedRatioInterval"in t&&e(1,v=t.selectedRatioInterval),"selectedSamplingVariables"in t&&e(2,y=t.selectedSamplingVariables),"selectedMeasurementVariables"in t&&e(3,w=t.selectedMeasurementVariables),"hoveredPair"in t&&e(4,x=t.hoveredPair)}),t.$$.update=(()=>{536879104&t.$$.dirty[0]&&e(12,T=l*r-_.left-_.right),1073774592&t.$$.dirty[0]&&e(14,C=s*i-_.top-_.bottom),16384&t.$$.dirty[0]&&e(16,P=$e().domain([0,1]).range([C,0])),16640&t.$$.dirty[0]&&e(17,R=nn().domain(g).range([C,0]).paddingInner(.2)),16512&t.$$.dirty[0]&&e(18,I=nn().domain(f).range([C,0]).paddingInner(.2)),4096&t.$$.dirty[0]&&e(34,z=$e().domain([0,1]).range([0,.8*T])),65536&t.$$.dirty[0]&&(B=ze(P)),8&t.$$.dirty[1]&&e(36,O=Ie(z)),1&t.$$.dirty[0]&&(q=u[1][1]),512&t.$$.dirty[0]|32&t.$$.dirty[1]&&k(M,O),1&t.$$.dirty[0]&&A(u),86016&t.$$.dirty[0]&&e(38,U=mi().extent([[T/2-13,0],[T/2+14,C]]).on("brush end",()=>{wt.selection?e(1,v=wt.selection.map(P.invert)):e(1,v=[1,0])})),1024&t.$$.dirty[0]|128&t.$$.dirty[1]&&V(E,U),16&t.$$.dirty[0]&&S(x)}),[u,v,y,w,x,a,o,f,g,M,E,j,T,r,C,i,P,R,I,_,(t,n,e,r,i,a)=>{const o=r.bandwidth(),l=i.bandwidth(),s=qe(),u=r(t)+(1-e)*o,c=a(e),h=T/2,f=i(n)+(1-e)*l,d=T,g=T/4;return s.moveTo(0,u),s.bezierCurveTo(0+g,u,h-15-g,c,h-15,c),s.moveTo(h+15,c),s.bezierCurveTo(h+15+g,c,d-g,f,d,f),s.toString()},(t,n,e,r,i,a)=>!N(e)||!i.includes(t)&&0!==i.length||!a.includes(n)&&0!==a.length?"lightgray":"Ordinal"===d[n]||"Quantitative"===d[n]?Ue(h[t][n]):"darkseagreen",(t,n,e,r,i,a)=>{if(N(e)){if(1===r[0]&&0===r[1]&&0===i.length&&0===a.length)return"data";if((i.includes(t)||0===i.length)&&(a.includes(n)||0===a.length))return"dataSelected"}return"dataNotSelected"},(t,n)=>u[t].filter(t=>N(t)).length/(u[t].length-1),(t,n)=>{const e=[];for(let n=0;n<u.length;n++)n!==t&&null!==u[n][t]&&e.push(u[n][t]);return e.filter(t=>N(t)).length/e.length},t=>{if("text"!==t.target.tagName)return;const n=+t.target.getAttribute("column");y.includes(n)?e(2,y=y.filter(t=>t!==n)):(y.push(n),e(2,y))},t=>{if("text"!==t.target.tagName)return;const n=+t.target.getAttribute("column");w.includes(n)?e(3,w=w.filter(t=>t!==n)):(w.push(n),e(3,w))},t=>{t.target.className.baseVal.includes("Not")||e(4,x=[+t.target.getAttribute("i"),+t.target.getAttribute("j")])},m,l,s,h,d,p,z,B,O,q,U,c,k,A,N,V,S,function(t){b[t?"unshift":"push"](()=>{e(11,j=t)})},()=>{e(4,x=null)},function(t){b[t?"unshift":"push"](()=>{e(9,M=t)})},function(t){b[t?"unshift":"push"](()=>{e(10,E=t)})}]}class na extends n{constructor(t){super(),e(this,t,ta,Qi,r,{x:5,y:6,width:29,height:30,arcdata:0,crossdata:31,columns:7,columnTypes:32,columnsWithMissingValues:8,refine:33,convergence:28,selectedRatioInterval:1,selectedSamplingVariables:2,selectedMeasurementVariables:3,hoveredPair:4},[-1,-1,-1])}}function ea(t){let n,e,r,i,f,g,p,w,b,x,_,M,$,k,A,E,N,V,j,S=(t[2]/100*100).toFixed(2)+"";return{c(){n=o("g"),e=o("g"),r=o("rect"),f=o("rect"),b=o("text"),x=h(S),_=h("%\n    "),k=o("text"),A=h("Convergence Progress"),this.h()},l(t){n=l(t,"g",{class:!0,transform:!0},1);var i=s(n);e=l(i,"g",{class:!0,transform:!0},1);var a=s(e);r=l(a,"rect",{class:!0,fill:!0,width:!0,height:!0},1),s(r).forEach(u),f=l(a,"rect",{class:!0,fill:!0,x:!0,width:!0,height:!0},1),s(f).forEach(u),b=l(a,"text",{class:!0,x:!0,y:!0},1);var o=s(b);x=d(o,S),_=d(o,"%\n    "),o.forEach(u),k=l(a,"text",{class:!0,x:!0,y:!0,"alignment-baseline":!0},1);var c=s(k);A=d(c,"Convergence Progress"),c.forEach(u),a.forEach(u),i.forEach(u),this.h()},h(){c(r,"class","background svelte-1xmg28i"),c(r,"fill",i=t[2]<=.5?"mediumseagreen":"coral"),c(r,"width",t[3]),c(r,"height",t[5]),c(f,"class","foreground"),c(f,"fill",g=t[2]<=.5?"mediumseagreen":"coral"),c(f,"x",p=t[3]/2-t[3]*(t[2]/100)/2),c(f,"width",w=t[3]*(t[2]/100)),c(f,"height",t[5]),c(b,"class","label svelte-1xmg28i"),c(b,"x",M=t[3]/2),c(b,"y",$=t[5]/2),c(k,"class","axis-name svelte-1xmg28i"),c(k,"x",E=10),c(k,"y",N=t[5]/2),c(k,"alignment-baseline","middle"),c(e,"class","marginConvention"),c(e,"transform",V="translate("+t[7].left+","+t[7].top+")"),c(n,"class","outerRing"),c(n,"transform",j="translate("+t[0]*t[4]+", "+t[1]*t[6]+")")},m(t,i){a(t,n,i),m(n,e),m(e,r),m(e,f),m(e,b),m(b,x),m(b,_),m(e,k),m(k,A)},p(t,[e]){4&e&&i!==(i=t[2]<=.5?"mediumseagreen":"coral")&&c(r,"fill",i),8&e&&c(r,"width",t[3]),32&e&&c(r,"height",t[5]),4&e&&g!==(g=t[2]<=.5?"mediumseagreen":"coral")&&c(f,"fill",g),12&e&&p!==(p=t[3]/2-t[3]*(t[2]/100)/2)&&c(f,"x",p),12&e&&w!==(w=t[3]*(t[2]/100))&&c(f,"width",w),32&e&&c(f,"height",t[5]),4&e&&S!==(S=(t[2]/100*100).toFixed(2)+"")&&v(x,S),8&e&&M!==(M=t[3]/2)&&c(b,"x",M),32&e&&$!==($=t[5]/2)&&c(b,"y",$),32&e&&N!==(N=t[5]/2)&&c(k,"y",N),83&e&&j!==(j="translate("+t[0]*t[4]+", "+t[1]*t[6]+")")&&c(n,"transform",j)},i:y,o:y,d(t){t&&u(n)}}}function ra(t,n,e){let r,i;$(t,L,t=>e(4,r=t)),$(t,D,t=>e(6,i=t));let{x:a=0}=n,{y:o=0}=n,{width:l=1}=n,{height:s=1}=n,{convergence:u}=n;const c={top:2,bottom:2,left:0,right:0};let h,f;return t.$set=(t=>{"x"in t&&e(0,a=t.x),"y"in t&&e(1,o=t.y),"width"in t&&e(8,l=t.width),"height"in t&&e(9,s=t.height),"convergence"in t&&e(2,u=t.convergence)}),t.$$.update=(()=>{272&t.$$.dirty&&e(3,h=l*r-c.left-c.right),576&t.$$.dirty&&e(5,f=s*i-c.top-c.bottom)}),[a,o,u,h,r,f,i,c,l,s]}class ia extends n{constructor(t){super(),e(this,t,ra,ea,r,{x:0,y:1,width:8,height:9,convergence:2})}}function aa(t,n,e){const r=t.slice();return r[26]=n[e][0],r[27]=n[e][1],r[29]=e,r}function oa(t){let n,e,r;const i=new Ri({props:{i:t[26],j:t[27],focus:t[0]&&t[0][0]===t[26]&&t[0][1]===t[27],width:t[7],height:t[11],fill:null===t[4][t[26]][t[27]]?"darkseagreen":Ue(t[4][t[26]][t[27]]),samplingVariable:t[5][t[26]],measurementVariable:t[5][t[27]],totalBins:t[3][t[27]][t[27]],expectedBins:t[3][t[26]][t[27]][0],sampleBins:t[3][t[26]][t[27]][1]}});return{c(){n=o("g"),k(i.$$.fragment),this.h()},l(t){n=l(t,"g",{transform:!0},1);var e=s(n);A(i.$$.fragment,e),e.forEach(u),this.h()},h(){c(n,"transform",e="translate(0,"+t[29]*(t[11]+5)+")")},m(t,e){a(t,n,e),E(i,n,null),r=!0},p(t,a){const o={};8192&a&&(o.i=t[26]),8192&a&&(o.j=t[27]),8193&a&&(o.focus=t[0]&&t[0][0]===t[26]&&t[0][1]===t[27]),128&a&&(o.width=t[7]),2048&a&&(o.height=t[11]),8208&a&&(o.fill=null===t[4][t[26]][t[27]]?"darkseagreen":Ue(t[4][t[26]][t[27]])),8224&a&&(o.samplingVariable=t[5][t[26]]),8224&a&&(o.measurementVariable=t[5][t[27]]),8200&a&&(o.totalBins=t[3][t[27]][t[27]]),8200&a&&(o.expectedBins=t[3][t[26]][t[27]][0]),8200&a&&(o.sampleBins=t[3][t[26]][t[27]][1]),i.$set(o),(!r||2048&a&&e!==(e="translate(0,"+t[29]*(t[11]+5)+")"))&&c(n,"transform",e)},i(t){r||(N(i.$$.fragment,t),r=!0)},o(t){V(i.$$.fragment,t),r=!1},d(t){t&&u(n),j(i)}}}function la(t){let n,e,r,i,h,f,d,g,p,v,y,b,x,$,k,A,E=t[13],j=[];for(let n=0;n<E.length;n+=1)j[n]=oa(aa(t,E,n));const C=t=>V(j[t],1,1,()=>{j[t]=null});return{c(){n=o("g"),e=o("g"),r=o("g"),i=o("rect"),g=o("rect"),b=o("g");for(let t=0;t<j.length;t+=1)j[t].c();this.h()},l(t){n=l(t,"g",{class:!0,transform:!0},1);var a=s(n);e=l(a,"g",{class:!0,transform:!0},1);var o=s(e);r=l(o,"g",{class:!0},1);var c=s(r);i=l(c,"rect",{class:!0,x:!0,width:!0,y:!0,height:!0},1),s(i).forEach(u),g=l(c,"rect",{class:!0,x:!0,width:!0,y:!0,height:!0},1),s(g).forEach(u),c.forEach(u),b=l(o,"g",{class:!0},1);var h=s(b);for(let t=0;t<j.length;t+=1)j[t].l(h);h.forEach(u),o.forEach(u),a.forEach(u),this.h()},h(){c(i,"class","slider_bg svelte-vf9rly"),c(i,"x",h=t[7]+.1*t[14].right),c(i,"width",f=.9*t[14].right),c(i,"y",d=0),c(i,"height",t[9]),c(g,"class","slider svelte-vf9rly"),c(g,"x",p=t[7]+.1*t[14].right),c(g,"width",v=.9*t[14].right),c(g,"y",y=0),c(g,"height",t[12]),c(r,"class","background"),c(b,"class","foreground"),c(e,"class","marginConvention"),c(e,"transform",x="translate("+t[14].left+","+t[14].top+")"),c(n,"class","outerRing"),c(n,"transform",$="translate("+t[1]*t[8]+", "+t[2]*t[10]+")")},m(o,l){a(o,n,l),m(n,e),m(e,r),m(r,i),m(r,g),t[24](g),m(e,b);for(let t=0;t<j.length;t+=1)j[t].m(b,null);k=!0,A=[_(b,"mouseover",t[15]),_(b,"mouseout",t[25])]},p(t,[e]){if((!k||128&e&&h!==(h=t[7]+.1*t[14].right))&&c(i,"x",h),(!k||512&e)&&c(i,"height",t[9]),(!k||128&e&&p!==(p=t[7]+.1*t[14].right))&&c(g,"x",p),(!k||4096&e)&&c(g,"height",t[12]),10425&e){let n;for(E=t[13],n=0;n<E.length;n+=1){const r=aa(t,E,n);j[n]?(j[n].p(r,e),N(j[n],1)):(j[n]=oa(r),j[n].c(),N(j[n],1),j[n].m(b,null))}for(S(),n=E.length;n<j.length;n+=1)C(n);T()}(!k||1286&e&&$!==($="translate("+t[1]*t[8]+", "+t[2]*t[10]+")"))&&c(n,"transform",$)},i(t){if(!k){for(let t=0;t<E.length;t+=1)N(j[t]);k=!0}},o(t){j=j.filter(Boolean);for(let t=0;t<j.length;t+=1)V(j[t]);k=!1},d(e){e&&u(n),t[24](null),w(j,e),M(A)}}}const sa=3;function ua(t,n,e){let r,i;$(t,L,t=>e(8,r=t)),$(t,D,t=>e(10,i=t));let{x:a=0}=n,{y:o=0}=n,{width:l=1}=n,{height:s=1}=n,{binsMatrix:u}=n,{renderList:c}=n,{crossdata:h}=n,{columns:f}=n,{hoveredPair:d}=n,{selectedRatioInterval:g}=n,{selectedSamplingVariables:p}=n,{selectedMeasurementVariables:m}=n;const v={top:0,bottom:0,left:0,right:20};let y;let w,x,_,M,k,A,E;return t.$set=(t=>{"x"in t&&e(1,a=t.x),"y"in t&&e(2,o=t.y),"width"in t&&e(16,l=t.width),"height"in t&&e(17,s=t.height),"binsMatrix"in t&&e(3,u=t.binsMatrix),"renderList"in t&&e(18,c=t.renderList),"crossdata"in t&&e(4,h=t.crossdata),"columns"in t&&e(5,f=t.columns),"hoveredPair"in t&&e(0,d=t.hoveredPair),"selectedRatioInterval"in t&&e(19,g=t.selectedRatioInterval),"selectedSamplingVariables"in t&&e(20,p=t.selectedSamplingVariables),"selectedMeasurementVariables"in t&&e(21,m=t.selectedMeasurementVariables)}),t.$$.update=(()=>{65792&t.$$.dirty&&e(7,w=l*r-v.left-v.right),132096&t.$$.dirty&&e(9,x=s*i-v.top-v.bottom),512&t.$$.dirty&&e(11,_=x/sa-5),262656&t.$$.dirty&&e(12,M=function(t,n,e){return 0===n||n<e?t:t*(e/n)}(x,c.length,sa)),4461056&t.$$.dirty&&e(23,A=function(){var t,n,e,r,i=nr,a=er,o=rr,l=ir,s={},u=Fe("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",d).filter(l).on("touchstart.drag",m).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var o=w("mouse",a.apply(this,arguments),Tt,this,arguments);o&&(Vt(wt.view).on("mousemove.drag",g,!0).on("mouseup.drag",p,!0),Ge(wt.view),Ke(),e=!1,t=wt.clientX,n=wt.clientY,o("start"))}}function g(){if(Ze(),!e){var r=wt.clientX-t,i=wt.clientY-n;e=r*r+i*i>h}s.mouse("drag")}function p(){Vt(wt.view).on("mousemove.drag mouseup.drag",null),Qe(wt.view,e),Ze(),s.mouse("end")}function m(){if(i.apply(this,arguments)){var t,n,e=wt.changedTouches,r=a.apply(this,arguments),o=e.length;for(t=0;t<o;++t)(n=w(e[t].identifier,r,Ct,this,arguments))&&(Ke(),n("start"))}}function v(){var t,n,e=wt.changedTouches,r=e.length;for(t=0;t<r;++t)(n=s[e[t].identifier])&&(Ze(),n("drag"))}function y(){var t,n,e=wt.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=s[e[t].identifier])&&(Ke(),n("end"))}function w(t,n,e,r,i){var a,l,h,d=e(n,t),g=u.copy();if($t(new tr(f,"beforestart",a,t,c,d[0],d[1],0,0,g),function(){return null!=(wt.subject=a=o.apply(r,i))&&(l=a.x-d[0]||0,h=a.y-d[1]||0,!0)}))return function o(u){var p,m=d;switch(u){case"start":s[t]=o,p=c++;break;case"end":delete s[t],--c;case"drag":d=e(n,t),p=c}$t(new tr(f,u,a,t,p,d[0]+l,d[1]+h,d[0]-m[0],d[1]-m[1],g),g.apply,g,[u,r,i])}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:Je(!!t),f):i},f.container=function(t){return arguments.length?(a="function"==typeof t?t:Je(t),f):a},f.subject=function(t){return arguments.length?(o="function"==typeof t?t:Je(t),f):o},f.touchable=function(t){return arguments.length?(l="function"==typeof t?t:Je(!!t),f):l},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}().on("start",function(){Vt(this).attr("stroke","black")}).on("drag",function(){let t;t=wt.y-M/2<0?0:wt.y-M/2>x-M?x-M:wt.y-M/2,Vt(this).attr("y",t);const n=Math.floor(t/(x*(1/c.length)));E!==n&&e(22,E=n)}).on("end",function(){Vt(this).attr("stroke","none")})),3670080&t.$$.dirty&&e(22,E=function(t,n){return t&&t.setAttribute("y","0"),0}(y)),4456449&t.$$.dirty&&e(13,k=function(t,n,e,r){const i=t.slice(n,n+e);return r&&!i.some(t=>t[0]===r[0]&&t[1]===r[1])&&(i[0]=r),i}(c,E,sa,d)),8388672&t.$$.dirty&&function(t,n){t&&n&&Vt(t).call(n)}(y,A)}),[d,a,o,u,h,f,y,w,r,x,i,_,M,k,v,t=>{e(0,d=[+t.target.getAttribute("i"),+t.target.getAttribute("j")])},l,s,c,g,p,m,E,A,function(t){b[t?"unshift":"push"](()=>{e(6,y=t)})},()=>e(0,d=null)]}class ca extends n{constructor(t){super(),e(this,t,ua,la,r,{x:1,y:2,width:16,height:17,binsMatrix:3,renderList:18,crossdata:4,columns:5,hoveredPair:0,selectedRatioInterval:19,selectedSamplingVariables:20,selectedMeasurementVariables:21})}}const ha=(t,n)=>t<=Math.max(...n)&&t>=Math.min(...n);function fa(t,n,e,r,i,a=null,o=100){const l=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null));for(let s=0;s<n.length;s++){const u=r[s][s];if(0!==u)for(let c=0;c<n.length;c++){if(s===c)continue;const h=n[c];let f=t.map(t=>t[h]);const d=i[s][c][0];l[s][c]=0;for(let t=0;t<o;t++){let t,n=ya(f,u);if("Quantitative"===e[c]){t=ma(n,va(f))}else{t=da(n,ga(f))}l[s][c]+=pa(t,d)<r[s][c]?1:0}if(l[s][c]=l[s][c]/o,a){const t=a[0][0];l[s][c]=(l[s][c]+t*a[s][c])/(t+1),l[0][0]=a[0][0],l[1][1]=a[1][1]}}}return l[0][0]++,l[1][1]+=o,l}function da(t,n){"number"==typeof n[0]&&n.sort(Pt);let e=new Array(n.length+1);for(let t=0;t<n.length;t++)e[t]={name:n[t],count:0};for(let r=0;r<t.length;r++){const i=t[r];null!==i&&e[n.indexOf(i)].count++}return e[e.length-1]={name:"miss",count:t.filter(t=>null===t).length},e}function ga(t){return t.filter((t,n,e)=>e.indexOf(t)===n)}function pa(t,n){const e=[];for(let r=0;r<t.length;r++){const i=t[r],a=n[r];e.push(Math.pow(a.count-i.count,2))}return Math.sqrt(function(t,n){var e,r=t.length,i=r,a=-1,o=0;if(null==n)for(;++a<r;)isNaN(e=Bt(t[a]))?--i:o+=e;else for(;++a<r;)isNaN(e=Bt(n(t[a],a,t)))?--i:o+=e;if(i)return o/i}(e))}function ma(t,n){let e=0,r=new Array(n.numOfBins+1);for(let t=0;t<n.numOfBins;t++)r[t]={name:e,minNum:n.min+t*n.binWidth,maxNum:n.min+(t+1)*n.binWidth,count:0},e++;for(let e=0;e<t.length;e++){const i=t[e];null!==i&&r[Math.floor((i-n.min)/n.binWidth)].count++}return r[r.length-1]={name:"miss",count:t.filter(t=>null===t).length},r}function va(t){const n=(t=>(t=>{t.sort(Pt);const n=Xt(t,.25);return Xt(t,.75)-n})(t)/Math.pow(t.length,1/3)*2)(t.filter(t=>null!==t)),[e,r]=function(t,n){var e,r,i,a=t.length,o=-1;if(null==n){for(;++o<a;)if(null!=(e=t[o])&&e>=e)for(r=i=e;++o<a;)null!=(e=t[o])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++o<a;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=i=e;++o<a;)null!=(e=n(t[o],o,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}(t);return{binWidth:n,min:e,numOfBins:Math.ceil(Math.abs(e-r)/n)}}function ya(t,n){const e=[];for(let n=0;n<t.length;n++)e.push(n);const r=()=>{const t=Math.floor(Math.random()*e.length);return e.splice(t,1)[0]},i=[];for(let e=0;e<n;e++)i.push(t[r()]);return i}function wa(t){let n,e,r,i,h,f,d,g,p;const m=new ia({props:{x:0,y:0,width:.7,height:.05,convergence:t[2]}});function v(n){t[14].call(null,n)}function y(n){t[15].call(null,n)}function w(n){t[16].call(null,n)}function x(n){t[17].call(null,n)}function _(n){t[18].call(null,n)}function M(n){t[19].call(null,n)}let $={x:0,y:.05,width:.7,height:.95,columns:t[0].columns,columnTypes:t[0].types,columnsWithMissingValues:t[13],crossdata:t[7],refine:t[12]};void 0!==t[1]&&($.arcdata=t[1]),void 0!==t[2]&&($.convergence=t[2]),void 0!==t[4]&&($.selectedSamplingVariables=t[4]),void 0!==t[5]&&($.selectedMeasurementVariables=t[5]),void 0!==t[3]&&($.selectedRatioInterval=t[3]),void 0!==t[6]&&($.hoveredPair=t[6]);const S=new na({props:$});function T(n){t[20].call(null,n)}b.push(()=>C(S,"arcdata",v)),b.push(()=>C(S,"convergence",y)),b.push(()=>C(S,"selectedSamplingVariables",w)),b.push(()=>C(S,"selectedMeasurementVariables",x)),b.push(()=>C(S,"selectedRatioInterval",_)),b.push(()=>C(S,"hoveredPair",M));let R={x:.7,y:0,width:.3,height:1,binsMatrix:t[11],columns:t[0].columns,crossdata:t[7],renderList:t[8],selectedSamplingVariables:t[4],selectedMeasurementVariables:t[5],selectedRatioInterval:t[3]};void 0!==t[6]&&(R.hoveredPair=t[6]);const I=new ca({props:R});return b.push(()=>C(I,"hoveredPair",T)),{c(){n=o("svg"),k(m.$$.fragment),k(S.$$.fragment),k(I.$$.fragment),this.h()},l(t){n=l(t,"svg",{width:!0,height:!0},1);var e=s(n);A(m.$$.fragment,e),A(S.$$.fragment,e),A(I.$$.fragment,e),e.forEach(u),this.h()},h(){c(n,"width",t[9]),c(n,"height",t[10])},m(t,e){a(t,n,e),E(m,n,null),E(S,n,null),E(I,n,null),p=!0},p(t,[a]){const o={};4&a&&(o.convergence=t[2]),m.$set(o);const l={};1&a&&(l.columns=t[0].columns),1&a&&(l.columnTypes=t[0].types),128&a&&(l.crossdata=t[7]),!e&&2&a&&(e=!0,l.arcdata=t[1],P(()=>e=!1)),!r&&4&a&&(r=!0,l.convergence=t[2],P(()=>r=!1)),!i&&16&a&&(i=!0,l.selectedSamplingVariables=t[4],P(()=>i=!1)),!h&&32&a&&(h=!0,l.selectedMeasurementVariables=t[5],P(()=>h=!1)),!f&&8&a&&(f=!0,l.selectedRatioInterval=t[3],P(()=>f=!1)),!d&&64&a&&(d=!0,l.hoveredPair=t[6],P(()=>d=!1)),S.$set(l);const s={};1&a&&(s.columns=t[0].columns),128&a&&(s.crossdata=t[7]),256&a&&(s.renderList=t[8]),16&a&&(s.selectedSamplingVariables=t[4]),32&a&&(s.selectedMeasurementVariables=t[5]),8&a&&(s.selectedRatioInterval=t[3]),!g&&64&a&&(g=!0,s.hoveredPair=t[6],P(()=>g=!1)),I.$set(s),(!p||512&a)&&c(n,"width",t[9]),(!p||1024&a)&&c(n,"height",t[10])},i(t){p||(N(m.$$.fragment,t),N(S.$$.fragment,t),N(I.$$.fragment,t),p=!0)},o(t){V(m.$$.fragment,t),V(S.$$.fragment,t),V(I.$$.fragment,t),p=!1},d(t){t&&u(n),j(m),j(S),j(I)}}}function ba(t,n,e){let r,i;$(t,L,t=>e(9,r=t)),$(t,D,t=>e(10,i=t));let{data:a}=n,[o,l,s]=function(t,n,e){const r=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null)),i=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null));for(let a=0;a<n.length;a++){const o=n[a],l=Ft(t.map(t=>null===t[o]));if(r[a][a]=l,0!==l)for(let s=0;s<n.length;s++){if(a===s)continue;const u=n[s];let c=t.map(t=>t[u]),h=t.filter(t=>null===t[o]).map(t=>t[u]);if("Quantitative"===e[s]){const n=va(c),e=i[s][s]?i[s][s]:ma(c,n),o=e.map(n=>({...n,count:l/t.length*n.count})),u=ma(h,n);r[a][s]=pa(o,u),null===i[s][s]&&(i[s][s]=e),i[a][s]=[o,u]}else{const n=ga(c),e=i[s][s]?i[s][s]:da(c,n),o=e.map(n=>({...n,count:l/t.length*n.count})),u=da(h,n);r[a][s]=pa(o,u),null===i[s][s]&&(i[s][s]=e),i[a][s]=[o,u]}}}return[fa(t,t.columns,e,r,i),i,(n,a)=>fa(t,t.columns,e,r,i,n,a)]}(a,a.validColumns,a.types);const u=a.columnsWithMissingValues;let c,h,f=100,d=[1,0],g=[],p=[],m=null;return t.$set=(t=>{"data"in t&&e(0,a=t.data)}),t.$$.update=(()=>{1&t.$$.dirty&&e(7,c=function(t,n,e,r){const i=new Array(n.length).fill(0).map(()=>new Array(n.length).fill(null)),a=t=>{const n=t.filter(t=>0!==t);if(n.length<3)return 0;let e=0,r=Math.sign(n[0]);for(let t=1;t<n.length-1;t++)r!==Math.sign(n[t])&&(e++,r*=-1);return Math.max(e-1,0)/(n.length-2)};for(let o=0;o<n.length;o++)for(let l=0;l<n.length;l++)if(o!==l&&e.includes(n[o])&&("Ordinal"===r[l]||"Quantitative"===r[l])){const n=t[o][l][0].map(t=>t.count),e=t[o][l][1].map(t=>t.count),r=n.map((t,n)=>t-e[n]);i[o][l]=a(r)}return i}(l,a.validColumns,a.columnsWithMissingValues,a.types)),58&t.$$.dirty&&e(8,h=function(t,n,e,r){const i=[];for(let a=0;a<t.length;a++)for(let o=0;o<t[0].length;o++)a===o||null===t[a][o]||!ha(t[a][o],n)||0!==e.length&&!e.includes(a)||0!==r.length&&!r.includes(o)||i.push([a,o]);return i}(o,d,g,p)),64&t.$$.dirty&&console.log(m)}),[a,o,f,d,g,p,m,c,h,r,i,l,s,u,function(t){e(1,o=t)},function(t){e(2,f=t)},function(t){e(4,g=t)},function(t){e(5,p=t)},function(t){e(3,d=t)},function(t){e(6,m=t)},function(t){e(6,m=t)}]}class xa extends n{constructor(t){super(),e(this,t,ba,wa,r,{data:0})}}function _a(t){let n,e,r,i,o,p,v,w,b,x,$,k,A,E,N,V,j;return{c(){n=I("form"),e=I("div"),r=I("label"),i=h("Upload Data"),o=f(),p=I("input"),v=f(),w=I("div"),b=I("label"),x=h("Missing Encoding"),$=f(),k=I("input"),A=f(),E=I("div"),N=I("button"),V=h("Start"),this.h()},l(t){n=l(t,"FORM",{});var a=s(n);e=l(a,"DIV",{});var c=s(e);r=l(c,"LABEL",{for:!0});var h=s(r);i=d(h,"Upload Data"),h.forEach(u),o=g(c),p=l(c,"INPUT",{type:!0}),c.forEach(u),v=g(a),w=l(a,"DIV",{});var f=s(w);b=l(f,"LABEL",{for:!0});var m=s(b);x=d(m,"Missing Encoding"),m.forEach(u),$=g(f),k=l(f,"INPUT",{type:!0,placeholder:!0}),f.forEach(u),A=g(a),E=l(a,"DIV",{});var y=s(E);N=l(y,"BUTTON",{type:!0});var _=s(N);V=d(_,"Start"),_.forEach(u),y.forEach(u),a.forEach(u),this.h()},h(){c(r,"for","example"),c(p,"type","file"),c(b,"for","example"),c(k,"type","text"),c(k,"placeholder","ex.: | ,, | null | miss | ?"),c(N,"type","button")},m(l,s){a(l,n,s),m(n,e),m(e,r),m(r,i),m(e,o),m(e,p),m(n,v),m(n,w),m(w,b),m(b,x),m(w,$),m(w,k),z(k,t[1]),m(n,A),m(n,E),m(E,N),m(N,V),j=[_(p,"change",t[7]),_(k,"input",t[8]),_(N,"click",t[5])]},p(t,n){2&n&&k.value!==t[1]&&z(k,t[1])},i:y,o:y,d(t){t&&u(n),M(j)}}}function Ma(t){let n,e,r,o={ctx:t,current:null,token:null,pending:Aa,then:ka,catch:$a,value:9,error:10,blocks:[,,,]};return B(e=t[4](t[3],t[1]),o),{c(){n=i(),o.block.c()},l(t){n=i(),o.block.l(t)},m(t,e){a(t,n,e),o.block.m(t,o.anchor=e),o.mount=(()=>n.parentNode),o.anchor=n,r=!0},p(n,r){if(t=n,o.ctx=t,10&r&&e!==(e=t[4](t[3],t[1]))&&B(e,o));else{const n=t.slice();n[9]=o.resolved,o.block.p(n,r)}},i(t){r||(N(o.block),r=!0)},o(t){for(let t=0;t<3;t+=1){const n=o.blocks[t];V(n)}r=!1},d(t){t&&u(n),o.block.d(t),o.token=null,o=null}}}function $a(t){let n,e,r=t[10].message+"";return{c(){n=I("p"),e=h(r),this.h()},l(t){n=l(t,"P",{style:!0});var i=s(n);e=d(i,r),i.forEach(u),this.h()},h(){O(n,"color","red")},m(t,r){a(t,n,r),m(n,e)},p(t,n){10&n&&r!==(r=t[10].message+"")&&v(e,r)},i:y,o:y,d(t){t&&u(n)}}}function ka(t){let n;const e=new xa({props:{data:t[9]}});return{c(){k(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};10&n&&(r.data=t[9]),e.$set(r)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Aa(t){let n,e;return{c(){n=I("p"),e=h("...parsing data")},l(t){n=l(t,"P",{});var r=s(n);e=d(r,"...parsing data"),r.forEach(u)},m(t,r){a(t,n,r),m(n,e)},p:y,i:y,o:y,d(t){t&&u(n)}}}function Ea(t){let n,e,r,o,l;const s=[Ma,_a],c=[];function h(t,n){return t[2]?0:1}return e=h(t),r=c[e]=s[e](t),{c(){n=f(),r.c(),o=i(),this.h()},l(t){R('[data-svelte="svelte-1gugf0w"]',document.head).forEach(u),n=g(t),r.l(t),o=i(),this.h()},h(){document.title="Missing values diagnosis"},m(t,r){a(t,n,r),c[e].m(t,r),a(t,o,r),l=!0},p(t,[n]){let i=e;(e=h(t))===i?c[e].p(t,n):(S(),V(c[i],1,1,()=>{c[i]=null}),T(),(r=c[e])||(r=c[e]=s[e](t)).c(),N(r,1),r.m(o.parentNode,o))},i(t){l||(N(r),l=!0)},o(t){V(r),l=!1},d(t){t&&u(n),c[e].d(t),t&&u(o)}}}function Na(t,n,e){let r,i,a=!1;let o;return t.$$.update=(()=>{1&t.$$.dirty&&e(3,o=r&&r[0])}),[r,i,a,o,async(t,n)=>{const e=await new Promise((n,e)=>{const r=new FileReader;r.onerror=e,r.onload=(t=>{const e=t.target.result;n(e)}),r.readAsText(t,"UTF-8")}),r=new RegExp(`${"?"===n?"\\?":n}`,"gi"),i=",,"===n?e:e.replace(r,""),a=await Ai(i,Ei);return a.types=a.columns.map(t=>{const n=a.map(n=>n[t]);return ga(n).length<30?n.some(t=>"number"==typeof t)?"Ordinal":"Categorical":n.some(t=>"number"==typeof t)?"Quantitative":"Nominal"}),a.validColumns=a.columns.filter((t,n)=>"Nominal"!==a.types[n]),a.columnsWithMissingValues=a.columns.filter(t=>a.map(n=>n[t]).some(t=>null===t)),console.log(a.types),a},()=>{i&&o?e(2,a=!0):i?alert("Please specify data"):o?alert("Please specify missing encoding"):alert("Please specify data and missing encoding")},void 0,function(){r=this.files,e(0,r)},function(){i=this.value,e(1,i)}]}export default class extends n{constructor(t){super(),e(this,t,Na,Ea,r,{})}}
